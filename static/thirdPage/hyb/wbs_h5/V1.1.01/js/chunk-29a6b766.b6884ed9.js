(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29a6b766"],{"1e0f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAJFBMVEWhoaGZmZmbm5uYmJiZmZmZmZmZmZn////u7u6np6fV1dW5ubl2FsB5AAAABnRSTlMBkhQr17zp8WXyAAABFUlEQVQ4y82VSw6CMBCG6w1MTLyHG4/AEdwbkQjsLeje6gWI8QA0xr2QeDnbaQNt6czSOAtYfJnXP5MpY2yVZBFLF0zZLENsruAGg3vCUbuucbhjSxxuWYLDlGWE/RF8EbA/47DgNQ4FP6LwznGYC84vGFSOKNSOKDxwAkoNkYIKzbA+O4CIQgJgFYUmKn9GoYl6C0eWwxfYaTLPrh2ivkPYQ/nd2IcDHyaYrrVqAlhqj8b86mCHSuiuBV1HRwul1azzHC2EMSlZ3FKdnEA/g6p+tdDgFRJHltroNojjQ5PWrsBEPlgPpw9/KjIox4NFUI4/T2kXIAoLV53JJoiWgI8fHQzyvJGHkTyp5DEmzzj9ABBPxxdNdnm+JCTT8gAAAABJRU5ErkJggg=="},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"63a1":function(t,e,a){"use strict";a.r(e);var i,s,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order_loss_ensure_box"},[i("v-header",{attrs:{title:"运费保障",backFn:t.backHandle}}),i("div",{staticClass:"content"},[i("div",{staticClass:"people_box"},[i("div",{staticClass:"card"},[i("div",{staticClass:"text"},[t._v("当前司机已购买并享受运费保障")]),i("div",{staticClass:"num"},[i("myCountTo",{attrs:{box:"",startVal:0,endVal:t.byLossEnsureNum,duration:3e3,separator:""}}),t._v("人\n        ")],1)])]),t._m(0),i("div",{staticClass:"tips_box"},[t._v("\n      运费保障可保障您"+t._s(t.lossEnsureQouta)+"元的货损损失，"+t._s(t.lossEnsureMoney)+"元的运费保障费将直接从您的运费中扣除。\n    ")]),i("div",{staticClass:"btn_box"},[i("van-button",{attrs:{size:"large",type:"primary"},on:{click:t.submit}},[t._v("知道了")])],1),i("div",{staticClass:"select_box",on:{click:function(e){return t.handleSelect()}}},[i("div",{staticClass:"select"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.selected,expression:"selected"}],attrs:{src:a("a0ca"),alt:""}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.selected,expression:"!selected"}],attrs:{src:a("1e0f"),alt:""}})]),i("div",{staticClass:"text"},[t._v("购买运费保障")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips_box"},[t._v("\n      本趟"),a("span",{staticClass:"red"},[t._v("运输货物风险高")]),t._v("，货物"),a("span",{staticClass:"red"},[t._v("受损可能性极大")]),t._v("，中外运物流建议您购买"),a("span",{staticClass:"red"},[t._v("【运费保障】服务")]),t._v("。\n    ")])}],l=(a("c5f6"),a("2f14")),o=a("22b6"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.box?a("span",{staticClass:"box"},t._l(t.endVal.toString().length,(function(e,i){return a("span",{key:i,staticClass:"item"},[t._v(t._s(t.displayValue[i]))])})),0):a("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},c=[],h=(a("6b54"),a("a481"),a("28a5"),0),d="webkit moz ms o".split(" "),f="undefined"===typeof window;if(f)i=function(){},s=function(){};else{var p;i=window.requestAnimationFrame,s=window.cancelAnimationFrame;for(var m=0;m<d.length;m++){if(i&&s)break;p=d[m],i=i||window[p+"RequestAnimationFrame"],s=s||window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"]}i&&s||(i=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-h)),i=window.setTimeout((function(){t(e+a)}),a);return h=e+a,i},s=function(t){window.clearTimeout(t)})}var b={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e}},box:{type:Boolean,required:!1,default:!1}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=i(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){s(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,i(this.count)},reset:function(){this.startTime=null,s(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=i(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],i=e.length>1?this.decimal+e[1]:"",s=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))while(s.test(a))a=a.replace(s,"$1"+this.separator+"$2");var n=a+i;if(this.box)while(n.length<this.endVal.toString().length)n=" "+n;return this.prefix+n+this.suffix}},destroyed:function(){s(this.rAF)}},A=b,g=(a("6458"),a("2877")),v=Object(g["a"])(A,u,c,!1,null,"49917666",null),y=v.exports,x={components:{myCountTo:y},props:{},name:"order_loss_ensure",data:function(){return{taxWaybillId:this.$route.query.tax_waybill_id||"",fromType:this.$route.query.from_type||"",waybillFlag:this.$route.query.waybill_flag||"",lossEnsureMoney:this.$route.query.loss_ensure_money||"0",lossEnsureQouta:this.$route.query.loss_nsure_qouta||"0",byLossEnsureNum:Number(this.$route.query.by_loss_ensure_num)||0,selected:!0}},watch:{},computed:{},beforeRouteLeave:function(t,e,a){"order_success"!==t.name&&this.backHandle(),a()},methods:{backHandle:function(){Object(l["b"])({logItemId:"151",logExplain:"运费保障页面-点击返回箭头",expandInfo:{taxWaybillId:this.taxWaybillId}}),this.selected?this.submitLossEnsureInsure():this.goReceivingSucess("0")},submitLossEnsureInsure:function(){var t=this;this.$_lossEnsureInsure().then((function(){t.goReceivingSucess("1")}))},submit:function(){Object(l["b"])({logItemId:"150",logExplain:"运费保障页面-点击知道了",expandInfo:{taxWaybillId:this.taxWaybillId}}),this.selected?this.submitLossEnsureInsure():this.goReceivingSucess("0")},handleSelect:function(){var t=this;this.selected=!this.selected,this.$nextTick((function(){t.selected||(Object(l["b"])({logItemId:"152",logExplain:"运费保障页面-司机取消、选中勾选",expandInfo:{taxWaybillId:t.taxWaybillId}}),t.$dialog.confirm({title:" ",message:"本趟运输的货物容易发生货损，您若坚持取消，如果发生货损您将自己承担运费损失，请慎重选择！",confirmButtonText:"继续享受",cancelButtonText:"不享受"}).then((function(){Object(l["b"])({logItemId:"154",logExplain:"运费保障弹窗-点击继续享受",expandInfo:{taxWaybillId:t.taxWaybillId}}),t.submitLossEnsureInsure()})).catch((function(){Object(l["b"])({logItemId:"153",logExplain:"运费保障弹窗-点击不享受",expandInfo:{taxWaybillId:t.taxWaybillId}})})))}))},goReceivingSucess:function(t){Object(l["h"])("/order_success?from_type=".concat(this.fromType,"&tax_waybill_id=").concat(this.taxWaybillId,"&waybill_flag=").concat(this.waybillFlag,"&show_loss_ensure=").concat(t),this)},$_lossEnsureInsure:function(){var t=this;return new Promise((function(e,a){t.$toast.loading({message:"加载中"}),Object(o["a"])({sid:"925028",data:{taxWaybillId:t.taxWaybillId},encrypt:"0"}).then((function(t){"0"===t.data.reCode?e():a(new Error("投保失败！"))})).catch((function(){a(new Error("投保失败！"))}))}))}},created:function(){},mounted:function(){}},V=x,w=(a("87f1"),Object(g["a"])(V,n,r,!1,null,"424ebaac",null));e["default"]=w.exports},6458:function(t,e,a){"use strict";var i=a("6a93"),s=a.n(i);s.a},"6a93":function(t,e,a){},"6b54":function(t,e,a){"use strict";a("3846");var i=a("cb7c"),s=a("0bfb"),n=a("9e1e"),r="toString",l=/./[r],o=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?o((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?s.call(t):void 0)})):l.name!=r&&o((function(){return l.call(this)}))},"83b4":function(t,e,a){},"87f1":function(t,e,a){"use strict";var i=a("83b4"),s=a.n(i);s.a},a0ca:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAJFBMVEWFqv+Rr/+Rrv+Rrv+Qrv+Rr/+Rrv/////w9P+nvv/Y4//B0f9f5Lt0AAAABnRSTlMBkvnXK7zJM9gSAAABFklEQVQ4y73VsQ6CMBAA0PoHDsYf0PgBDu76Ee5qJFp3D3EX+QEgcZf4A6B/J1wbaEvvJmMXhpe7ctdyCCGW88CzJiNRr0FArGGNawr3TGATuqJxKsY0bsSCxp2Y0bgVAbP+ix8G8wuNEhiM4UxiDnCj8BgzWAeS2ASSeAAGiwaJtz01RtWZIV79iAahF6XClxcrtMR/ZHG3o4nvss1auphjbZmRtMM6JNJZw9RBLD1Vj8S5Q9hseGJfu0CNle5Z1XbOjMRuR7hl2ruaKu/DqNF5W4C7UaNVpzoNrKePKrG+Ar32YWKjDrvxhV2HjRL7QH1lhb4AXpROVvuwi5JB+buZwA4pdryxg5EdqewwZsc4/wNgfh1f0aN3redgjsgAAAAASUVORK5CYII="},aa77:function(t,e,a){var i=a("5ca1"),s=a("be13"),n=a("79e5"),r=a("fdef"),l="["+r+"]",o="​",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),h=function(t,e,a){var s={},l=n((function(){return!!r[t]()||o[t]()!=o})),u=s[t]=l?e(d):r[t];a&&(s[a]=u),i(i.P+i.F*l,"String",s)},d=h.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},c5f6:function(t,e,a){"use strict";var i=a("7726"),s=a("69a8"),n=a("2d95"),r=a("5dbc"),l=a("6a99"),o=a("79e5"),u=a("9093").f,c=a("11e9").f,h=a("86cc").f,d=a("aa77").trim,f="Number",p=i[f],m=p,b=p.prototype,A=n(a("2aeb")(b))==f,g="trim"in String.prototype,v=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():d(e,3);var a,i,s,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+e}for(var r,o=e.slice(2),u=0,c=o.length;u<c;u++)if(r=o.charCodeAt(u),r<48||r>s)return NaN;return parseInt(o,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(A?o((function(){b.valueOf.call(a)})):n(a)!=f)?r(new m(v(e)),a,p):v(e)};for(var y,x=a("9e1e")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),V=0;x.length>V;V++)s(m,y=x[V])&&!s(p,y)&&h(p,y,c(m,y));p.prototype=b,b.constructor=p,a("2aba")(i,f,p)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);