(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22161565"],{"44f5":function(e,a,t){"use strict";var l=t("4516"),s=t.n(l);s.a},4516:function(e,a,t){},"502e":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"business-audit"},[t("div",{staticClass:"search-box border-box"},[t("el-form",{ref:"searchFormRef",attrs:{model:e.searchForm,"label-width":"93px",size:"mini"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"订单号:"}},[t("el-input",{model:{value:e.searchForm.orderNum,callback:function(a){e.$set(e.searchForm,"orderNum",a)},expression:"searchForm.orderNum"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"运单号:"}},[t("el-input",{model:{value:e.searchForm.waybillNum,callback:function(a){e.$set(e.searchForm,"waybillNum",a)},expression:"searchForm.waybillNum"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"司机姓名:"}},[t("el-input",{model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"司机手机号:"}},[t("el-input",{model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1)],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}]},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"车牌号:"}},[t("el-input",{model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"收款人:"}},[t("el-input",{model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"建单时间:"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择建单时间"},model:{value:e.searchForm.createdTimeB,callback:function(a){e.$set(e.searchForm,"createdTimeB",a)},expression:"searchForm.createdTimeB"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"-","label-width":"15px"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择建单时间"},model:{value:e.searchForm.createdTimeE,callback:function(a){e.$set(e.searchForm,"createdTimeE",a)},expression:"searchForm.createdTimeE"}})],1)],1),t("el-col",{staticClass:"date_select",attrs:{span:2}},[t("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){return e.changeDateRange(a,"create")}},model:{value:e.value1,callback:function(a){e.value1=a},expression:"value1"}},[t("el-option",{attrs:{label:"当日",value:"thisDay"}}),t("el-option",{attrs:{label:"本周",value:"thisWeek"}}),t("el-option",{attrs:{label:"本月",value:"thisMonth"}}),t("el-option",{attrs:{label:"上月",value:"lastMonth"}})],1)],1)],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}]},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"支付状态:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择支付状态"},model:{value:e.searchForm.pay_state,callback:function(a){e.$set(e.searchForm,"pay_state",a)},expression:"searchForm.pay_state"}},[t("el-option",{attrs:{label:"全部",value:"-1"}}),t("el-option",{attrs:{label:"核实中",value:"5"}}),t("el-option",{attrs:{label:"业务审核",value:"7"}}),t("el-option",{attrs:{label:"预申请",value:"3"}}),t("el-option",{attrs:{label:"已申请",value:"1"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"跟踪状态:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择支付状态"},model:{value:e.searchForm.state,callback:function(a){e.$set(e.searchForm,"state",a)},expression:"searchForm.state"}},[t("el-option",{attrs:{label:"全部",value:"-1"}}),t("el-option",{attrs:{label:"未追踪",value:"0"}}),t("el-option",{attrs:{label:"跟踪中",value:"1"}}),t("el-option",{attrs:{label:"已终结",value:"2"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"申请时间:"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择申请时间"},model:{value:e.searchForm.applyTimeB,callback:function(a){e.$set(e.searchForm,"applyTimeB",a)},expression:"searchForm.applyTimeB"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"-","label-width":"15px"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择申请时间"},model:{value:e.searchForm.applyTimeE,callback:function(a){e.$set(e.searchForm,"applyTimeE",a)},expression:"searchForm.applyTimeE"}})],1)],1),t("el-col",{staticClass:"date_select",attrs:{span:2}},[t("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){return e.changeDateRange(a,"apply")}},model:{value:e.value2,callback:function(a){e.value2=a},expression:"value2"}},[t("el-option",{attrs:{label:"当日",value:"thisDay"}}),t("el-option",{attrs:{label:"本周",value:"thisWeek"}}),t("el-option",{attrs:{label:"本月",value:"thisMonth"}}),t("el-option",{attrs:{label:"上月",value:"lastMonth"}})],1)],1)],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}]},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"支付方式:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择支付状态"},model:{value:e.searchForm.pay_state,callback:function(a){e.$set(e.searchForm,"pay_state",a)},expression:"searchForm.pay_state"}},[t("el-option",{attrs:{label:"全部",value:"-1"}}),t("el-option",{attrs:{label:"核实中",value:"5"}}),t("el-option",{attrs:{label:"业务审核",value:"7"}}),t("el-option",{attrs:{label:"预申请",value:"3"}}),t("el-option",{attrs:{label:"已申请",value:"1"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"本页显示笔数:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择支付状态"},model:{value:e.searchForm.state,callback:function(a){e.$set(e.searchForm,"state",a)},expression:"searchForm.state"}},[t("el-option",{attrs:{label:"全部",value:"-1"}}),t("el-option",{attrs:{label:"未追踪",value:"0"}}),t("el-option",{attrs:{label:"跟踪中",value:"1"}}),t("el-option",{attrs:{label:"已终结",value:"2"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"审核时间:"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择审核时间"},model:{value:e.searchForm.checkTimeB,callback:function(a){e.$set(e.searchForm,"checkTimeB",a)},expression:"searchForm.checkTimeB"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"-","label-width":"15px"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择审核时间"},model:{value:e.searchForm.checkTimeE,callback:function(a){e.$set(e.searchForm,"checkTimeE",a)},expression:"searchForm.checkTimeE"}})],1)],1),t("el-col",{staticClass:"date_select",attrs:{span:2}},[t("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){return e.changeDateRange(a,"check")}},model:{value:e.value3,callback:function(a){e.value3=a},expression:"value3"}},[t("el-option",{attrs:{label:"当日",value:"thisDay"}}),t("el-option",{attrs:{label:"本周",value:"thisWeek"}}),t("el-option",{attrs:{label:"本月",value:"thisMonth"}}),t("el-option",{attrs:{label:"上月",value:"lastMonth"}})],1)],1)],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}]},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"申请人:"}},[t("el-input",{model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"支付运费结构:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择支付运费结构"},model:{value:e.searchForm.payFreightStruct,callback:function(a){e.$set(e.searchForm,"payFreightStruct",a)},expression:"searchForm.payFreightStruct"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"到付金",value:"1"}}),t("el-option",{attrs:{label:"预付金",value:"2"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"支付时间:"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择支付时间"},model:{value:e.searchForm.payTimeB,callback:function(a){e.$set(e.searchForm,"payTimeB",a)},expression:"searchForm.payTimeB"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"-","label-width":"15px"}},[t("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"选择支付时间"},model:{value:e.searchForm.payTimeE,callback:function(a){e.$set(e.searchForm,"payTimeE",a)},expression:"searchForm.payTimeE"}})],1)],1),t("el-col",{staticClass:"date_select",attrs:{span:2}},[t("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){return e.changeDateRange(a,"pay")}},model:{value:e.value4,callback:function(a){e.value4=a},expression:"value4"}},[t("el-option",{attrs:{label:"当日",value:"thisDay"}}),t("el-option",{attrs:{label:"本周",value:"thisWeek"}}),t("el-option",{attrs:{label:"本月",value:"thisMonth"}}),t("el-option",{attrs:{label:"上月",value:"lastMonth"}})],1)],1)],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}]},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"资金方式:"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择资金方式"},model:{value:e.searchForm.advancePayState,callback:function(a){e.$set(e.searchForm,"advancePayState",a)},expression:"searchForm.advancePayState"}},[t("el-option",{attrs:{label:"全部",value:"-1"}}),t("el-option",{attrs:{label:"供应链金融",value:"1"}}),t("el-option",{attrs:{label:"企业自付",value:"0"}})],1)],1)],1)],1),t("el-row",[t("el-col",{staticClass:"align-center",attrs:{span:24}},[e.showMore?t("div",{staticClass:"block-control"},[t("i",{staticClass:"el-icon-caret-top"}),t("span",{on:{click:function(a){e.showMore=!e.showMore}}},[e._v("收起")])]):t("div",{staticClass:"block-control"},[t("i",{staticClass:"el-icon-caret-bottom"}),t("span",{on:{click:function(a){e.showMore=!e.showMore}}},[e._v("展开更多")])])]),t("el-col",{staticClass:"align-center",attrs:{span:24}},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("搜索")]),t("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("导出")])],1)],1)],1)],1),e._m(0),t("div",{staticClass:"table-area"},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.selectable}}),t("el-table-column",{attrs:{label:"支付单信息",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("p",[e._v("3600141153")]),t("p",[e._v("总金额:"),t("span",{staticClass:"important-num"},[e._v(e._s(a.row.allFreight))])]),t("p",[e._v("普通运费")]),t("p",[e._v("方式:平安银行")])])]}}])}),t("el-table-column",{attrs:{label:"运单信息",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("a",{staticClass:"link",on:{click:function(t){return e.viewWaybill(a.row)}}},[e._v(e._s(a.row.taxWaybillNo))]),t("p",[e._v(e._s(a.row.startPlace))]),t("p",[e._v(e._s(a.row.endPlace))]),t("p",[e._v(e._s(a.row.startTime))])])]}}])}),t("el-table-column",{attrs:{label:"银行信息"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("p",[e._v(e._s(a.row.payName))]),t("p",[e._v(e._s(a.row.payBankNo))]),t("p",[e._v(e._s(a.row.payBankName))]),t("p",[e._v("江苏南京")])])]}}])}),t("el-table-column",{attrs:{label:"司机信息"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("p",[e._v(e._s(a.row.driverName))]),t("p",[e._v(e._s(a.row.mobileNo))]),t("p",[e._v(e._s(a.row.cartBadgeNo))]),t("p",[e._v("江苏南京")])])]}}])}),t("el-table-column",{attrs:{prop:"allFreight",label:"运费信息","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"跟踪状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("p",[e._v("已终结")]),t("a",{staticClass:"link",on:{click:function(t){return e.viewTrace(a.row)}}},[e._v("查看轨迹")])])]}}])}),t("el-table-column",{attrs:{label:"支付状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",["0"==a.row.applyState?[a.row.refusedReason?e._e():t("p",[e._v("未支付")]),a.row.refusedReason?t("p",[e._v("业务审核：不通过")]):e._e(),a.row.refusedReason?t("p",[e._v(e._s(a.row.refusedReason))]):e._e()]:e._e(),"1"==a.row.applyState?t("p",[e._v("业务审核：待审核")]):e._e(),"2"==a.row.applyState?t("p",[e._v("业务审核：通过")]):e._e(),"3"==a.row.applyState?t("p",[e._v("已支付")]):e._e()],2)]}}])}),t("el-table-column",{attrs:{label:"申请人"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("p",[e._v("管理员")])])]}}])}),t("el-table-column",{attrs:{prop:"startTime",label:"时间"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return["1"==a.row.applyState?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick("2")}}},[e._v("通过")]):e._e(),"1"==a.row.applyState?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick("0")}}},[e._v("不通过")]):e._e()]}}])})],1)],1),t("footer",{staticClass:"footer-btn"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.checkOperate("2")}}},[e._v("确认通过")]),t("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){return e.checkOperate("0")}}},[e._v("不通过")])],1),t("el-dialog",{attrs:{title:e.dialog.title,width:"600px",visible:e.dialog.visible,center:e.dialog.isCenter},on:{"update:visible":function(a){return e.$set(e.dialog,"visible",a)},closed:e.handleClose}},["waybill"===e.dialog.type?t("waybill-detail",{ref:"waybillDetailRef"}):e._e(),"trace"===e.dialog.type?t("map-trace",{ref:"mapTraceRef"}):e._e(),"confirm"==e.dialog.type?t("div",{staticClass:"confirm-box"},[t("div",{staticClass:"note"},[e._v("注：审核不通过原因必填，字数必须在32字以内！")]),t("div",{staticClass:"align-center pt15"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.refused}},[e._v("确认")]),t("el-button",{attrs:{size:"small"},on:{click:e.cancelRefuse}},[e._v("取消")])],1)]):e._e(),"refuse"==e.dialog.type?t("div",{staticClass:"refuse-box"},[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.refusedReason,callback:function(a){e.refusedReason=a},expression:"refusedReason"}}),t("div",{staticClass:"note"},[e._v("注：审核不通过原因必填，字数必须在32字以内！")]),t("div",{staticClass:"align-center pt15"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.refused}},[e._v("确认")]),t("el-button",{attrs:{size:"small"},on:{click:e.cancelRefuse}},[e._v("取消")])],1)],1):e._e()],1)],1)},s=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"amount-desc border-box"},[t("div",{staticClass:"classification"},[t("span",[e._v("预申请："),t("a",[e._v("0.00")]),e._v("元")]),t("span",[e._v("业务审核："),t("a",[e._v("117.26")]),e._v("元")]),t("span",[e._v("已申请："),t("a",[e._v("0.00")]),e._v("元")]),t("span",[e._v("已支付："),t("a",[e._v("700.00")]),e._v("元")]),t("span",[e._v("已到账："),t("a",[e._v("0.00")]),e._v("元")])]),t("div",{staticClass:"sum"},[t("span",[e._v("合计："),t("a",[e._v("866.10")]),e._v("元")])])])}],r=(t("8e6e"),t("ac6a"),t("456d"),t("ade3")),i=t("2f62"),o=(t("ce6c"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"waybill-detail"},[t("el-row",{staticClass:"detail-row",attrs:{gutter:5}},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运单号:")]),e._v(e._s(e.waybillData.taxWaybillNo)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("司机手机号:")]),e._v(e._s(e.waybillData.mobileNo)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("司机姓名:")]),e._v(e._s(e.waybillData.driverName)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("车牌号:")]),e._v(e._s(e.waybillData.cartBadgeNo)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("始发城市:")]),e._v(e._s(e.waybillData.startPlace)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("目的城市:")]),e._v(e._s(e.waybillData.endPlace)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("货物名称:")]),e._v(e._s(e.waybillData.goodsId)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("货物数量:")]),e._v(e._s(e.waybillData.goodsAmount)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运输单价:")]),e._v(e._s(e.waybillData.unitPrice)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运费金额:")]),e._v(e._s(e.waybillData.allFreight)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("预付款:")]),e._v(e._s(e.waybillData.prepayments)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("回单押金:")]),e._v(e._s(e.waybillData.backFee)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运费增补:")]),e._v(e._s(e.waybillData.freightIncr)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运费扣减:")]),e._v(e._s(e.waybillData.freightIncr)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("运费保障费:")]),e._v(e._s(e.waybillData.freightIncr)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("受票方:")]),e._v(e._s(e.waybillData.drawee)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("备注:")]),e._v(e._s(e.waybillData.note)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("建单人:")]),e._v(e._s(e.waybillData.name)+"\n    ")])],1),t("el-row",{staticClass:"detail-row"},[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("起运时间:")]),e._v(e._s(e.waybillData.wayTime)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("建单时间:")]),e._v(e._s(e.waybillData.createTime)+"\n    ")]),t("el-col",{attrs:{span:8}},[t("span",{staticClass:"title"},[e._v("供应商:")]),e._v(e._s(e.waybillData.payName)+"\n    ")])],1)],1)}),c=[],n={name:"WaybillDetail",components:{},props:{},data:function(){return{waybillData:{name:"管理员",taxWaybillNo:"",mobileNo:"",driverName:"",cartBadgeNo:"",startPlace:"",endPlace:"",goodsId:"",goodsAmount:"",unitPrice:"",allFreight:"",prepayments:"",backFee:"",payName:"",freightIncr:"",drawee:"",note:"",wayTime:"2020-09-27 11:40",createTime:"2020-09-27 11:40:40"}}},computed:{},created:function(){},mounted:function(){},methods:{transferData:function(e){this.waybillData.taxWaybillNo=e.taxWaybillNo,this.waybillData.mobileNo=e.mobileNo,this.waybillData.driverName=e.driverName,this.waybillData.cartBadgeNo=e.cartBadgeNo,this.waybillData.startPlace=e.startPlace,this.waybillData.endPlace=e.endPlace,this.waybillData.goodsId=e.goodsId,this.waybillData.goodsAmount=e.goodsAmount,this.waybillData.unitPrice=e.unitPrice,this.waybillData.allFreight=e.allFreight,this.waybillData.prepayments=e.prepayments,this.waybillData.backFee=e.backFee,this.waybillData.payName=e.payName,this.waybillData.drawee=e.drawee,this.waybillData.freightIncr=e.freightIncr,this.waybillData.note=e.note}}},p=n,m=(t("9e06"),t("2877")),h=Object(m["a"])(p,o,c,!1,null,"1a00e2fa",null),u=h.exports,b=t("597d"),d=t("9dce"),v=t("4393"),y=t("c466");function f(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function w(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?f(Object(t),!0).forEach((function(a){Object(r["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var _={name:"BusinessAudit",components:{WaybillDetail:u,MapTrace:b["a"]},props:{},data:function(){return{searchForm:{orderNum:"",waybillNum:"",name:"",region:"",createdTimeB:"",createdTimeE:"",applyTimeB:"",applyTimeE:"",checkTimeB:"",checkTimeE:"",payTimeB:"",payTimeE:"",applicant:"",payFreightStruct:"",advancePayState:""},tableData:[],multipleSelection:[],waybillVisible:!1,dialog:{title:"",type:"",visible:!1,isCenter:!1},showMore:!1,refusedReason:"",value1:"",value2:"",value3:"",value4:""}},computed:{taxWaybillId:function(){return this.$store.getters.taxWaybillId}},created:function(){this.showMoreItems()},mounted:function(){this.onBus()},methods:w(w({submitForm:function(){this.$message({message:"功能开发中。。。。",type:"info"})},handleSelectionChange:function(e){this.multipleSelection=e},thisDay:function(e){var a=Object(y["g"])(new Date,"{y}-{m}-{d}");switch(e){case"create":this.searchForm.createdTimeB=a,this.searchForm.createdTimeE=a;break;case"apply":this.searchForm.applyTimeB=a,this.searchForm.applyTimeE=a;break;case"check":this.searchForm.checkTimeB=a,this.searchForm.checkTimeE=a;break;case"pay":this.searchForm.payTimeB=a,this.searchForm.payTimeE=a;break}},thisWeek:function(e){var a=Object(y["f"])(),t=Object(y["e"])();switch(e){case"create":this.searchForm.createdTimeB=a,this.searchForm.createdTimeE=t;break;case"apply":this.searchForm.applyTimeB=a,this.searchForm.applyTimeE=t;break;case"check":this.searchForm.checkTimeB=a,this.searchForm.checkTimeE=t;break;case"pay":this.searchForm.payTimeB=a,this.searchForm.payTimeE=t;break}},thisMonth:function(e){var a=Object(y["d"])(),t=Object(y["c"])();switch(e){case"create":this.searchForm.createdTimeB=a,this.searchForm.createdTimeE=t;break;case"apply":this.searchForm.applyTimeB=a,this.searchForm.applyTimeE=t;break;case"check":this.searchForm.checkTimeB=a,this.searchForm.checkTimeE=t;break;case"pay":this.searchForm.payTimeB=a,this.searchForm.payTimeE=t;break}},lastMonth:function(e){var a=Object(y["b"])(),t=Object(y["a"])();switch(e){case"create":this.searchForm.createdTimeB=a,this.searchForm.createdTimeE=t;break;case"apply":this.searchForm.applyTimeB=a,this.searchForm.applyTimeE=t;break;case"check":this.searchForm.checkTimeB=a,this.searchForm.checkTimeE=t;break;case"pay":this.searchForm.payTimeB=a,this.searchForm.payTimeE=t;break}},handleClick:function(e){var a=this;"2"===e?this.$confirm("你确定要通过审核吗？","消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){a.SET_APPLY_STATE(e);var t=a.$store.getters.taxWaybillInfo;Object(v["a"])(t),a.tableData=[t],a.$message({message:"审核通过",type:"success"})})).catch((function(){})):(this.dialog.type="refuse",this.dialog.title="审核不通过原因",this.dialog.visible=!0)},checkOperate:function(e){var a=this;0===this.multipleSelection.length?this.$message({message:"请至少选择一条数据！",type:"warning"}):"2"===e?this.$confirm("你确定要通过审核吗？","消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.SET_APPLY_STATE(e);var t=a.$store.getters.taxWaybillInfo;Object(v["a"])(t),a.tableData=[t],a.$message({message:"审核通过",type:"success"})})).catch((function(){})):(this.dialog.type="refuse",this.dialog.title="审核不通过原因",this.dialog.visible=!0)},viewWaybill:function(e){var a=this;this.dialog.type="waybill",this.dialog.title="运单详情",this.dialog.visible=!0,this.$nextTick((function(){a.$refs.waybillDetailRef.transferData(e)}))},viewTrace:function(e){this.dialog.type="trace",this.dialog.title="定位轨迹",this.dialog.visible=!0},handleClose:function(){this.dialog.type="",this.dialog.title=""},onBus:function(){var e=this;d["a"].$on("newWaybill",(function(a){var t=e.$store.getters.taxWaybillInfo;if(t.taxWaybillId){var l=Object.assign(t,a.orderBillList[0]);e.tableData=[l],e.SET_BILL_STATE(l)}else a.orderBillList.length>0&&(e.tableData=a.orderBillList,e.SET_BILL_STATE(a.orderBillList[0]))})),this.showMoreItems()}},Object(i["b"])(["SET_BILL_STATE","SET_APPLY_STATE","SET_REFUSED_REASON"])),{},{showMoreItems:function(){var e=this;d["a"].$on("showMore",(function(a){e.showMore=a}))},selectable:function(e,a){return"1"==e.applyState},refused:function(){this.SET_APPLY_STATE("0"),this.SET_REFUSED_REASON(this.refusedReason);var e=this.$store.getters.taxWaybillInfo;Object(v["a"])(e),this.tableData=[e],this.$message({message:"审核不通过",type:"info"}),this.dialog.visible=!1},cancelRefuse:function(){this.dialog.visible=!1},changeDateRange:function(e,a){switch(e){case"thisDay":this.thisDay(a);break;case"thisWeek":this.thisWeek(a);break;case"thisMonth":this.thisMonth(a);break;case"lastMonth":this.lastMonth(a);break}}})},k=_,F=(t("44f5"),Object(m["a"])(k,l,s,!1,null,"0d818d1a",null));a["default"]=F.exports},"9e06":function(e,a,t){"use strict";var l=t("c5f8"),s=t.n(l);s.a},c5f8:function(e,a,t){}}]);