webpackJsonp([68],{"3yY/":function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});n("4qDb");var t=n("iRBI"),i=n("IHPB"),s=n.n(i),o=n("rVsN"),l=n.n(o),d=(n("Jg3o"),n("ziXK")),r=(n("LJCJ"),n("OeHp")),A=(n("gja/"),n("O8Zg")),c=(n("y8TG"),n("Xm+1")),f=(n("7ZMB"),n("k/cs")),p=n("KS8L"),b=n("0Dnf"),g=n("3KrX"),v=n("P9l9"),_=(f.a,c.a,A.a,r.a,d.a,{name:"delivery_goods",data:function(){return{page:!1,isLoading:!1,cardShow:!1,loading:!1,finished:!1,finishedText:"",actions:[{name:"修改",value:"modify"},{name:"删除",value:"delete"}],pageIdx:1,cardList:[],transportTemplateId:""}},components:{vanNavBar:f.a,vanButton:c.a,vanList:A.a,vanPullRefresh:r.a,vanActionSheet:d.a},beforeRouteEnter:function(e,a,n){n(function(e){"modify_template"==a.name&&(e.cardShow=!1)})},mounted:function(){window.AppJSApi_finishCallBack=this.onRefresh,this.$store.commit("updateLoadingStatus",{isLoading:!1}),this.dataInit(this.pageIdx)},methods:{onClickLeft:function(){Object(p.a)(-1)},_getBaseInfo:function(){var e=this;return new l.a(function(a,n){e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(v.n)({}).then(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),0==t.data.reCode?a(t.data.result):(e.$vux.toast.text(t.data.reInfo,"middle"),n())}).catch(function(a){e.$vux.toast.text(a.message,"middle"),n()})})},dataInit:function(){var e=this;this._getBaseInfo().then(function(a){e.finished=!1,e.pageIdx="1",e._getDeliveryGoodsTemplete().then(function(a){e.page=!0}).catch(function(a){e.page=!0})})},_getDeliveryGoodsTemplete:function(){var e=this;return new l.a(function(a,n){e.finishedText="没有更多了~~",e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(g.c)({pageIdx:e.pageIdx}).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.isLoading=!1,"0"===t.data.reCode){var i;if("1"==e.pageIdx)e.cardList=t.data.result.list;else(i=e.cardList).push.apply(i,s()(t.data.result.list));Number(t.data.result.list.length)<15&&(e.finished=!0),a()}else e.$vux.toast.text(t.data.reInfo,"middle"),n()}).catch(function(){e.$vux.toast.text(err.message,"middle"),n()})})},onRefresh:function(){this.pageIdx="1",this.finished=!1,this._getDeliveryGoodsTemplete()},onLoad:function(){var e=this;setTimeout(function(){e.pageIdx=Number(e.pageIdx)+1,e._getDeliveryGoodsTemplete(e.pageIdx).then(function(e){}).catch(function(e){Object(t.a)(e.message)}),e.loading=!1},1e3)},buildDeliveryGoods:function(){var e=Object(p.v)();if(console.log("=========="+e),0===e)this.$router.push({path:"/delivery_goods_first",pageType:"0"});else{var a=b.a.APP_URL+"/delivery_goods_first?pageType=0";Object(p.n)({url:a})}},useBtnClick:function(e){if(0===Object(p.v)())this.$router.push({path:"/delivery_goods_first",query:{transportTemplateId:e,pageType:"1"}});else{var a=b.a.APP_URL+"/delivery_goods_first?transportTemplateId="+e+"&pageType=1";Object(p.n)({url:a})}},chooseItem:function(e){this.transportTemplateId=e.transportTemplateId,this.cardShow=!0},onSelect:function(e){var a=this;this.cardShow=!1,"delete"===e.value?this.$klb.confirm.show({title:"提示",confirmText:"确定",cancelText:"取消",content:"是否确认删除？",onConfirm:function(){deleteTemplate({transportTemplateId:a.transportTemplateId,source:"2"}).then(function(e){Object(t.a)(e.data.reInfo),a.dataInit("1",a.templateType)}).catch(function(){})},onCancel:function(){},onClose:function(){}}):this.$router.push({path:"/modify_template",query:{transportTemplateId:this.transportTemplateId}})}}}),u=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"delivery_goods"},[n("c-header",{staticClass:"header",attrs:{isShowTitle:""}},[n("van-nav-bar",{attrs:{title:"发货","left-arrow":"",fixed:""},on:{"click-left":e.onClickLeft}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.page,expression:"page"}],staticClass:"sub_page_base"},[n("div",{staticClass:"content"},[n("van-button",{staticClass:"btn"},[e._v("常用发货模板")]),e._v(" "),n("van-button",{attrs:{type:"default"},on:{click:e.buildDeliveryGoods}},[e._v("新建货源")])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.cardList.length,expression:"cardList.length === 0"}],staticClass:"default_tips"},[e._m(0),e._v(" "),n("div",{staticClass:"p2"},[e._v("\n        您可以在发货完成后保存为常用模板，便于后期直接使用模板发货，无需再次填写相关固定信息。\n      ")]),e._v(" "),n("div",{staticClass:"p3"},[e._v("当前无常用模板，请点击上方【新建货源】。")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.cardList.length,expression:"cardList.length !== 0"}],staticClass:"list"},[n("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(a){e.isLoading=a},expression:"isLoading"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":e.finishedText,"immediate-check":!1,offset:100},on:{load:e.onLoad},model:{value:e.loading,callback:function(a){e.loading=a},expression:"loading"}},e._l(e.cardList,function(a,t){return n("div",{key:t,staticClass:"list-card"},[n("div",{staticClass:"card-left"},[n("div",{staticClass:"card-left-cell"},[n("div",{staticClass:"left-cell-title"},[e._v("装货地")]),e._v(" "),n("div",{staticClass:"maohao"},[e._v("：")]),e._v(" "),n("div",{staticClass:"left-cell-value blue"},[e._v("\n                  "+e._s(a.startAddress)+"\n                ")])]),e._v(" "),n("div",{staticClass:"card-left-cell"},[n("div",{staticClass:"left-cell-title"},[e._v("卸货地")]),e._v(" "),n("div",{staticClass:"maohao"},[e._v("：")]),e._v(" "),n("div",{staticClass:"left-cell-value blue"},[e._v(e._s(a.endAddress))])]),e._v(" "),n("div",{staticClass:"card-left-cell"},[n("div",{staticClass:"left-cell-title"},[e._v("车辆信息")]),e._v(" "),n("div",{staticClass:"maohao"},[e._v("：")]),e._v(" "),n("div",{staticClass:"left-cell-value black"},[e._v(e._s(a.carInfo))])]),e._v(" "),n("div",{staticClass:"card-left-cell"},[n("div",{staticClass:"left-cell-title"},[e._v("期望运费")]),e._v(" "),n("div",{staticClass:"maohao"},[e._v("：")]),e._v(" "),n("div",{staticClass:"left-cell-value black"},[e._v("\n                  "+e._s(a.expectFreight)+"\n                ")])])]),e._v(" "),n("div",{staticClass:"card-right"},[n("div",{staticClass:"btn",on:{click:function(n){return n.stopPropagation(),e.useBtnClick(a.transportTemplateId)}}},[e._v("\n                使用\n              ")])])])}),0)],1)],1)]),e._v(" "),n("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消"},on:{select:e.onSelect,cancel:function(a){e.cardShow=!1}},model:{value:e.cardShow,callback:function(a){e.cardShow=a},expression:"cardShow"}})],1)};u._withStripped=!0;var B={render:u,staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"p1"},[a("span",{staticClass:"iconfont iconleijijingyingshouyijieshi"}),this._v(" "),a("i",{staticClass:"iconfont iconwenhao"}),this._v("什么是常用发货模板？\n      ")])}]},C=B;var x=!1;var h=n("C7Lr")(_,C,!1,function(e){x||n("s4LV")},"data-v-97ba8f84",null);h.options.__file="src/components/transOrganize/deliveryGoods.vue";a.default=h.exports},aIQ7:function(e,a,n){(e.exports=n("UTlt")(!0)).push([e.i,'\n.delivery_goods[data-v-97ba8f84] .van-cell {\n  font-size: 16px;\n}\n.delivery_goods[data-v-97ba8f84] .van-pull-refresh__head {\n  overflow: hidden;\n  top: -60px;\n}\n.delivery_goods .header[data-v-97ba8f84] {\n  z-index: 999;\n  position: fixed;\n}\n.delivery_goods .sub_page_base[data-v-97ba8f84] {\n  text-align: center;\n  height: 100vh;\n  box-sizing: border-box;\n  padding-top: 46px;\n  background: #efefef;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n}\n.delivery_goods .sub_page_base .van-button[data-v-97ba8f84] {\n  width: 135px;\n  height: 50px;\n  margin: 20px 8px;\n  border-radius: 5px;\n}\n.delivery_goods .sub_page_base .content[data-v-97ba8f84] {\n  position: relative;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  width: 100%;\n}\n.delivery_goods .sub_page_base .content .btn[data-v-97ba8f84] {\n  color: #fff;\n  background: #15499a;\n}\n.delivery_goods .sub_page_base .content[data-v-97ba8f84] .van-button--normal {\n  font-size: 17px;\n  font-weight: normal;\n}\n.delivery_goods .sub_page_base .default_tips[data-v-97ba8f84] {\n  background: #ffffff;\n  padding: 22px 14px 27px;\n  text-align: left;\n  border-radius: 10px;\n  margin: 0px 12px 0px 12px;\n  font-size: 15px;\n  font-family: PingFang SC;\n}\n.delivery_goods .sub_page_base .default_tips .p1[data-v-97ba8f84] {\n  color: #1581cf;\n}\n.delivery_goods .sub_page_base .default_tips .p1 span[data-v-97ba8f84] {\n  font-size: 20px;\n  margin-right: 4px;\n}\n.delivery_goods .sub_page_base .default_tips .p1 .iconwenhao[data-v-97ba8f84] {\n  margin-right: 7px;\n}\n.delivery_goods .sub_page_base .default_tips .p2[data-v-97ba8f84] {\n  font-weight: 500;\n  color: #454545;\n  line-height: 24px;\n  margin: 22px 0 20px;\n}\n.delivery_goods .sub_page_base .default_tips .p3[data-v-97ba8f84] {\n  font-weight: bold;\n}\n.delivery_goods .sub_page_base .list[data-v-97ba8f84] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  padding-bottom: 45px;\n  box-sizing: border-box;\n}\n.delivery_goods .sub_page_base .list .van-pull-refresh[data-v-97ba8f84] {\n  overflow: visible;\n}\n.delivery_goods .sub_page_base .list-card[data-v-97ba8f84] {\n  height: auto;\n  background: #ffffff;\n  border-radius: 5px;\n  margin: 0px 12px 16px 12px;\n  padding: 10px 12px;\n  font-size: 15px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.delivery_goods .sub_page_base .list-card .card-left[data-v-97ba8f84] {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n          flex: 4;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell[data-v-97ba8f84] {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  text-align: left;\n  margin: 7px auto;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-title[data-v-97ba8f84] {\n  color: #797979;\n  min-width: 74px;\n  height: 16px;\n  text-align: justify;\n  text-align-last: justify;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-title[data-v-97ba8f84]:after {\n  display: inline-block;\n  content: "";\n  overflow: hidden;\n  width: 100%;\n  height: 0;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .maohao[data-v-97ba8f84] {\n  color: #797979;\n  margin-left: 2px;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-value[data-v-97ba8f84] {\n  word-break: break-all;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .blue[data-v-97ba8f84] {\n  color: #1581cf;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .black[data-v-97ba8f84] {\n  color: #202020;\n}\n.delivery_goods .sub_page_base .list-card .card-right[data-v-97ba8f84] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  position: relative;\n  -webkit-appearance: none;\n}\n.delivery_goods .sub_page_base .list-card .card-right .btn[data-v-97ba8f84] {\n  position: absolute;\n  top: calc(50% - 10px);\n  left: calc(50% - 25px);\n  border: none;\n  color: #fff;\n  background: #1581cf;\n  box-shadow: 0 0 0 0.5px #ddd;\n  width: 60px;\n  height: 25px;\n  border-radius: 12px;\n}\n',"",{version:3,sources:["D:/h5_gitlab/ngcbapp_h5/src/components/transOrganize/deliveryGoods.vue"],names:[],mappings:";AACA;EACE,gBAAgB;CACjB;AACD;EACE,iBAAiB;EACjB,WAAW;CACZ;AACD;EACE,aAAa;EACb,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,kBAAkB;EAClB,oBAAoB;EACpB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;EAC9B,+BAA+B;UACvB,uBAAuB;CAChC;AACD;EACE,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;EAChC,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;EAC5B,YAAY;CACb;AACD;EACE,YAAY;EACZ,oBAAoB;CACrB;AACD;EACE,gBAAgB;EAChB,oBAAoB;CACrB;AACD;EACE,oBAAoB;EACpB,wBAAwB;EACxB,iBAAiB;EACjB,oBAAoB;EACpB,0BAA0B;EAC1B,gBAAgB;EAChB,yBAAyB;CAC1B;AACD;EACE,eAAe;CAChB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,iBAAiB;EACjB,eAAe;EACf,kBAAkB;EAClB,oBAAoB;CACrB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;EAChB,iBAAiB;EACjB,qBAAqB;EACrB,uBAAuB;CACxB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,aAAa;EACb,oBAAoB;EACpB,mBAAmB;EACnB,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;EAChB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;CACf;AACD;EACE,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;CACjB;AACD;EACE,mBAAmB;EACnB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,iBAAiB;EACjB,iBAAiB;CAClB;AACD;EACE,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,oBAAoB;EACpB,yBAAyB;CAC1B;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,iBAAiB;EACjB,YAAY;EACZ,UAAU;CACX;AACD;EACE,eAAe;EACf,iBAAiB;CAClB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,eAAe;CAChB;AACD;EACE,eAAe;CAChB;AACD;EACE,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;EAChB,mBAAmB;EACnB,yBAAyB;CAC1B;AACD;EACE,mBAAmB;EACnB,sBAAsB;EACtB,uBAAuB;EACvB,aAAa;EACb,YAAY;EACZ,oBAAoB;EACpB,6BAA6B;EAC7B,YAAY;EACZ,aAAa;EACb,oBAAoB;CACrB",file:"deliveryGoods.vue",sourcesContent:['\n.delivery_goods[data-v-97ba8f84] .van-cell {\n  font-size: 16px;\n}\n.delivery_goods[data-v-97ba8f84] .van-pull-refresh__head {\n  overflow: hidden;\n  top: -60px;\n}\n.delivery_goods .header[data-v-97ba8f84] {\n  z-index: 999;\n  position: fixed;\n}\n.delivery_goods .sub_page_base[data-v-97ba8f84] {\n  text-align: center;\n  height: 100vh;\n  box-sizing: border-box;\n  padding-top: 46px;\n  background: #efefef;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n}\n.delivery_goods .sub_page_base .van-button[data-v-97ba8f84] {\n  width: 135px;\n  height: 50px;\n  margin: 20px 8px;\n  border-radius: 5px;\n}\n.delivery_goods .sub_page_base .content[data-v-97ba8f84] {\n  position: relative;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  width: 100%;\n}\n.delivery_goods .sub_page_base .content .btn[data-v-97ba8f84] {\n  color: #fff;\n  background: #15499a;\n}\n.delivery_goods .sub_page_base .content[data-v-97ba8f84] .van-button--normal {\n  font-size: 17px;\n  font-weight: normal;\n}\n.delivery_goods .sub_page_base .default_tips[data-v-97ba8f84] {\n  background: #ffffff;\n  padding: 22px 14px 27px;\n  text-align: left;\n  border-radius: 10px;\n  margin: 0px 12px 0px 12px;\n  font-size: 15px;\n  font-family: PingFang SC;\n}\n.delivery_goods .sub_page_base .default_tips .p1[data-v-97ba8f84] {\n  color: #1581cf;\n}\n.delivery_goods .sub_page_base .default_tips .p1 span[data-v-97ba8f84] {\n  font-size: 20px;\n  margin-right: 4px;\n}\n.delivery_goods .sub_page_base .default_tips .p1 .iconwenhao[data-v-97ba8f84] {\n  margin-right: 7px;\n}\n.delivery_goods .sub_page_base .default_tips .p2[data-v-97ba8f84] {\n  font-weight: 500;\n  color: #454545;\n  line-height: 24px;\n  margin: 22px 0 20px;\n}\n.delivery_goods .sub_page_base .default_tips .p3[data-v-97ba8f84] {\n  font-weight: bold;\n}\n.delivery_goods .sub_page_base .list[data-v-97ba8f84] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  padding-bottom: 45px;\n  box-sizing: border-box;\n}\n.delivery_goods .sub_page_base .list .van-pull-refresh[data-v-97ba8f84] {\n  overflow: visible;\n}\n.delivery_goods .sub_page_base .list-card[data-v-97ba8f84] {\n  height: auto;\n  background: #ffffff;\n  border-radius: 5px;\n  margin: 0px 12px 16px 12px;\n  padding: 10px 12px;\n  font-size: 15px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.delivery_goods .sub_page_base .list-card .card-left[data-v-97ba8f84] {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n          flex: 4;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell[data-v-97ba8f84] {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  text-align: left;\n  margin: 7px auto;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-title[data-v-97ba8f84] {\n  color: #797979;\n  min-width: 74px;\n  height: 16px;\n  text-align: justify;\n  text-align-last: justify;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-title[data-v-97ba8f84]:after {\n  display: inline-block;\n  content: "";\n  overflow: hidden;\n  width: 100%;\n  height: 0;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .maohao[data-v-97ba8f84] {\n  color: #797979;\n  margin-left: 2px;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .left-cell-value[data-v-97ba8f84] {\n  word-break: break-all;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .blue[data-v-97ba8f84] {\n  color: #1581cf;\n}\n.delivery_goods .sub_page_base .list-card .card-left-cell .black[data-v-97ba8f84] {\n  color: #202020;\n}\n.delivery_goods .sub_page_base .list-card .card-right[data-v-97ba8f84] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  position: relative;\n  -webkit-appearance: none;\n}\n.delivery_goods .sub_page_base .list-card .card-right .btn[data-v-97ba8f84] {\n  position: absolute;\n  top: calc(50% - 10px);\n  left: calc(50% - 25px);\n  border: none;\n  color: #fff;\n  background: #1581cf;\n  box-shadow: 0 0 0 0.5px #ddd;\n  width: 60px;\n  height: 25px;\n  border-radius: 12px;\n}\n'],sourceRoot:""}])},s4LV:function(e,a,n){var t=n("aIQ7");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n("FIqI")("17422fa2",t,!1,{})}});