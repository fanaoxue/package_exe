webpackJsonp([15],{"1ycf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAACj0lEQVR4Xu2c3U0bQQAG97oI6ShpIxI9nAvwVpE2SEWJ6cKREUgIGR6+H7iD4RV9c3szxuJpl7Hzn8Ph8ON8Pv8eY9w8vsppWZZfx+Pxzx5fbdnjoZ+feV3Xf89iPP3qNOf8vsd3+wxBztfEzzl3+W67PPSLvxCCbOmrYF1XghCkZ4CvrJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW29EkJ5biUwQSVtvRJCeW4lMEElbb0SQnluJTBBJW2+0XLlvqvc0yG8ZeLjna3nlvinUfYyB0yXI1dt0PuY8PJUgG/sM8JW1rSD3lyA/xxiXSyS/betsX+40f8cYt/zbu7HuBCFI1gB3LmZ92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrMAgmR92jSC2AqzAIJkfdo0gtgKswCCZH3aNILYCrOAVy5gu59z3mSf9D60z3DXycvbjB5u1Zlz3r2PwuxT/gORlpdXrH4fowAAAABJRU5ErkJggg=="},ALLo:function(t,e){t.exports="data:image/png;base64,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"},TTNl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("lC5x"),a=i.n(s),n=i("J0Oq"),r=i.n(n),o=i("rVsN"),l=i.n(o),c=i("KS8L"),u=i("xXJT"),d=i("u3Lg"),m=i("P9l9"),g=(u.a,{name:"uploadWeightBill2",data:function(){return{pageType:-1,payState:"0",isSeePageType:2==this.$route.query.pageType,imgListMaxLength:20,file:[],imgList:[],file2:[],imgList2:[],sucOutPhotoUrl:[],sucReceiptPhotoUrl:[],taxWaybillId:this.$route.query.taxWaybillId,transportLineId:this.$route.query.transportLineId,xid:this.$route.query.xid,disabled:!1,classify:this.$route.query.classify?this.$route.query.classify:Object(d.a)("classify")}},components:{selectImage:u.a},beforeRouteEnter:function(t,e,i){i(function(t){document.title=t.isSeePageType?"查看磅单":"上传磅单",t.$store.commit("updateLoadingStatus",{isLoading:!1})})},computed:{},created:function(){var t=this;this.$store.commit("updateLoadingStatus",{isLoading:!0});var e={transportLineId:this.transportLineId,xid:this.xid,taxWaybillId:this.taxWaybillId};Object(m.y)(e).then(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"!==e.data.reCode?t.$vux.toast.text(e.data.reInfo,"middle"):(t.pageType=Number(e.data.result.pageType),t.payState=e.data.result.payState,t._getBillImage())})},mounted:function(){},methods:{_getBillImage:function(){var t=this;this.$store.commit("updateLoadingStatus",{isLoading:!0});var e={imageType:0,xid:this.xid};Object(m.o)(e).then(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===e.data.reCode?0===t.pageType?(t.sucOutPhotoUrl=e.data.result.ckd[0]?e.data.result.ckd[0].origPath:"",t.sucReceiptPhotoUrl=e.data.result.hd[0]?e.data.result.hd[0].origPath:"",t.sucOutPhotoUrl&&t.imgList.push({name:"",src:t.sucOutPhotoUrl}),t.sucReceiptPhotoUrl&&t.$set(t.imgList,1,{name:"",src:t.sucReceiptPhotoUrl})):1===t.pageType?(t.imgList=e.data.result.ckd.map(function(t,e,i){return{name:"",src:t.origPath}}),t.imgList2=e.data.result.hd.map(function(t,e,i){return{name:"",src:t.origPath}})):t.imgList=e.data.result.hd.map(function(t,e,i){return{name:"",src:t.origPath}}):t.$vux.toast.text("网络异常，请稍后再试~~~","middle")})},_uploadImgUrl:function(){var t=this,e={taxWaybillId:this.taxWaybillId,xid:this.xid,sucOutPhotoUrl:this.sucOutPhotoUrl.toString(),sucReceiptPhotoUrl:this.sucReceiptPhotoUrl.toString(),transTripType:0===this.pageType?"0":"1"};return new l.a(function(i,s){Object(m.N)(e).then(function(e){"0"!==e.data.reCode?(t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(e.data.reInfo,"middle"),s()):i(e)})})},checkFile:function(){var t=!0;return this.imgList[0]||(this.$vux.toast.text("装货榜单必填！","middle"),t=!1),this.imgList[1]||(this.$vux.toast.text("卸货榜单必填！","middle"),t=!1),t},clickConfirm:function(){var t=this;if(this.disabled=!0,0===this.pageType){if(this.$store.commit("updateLoadingStatus",{isLoading:!0}),!this.checkFile())return this.$store.commit("updateLoadingStatus",{isLoading:!1}),void(this.disabled=!1);this._clickConfirm_0()}else 1===this.pageType?this.imgList.length!=this.imgList2.length?this.$vux1.confirm.show({title:"消息提示",content:"上传的装货磅单与卸货磅单数量不一致，请核实后再提交！",confirmText:"确认",cancelText:"继续提交",onConfirm:function(){t.disabled=!1},onCancel:function(){t.$store.commit("updateLoadingStatus",{isLoading:!0}),t._clickConfirm_1()},onClose:function(){t.disabled=!1}}):(this.$store.commit("updateLoadingStatus",{isLoading:!0}),this._clickConfirm_1()):this.imgList.length%2==1?this.$vux1.confirm.show({title:"消息提示",content:"上传的装货磅单与卸货磅单数量不一致，请核实后再提交！",confirmText:"确认",cancelText:"继续提交",onConfirm:function(){t.disabled=!1},onCancel:function(){t.$store.commit("updateLoadingStatus",{isLoading:!0}),t._clickConfirm_2()},onClose:function(){t.disabled=!1}}):(this.$store.commit("updateLoadingStatus",{isLoading:!0}),this._clickConfirm_2())},_clickConfirm_0:function(){var t=this;return r()(a.a.mark(function e(){var i,s,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sucOutPhotoUrl=[],t.sucReceiptPhotoUrl=[],i=!0,e.prev=3,!t.imgList[0]||!t.file[0]){e.next=19;break}return e.next=7,Object(m.M)([t.file[0]]);case 7:if("0"===(s=e.sent).data.reCode){e.next=16;break}return t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(s.data.reInfo,"middle"),i=!1,e.abrupt("return");case 16:t.sucOutPhotoUrl.push(s.data.result.urlList[0]);case 17:e.next=20;break;case 19:t.sucOutPhotoUrl.push(t.imgList[0].src);case 20:if(!t.imgList[1]||!t.file[1]){e.next=35;break}return e.next=23,Object(m.M)([t.file[1]]);case 23:if("0"===(n=e.sent).data.reCode){e.next=32;break}return t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(n.data.reInfo,"middle"),i=!1,e.abrupt("return");case 32:t.sucReceiptPhotoUrl.push(n.data.result.urlList[0]);case 33:e.next=36;break;case 35:t.sucReceiptPhotoUrl.push(t.imgList[1].src);case 36:e.next=44;break;case 38:e.prev=38,e.t0=e.catch(3),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text("网络异常，请稍后再试~~~","middle"),i=!1;case 44:if(i){e.next=46;break}return e.abrupt("return");case 46:if(0!=t.sucOutPhotoUrl.length){e.next=51;break}return t.$vux.toast.text("装货磅单必填！","middle"),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,e.abrupt("return",!1);case 51:if(0!=t.sucReceiptPhotoUrl.length){e.next=56;break}return t.$vux.toast.text("卸货磅单必填！","middle"),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,e.abrupt("return",!1);case 56:t.commitUrl();case 57:case"end":return e.stop()}},e,t,[[3,38]])}))()},_clickConfirm_1:function(){var t=this;return r()(a.a.mark(function e(){var i,s,n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sucOutPhotoUrl=[],t.sucReceiptPhotoUrl=[],i=!0,s=[],n=[],0===t.file.filter(Boolean).length){e.next=27;break}return e.prev=6,e.next=9,Object(m.M)(t.file.filter(Boolean));case 9:if("0"===(r=e.sent).data.reCode){e.next=18;break}return t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(r.data.reInfo,"middle"),i=!1,e.abrupt("return");case 18:s=r.data.result.urlList;case 19:e.next=27;break;case 21:e.prev=21,e.t0=e.catch(6),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text("网络异常，请稍后再试~~~","middle"),i=!1;case 27:if(i){e.next=29;break}return e.abrupt("return");case 29:if(t.sucOutPhotoUrl=t.imgList.map(function(e,i,a){return t.file[i]?s.shift():e.src}),0===t.file2.filter(Boolean).length){e.next=52;break}return e.prev=31,e.next=34,Object(m.M)(t.file2.filter(Boolean));case 34:if("0"===(o=e.sent).data.reCode){e.next=43;break}return t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(o.data.reInfo,"middle"),i=!1,e.abrupt("return");case 43:n=o.data.result.urlList;case 44:e.next=52;break;case 46:e.prev=46,e.t1=e.catch(31),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text("网络异常，请稍后再试~~~","middle"),i=!1;case 52:if(i){e.next=54;break}return e.abrupt("return");case 54:t.sucReceiptPhotoUrl=t.imgList2.map(function(e,i,s){return t.file2[i]?n.shift():e.src}),t.commitUrl();case 56:case"end":return e.stop()}},e,t,[[6,21],[31,46]])}))()},_clickConfirm_2:function(){var t=this;return r()(a.a.mark(function e(){var i,s,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sucOutPhotoUrl=[],t.sucReceiptPhotoUrl=[],i=!0,s=[],0===t.file.filter(Boolean).length){e.next=26;break}return e.prev=5,e.next=8,Object(m.M)(t.file.filter(Boolean));case 8:if("0"===(n=e.sent).data.reCode){e.next=17;break}return t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text(n.data.reInfo,"middle"),i=!1,e.abrupt("return");case 17:s=n.data.result.urlList;case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(5),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1,t.$vux.toast.text("网络异常，请稍后再试~~~","middle"),i=!1;case 26:if(i){e.next=28;break}return e.abrupt("return");case 28:t.sucReceiptPhotoUrl=t.imgList.map(function(e,i,a){return t.file[i]?s.shift():e.src}),t.commitUrl();case 30:case"end":return e.stop()}},e,t,[[5,20]])}))()},commitUrl:function(){var t=this;return r()(a.a.mark(function e(){var i,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._uploadImgUrl();case 3:t.isSeePageType?(0!==t.pageType&&(s=parseInt((t.imgList.length+t.imgList2.length)/2))>0&&Object(c.f)({type:"2",taxWaybillId:t.taxWaybillId,transTrip:s>1?s+"趟":""}),t.$vux.toast.text("修改成功","middle")):(t.$vux.toast.text("上传成功","middle"),0===t.pageType?Object(c.f)({type:"2",taxWaybillId:t.taxWaybillId}):(i=parseInt((t.imgList.length+t.imgList2.length)/2))>0&&Object(c.f)({type:"2",taxWaybillId:t.taxWaybillId,transTrip:i>1?i+"趟":""})),setTimeout(function(){Object(c.a)(-1)},1e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.disabled=!1;case 11:case"end":return e.stop()}},e,t,[[0,7]])}))()}}}),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-weight-bill2-container"},[i("c-header",[i("x-header",{attrs:{"left-options":{backText:""}}},[t._v(t._s(t.isSeePageType?"查看磅单":"上传磅单"))])],1),t._v(" "),i("div",{staticClass:"example"},[i("divider",{staticClass:"divider-text"},[t._v("拍摄示例")]),t._v(" "),t._m(0)],1),t._v(" "),1===t.pageType?i("div",{staticClass:"hint"},[i("span",[t._v("*请上传全部磅单，全部上传完成后才可支付运费！")])]):t._e(),t._v(" "),0==t.pageType?i("div",[i("div",{staticClass:"select"},[i("selectImage",{attrs:{multiple:!1,count:2,file:t.file,reUpload:!0,imgList:t.imgList}},[i("div",{staticClass:"select-title",attrs:{slot:"select-title"},slot:"select-title"},[i("div",[t._v("装货磅单")]),t._v(" "),i("div",[t._v("卸货磅单")])]),t._v(" "),i("div",{attrs:{slot:"select-text1"},slot:"select-text1"},[t._v("上传装货磅单")]),t._v(" "),i("div",{attrs:{slot:"select-text2"},slot:"select-text2"},[t._v("上传卸货磅单")])])],1)]):t._e(),t._v(" "),1==t.pageType?i("div",[i("div",{staticClass:"select"},[i("div",{staticClass:"title"},[t._v("请上传装货磅单")]),t._v(" "),i("selectImage",{attrs:{isNoChangeAmount:t.isSeePageType&&"2"===t.payState,multiple:!0,file:t.file,reUpload:!0,imgList:t.imgList,imgListMaxLength:t.imgListMaxLength/2,borderStyle:"dashed"}})],1),t._v(" "),i("div",{staticClass:"select"},[i("div",{staticClass:"title"},[t._v("请上传卸货磅单")]),t._v(" "),i("selectImage",{attrs:{isNoChangeAmount:t.isSeePageType&&"2"===t.payState,multiple:!0,file:t.file2,reUpload:!0,imgList:t.imgList2,imgListMaxLength:t.imgListMaxLength/2,borderStyle:"dashed"}})],1)]):t._e(),t._v(" "),2==t.pageType?i("div",[i("div",{staticClass:"select"},[i("div",{staticClass:"title"},[t._v("请上传磅单")]),t._v(" "),i("selectImage",{attrs:{isNoChangeAmount:t.isSeePageType&&"2"===t.payState,multiple:!0,file:t.file,reUpload:!0,imgList:t.imgList,imgListMaxLength:t.imgListMaxLength,borderStyle:"dashed"}})],1)]):t._e(),t._v(" "),i("div",{staticClass:"footer",staticStyle:{height:"5rem"}}),t._v(" "),i("div",{staticClass:"button"},[i("x-button",{attrs:{type:"primary",disabled:t.disabled},nativeOn:{click:function(e){return t.clickConfirm(e)}}},[t._v(t._s(t.isSeePageType?"确认修改":"确认上传"))])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"example-box"},[e("div",{staticClass:"example-box-item example-box-item-left"},[e("img",{staticClass:"example-img",attrs:{src:i("XxJK"),alt:"",srcset:""}})]),this._v(" "),e("div",{staticClass:"example-box-item"},[e("div",{staticClass:"example-box-item-line"},[e("img",{staticClass:"nick-icon",attrs:{src:i("ALLo"),alt:""}}),this._v("保证光源充足!\n        ")]),this._v(" "),e("div",{staticClass:"example-box-item-line"},[e("img",{staticClass:"nick-icon",attrs:{src:i("ALLo"),alt:""}}),this._v("磅单拍摄完整清晰!\n        ")])])])}]};var f=i("C7Lr")(g,p,!1,function(t){i("xE+C")},null,null);e.default=f.exports},XxJK:function(t,e,i){t.exports=i.p+"V3.29.1/img/shilitupian_img@2x.2bf10ed.png"},q47J:function(t,e){},"xE+C":function(t,e){},xXJT:function(t,e,i){"use strict";var s=i("aA9S"),a=i.n(s),n=i("JjWs"),r=i.n(n),o=(Boolean,Number,Array,Boolean,Array,Number,String,Boolean,{name:"selectImage",data:function(){return{selectIndex:0,options:{getThumbBoundsFn:function(t){var e=document.querySelectorAll(".show-img")[t],i=window.pageYOffset||document.documentElement.scrollTop,s=e.getBoundingClientRect();return{x:s.left,y:s.top+i,w:s.width}},isClickableElement:function(t){return/previewer-download-icon/.test(t.className)},history:!0,timeToIdle:!1,tapToToggleControls:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!0,arrowEl:!1,preloaderEl:!1,captionEl:!1}}},computed:{list:function(){var t=[];return this.imgList.forEach(function(e){e&&t.push({src:e.src})}),t}},props:{multiple:{type:Boolean,default:!1},count:{type:Number,default:1},file:{type:Array,default:[]},reUpload:{type:Boolean,default:!1},imgList:{type:Array,default:[]},imgListMaxLength:{type:Number,default:2},borderStyle:{type:String,default:""},isNoChangeAmount:{type:Boolean,default:!1}},mounted:function(){},methods:{downloadImg:function(){},logIndexChange:function(t){},onPreviewClose:function(){this.$refs.previewer.photoswipe=null},show:function(t){this.$refs.previewer.show(t)},fileClick:function(t){this.selectIndex=t,this.$refs.file.dispatchEvent(new MouseEvent("click"))},handleFilesUpload:function(t){this.$store.commit("updateLoadingStatus",{isLoading:!0});var e=this,i=t.target.files[0];r()(i,{quality:.5,fieldName:"file"}).then(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$set(e.file,e.selectIndex,t.base64);var s={};s.src=t.base64,s.name=i.name,e.$set(e.imgList,e.selectIndex,s),e.$refs.file.value=""}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),console.log(t)})},fileAdd:function(t){var e=new FileReader;e._this=this,e.readAsDataURL(t),e.onload=function(){var i=a()({},t);i.src=this.result,e._this.multiple?e._this.imgList.push(i):e._this.$set(e._this.imgList,e._this.selectIndex,i)},this.$refs.file.value=""},fileDel:function(t){this.size=this.size-this.imgList[t].size,this.multiple?(this.imgList.splice(t,1),this.file.splice(t,1)):(this.$set(this.imgList,t,null),this.$set(this.file,t,null))}}}),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"select-image-container"},[t.multiple?s("div",[s("div",{staticClass:"multiple-content"},[t._l(t.imgList,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.imgList.length,expression:"imgList.length != 0"}],key:a,staticClass:"multiple-show-content"},[s("div",{staticClass:"show-box multiple-show-box"},[s("div",{staticClass:"show-img-box multiple-show-img-box",on:{click:function(e){return t.show(a)}}},[s("div",{staticClass:"upload_warp_img_div_top"},[s("div",{staticClass:"upload_warp_img_div_text"},[t._v(t._s(e.name))]),t._v(" "),t.isNoChangeAmount?t._e():s("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>1,expression:"imgList.length>1"}],staticClass:"upload_warp_img_div_del",attrs:{src:i("6E7O")},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.fileDel(a)}}})]),t._v(" "),s("img",{staticClass:"show-img",attrs:{src:e.src}})])]),t._v(" "),t.reUpload?s("div",{staticClass:"select-bottom-box"},[s("div",{staticClass:"select-bottom"},[s("div",{on:{click:function(e){return t.fileClick(a)}}},[t._v("重新上传")])])]):t._e()])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNoChangeAmount&&t.imgList.length<t.imgListMaxLength,expression:"!isNoChangeAmount&&imgList.length < imgListMaxLength"}],staticClass:"select-box",style:"dashed"==t.borderStyle?"border: 1px dashed #999;":"",on:{click:function(e){return t.fileClick(t.imgList.length)}}},[t._m(0)])],2)]):t._e(),t._v(" "),t.multiple?t._e():s("div",[t._t("select-title"),t._v(" "),s("div",{staticClass:"content"},t._l(t.count,function(e){return s("div",{key:e},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.imgList[e-1],expression:"!imgList[index - 1]"}],staticClass:"select-box",on:{click:function(i){return t.fileClick(e-1)}}},[s("div",{staticClass:"select-img-box"},[s("img",{staticClass:"select-img",attrs:{src:i("1ycf")}}),t._v(" "),t._t("select-text"),t._v(" "),t._t("select-text"+e)],2)]),t._v(" "),t.imgList[e-1]?s("div",{staticClass:"show-box"},[s("div",{staticClass:"show-img-box",on:{click:function(i){return t.show(e-1)}}},[s("img",{staticClass:"show-img",attrs:{src:t.imgList[e-1].src}})])]):t._e()])}),0),t._v(" "),t.reUpload?s("div",{staticClass:"select-bottom-box"},t._l(t.count,function(e){return s("div",{key:e,staticStyle:{width:"50%"}},[s("div",{staticClass:"select-bottom"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!!t.imgList[e-1],expression:"!!imgList[index - 1]"}],on:{click:function(i){return t.fileClick(e-1)}}},[t._v("重新上传")])])])}),0):t._e()],2),t._v(" "),s("input",{ref:"file",staticClass:"file",attrs:{type:"file",id:"files",name:"imageFile",accept:"image/*"},on:{change:function(e){return t.handleFilesUpload(e)}}}),t._v(" "),s("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[s("previewer",{ref:"previewer",attrs:{list:t.list,options:t.options},on:{"on-index-change":t.logIndexChange,"on-close":t.onPreviewClose}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"select-img-box"},[e("img",{staticClass:"select-img",attrs:{src:i("1ycf")}})])}]};var c=i("C7Lr")(o,l,!1,function(t){i("q47J")},null,null);e.a=c.exports}});