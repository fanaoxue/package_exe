webpackJsonp([16],{"/VK/":function(e,t,i){"use strict";t.b=function(e){return new s.a(function(t,i){o({sid:"3084",timeout:6e4,iResType:1,datas:e}).then(function(e){t(e)}).catch(function(e){i(e)})})},t.a=function(e){return new s.a(function(t,i){o({sid:"3085",timeout:6e4,iResType:1,datas:e}).then(function(e){t(e)}).catch(function(e){i(e)})})};var a=i("//Fk"),s=i.n(a),o=i("HZZI").a.Axios},"0BYG":function(e,t,i){(e.exports=i("FZ+f")(!0)).push([e.i,"\n.settlement-info {\n  width: 100%;\n  background-color: #efefef;\n  position: absolute;\n  top: 0px;\n  min-height: 100%;\n  height: auto;\n}\n.settlement-info .group0 .weui-cells {\n  margin-top: 0px !important;\n}\n.settlement-info .radio-container {\n  background-color: #fff;\n  padding-top: 10px;\n  padding-left: 10px;\n  font-size: 14px;\n  width: 100%;\n  box-sizing: border-box;\n}\n.settlement-info .radio-container .vertical-line {\n  display: inline-block;\n  width: 2px;\n  height: 0.8em;\n  background: #15499a;\n  margin-right: 4px;\n}\n.settlement-info .radio-container .radio-group {\n  padding: 5px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: start;\n  -webkit-justify-content: flex-start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  font-size: 15px;\n}\n@media screen and (max-width: 320px) {\n.settlement-info .radio-container .radio-group {\n    font-size: 12px;\n}\n}\n.settlement-info .radio-container .radio-group .van-radio {\n  margin-right: 10px;\n}\n.settlement-info .radio-container .radio-group .van-radio__label {\n  margin-left: 5px;\n}\n.settlement-info .radio-container .radio-group .checked .van-radio__label {\n  color: #15499a;\n}\n.settlement-info .radio-container .radio-group .iconwenhao {\n  color: #ffba00;\n}\n.settlement-info .img1 {\n  width: 8px;\n  height: 8px;\n}\n.settlement-info .img2 {\n  width: 15px;\n  height: 15px;\n}\n@media screen and (max-width: 320px) {\n.settlement-info .weui-cell {\n    font-size: 14px;\n}\n}\n.settlement-info .button {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 10;\n}\n.settlement-info .weui-btn_primary {\n  background-color: #15499a !important;\n  margin: 10px auto;\n  width: 90% !important;\n}\n.settlement-info #left {\n  border-left: 4px solid #15499a;\n  position: absolute;\n  left: 0;\n}\n.settlement-info .demo1-item {\n  border: 1px solid #ececec;\n  padding: 5px 5px;\n  border-radius: 19px;\n  text-align: center;\n  width: 25%;\n}\n.settlement-info .demo1-item-selected {\n  color: #fff;\n  background: #1581cf;\n}\n.settlement-info .selected {\n  color: #1581cf;\n}\n.settlement-info .weui-cell:before {\n  left: 0px;\n}\n.settlement-info .weui-cell:first-child:before {\n  display: inline;\n}\n.settlement-info .weui-cell_access .weui-cell__ft {\n  text-align: left;\n  width: 60%;\n  color: #202020;\n}\n.settlement-info .group1 .weui-cell_access .weui-cell__ft {\n  text-align: right;\n  width: 100%;\n  color: #757575;\n}\n","",{version:3,sources:["D:/h5_gitlab/ngcbapp_h5/src/components/wbs/settlementInfo.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,0BAA0B;EAC1B,mBAAmB;EACnB,SAAS;EACT,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,2BAA2B;CAC5B;AACD;EACE,uBAAuB;EACvB,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,uBAAuB;CACxB;AACD;EACE,sBAAsB;EACtB,WAAW;EACX,cAAc;EACd,oBAAoB;EACpB,kBAAkB;CACnB;AACD;EACE,aAAa;EACb,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,wBAAwB;EACxB,oCAAoC;UAC5B,4BAA4B;EACpC,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;EAC5B,gBAAgB;CACjB;AACD;AACA;IACI,gBAAgB;CACnB;CACA;AACD;EACE,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,eAAe;CAChB;AACD;EACE,eAAe;CAChB;AACD;EACE,WAAW;EACX,YAAY;CACb;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;AACA;IACI,gBAAgB;CACnB;CACA;AACD;EACE,gBAAgB;EAChB,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,YAAY;CACb;AACD;EACE,qCAAqC;EACrC,kBAAkB;EAClB,sBAAsB;CACvB;AACD;EACE,+BAA+B;EAC/B,mBAAmB;EACnB,QAAQ;CACT;AACD;EACE,0BAA0B;EAC1B,iBAAiB;EACjB,oBAAoB;EACpB,mBAAmB;EACnB,WAAW;CACZ;AACD;EACE,YAAY;EACZ,oBAAoB;CACrB;AACD;EACE,eAAe;CAChB;AACD;EACE,UAAU;CACX;AACD;EACE,gBAAgB;CACjB;AACD;EACE,iBAAiB;EACjB,WAAW;EACX,eAAe;CAChB;AACD;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;CAChB",file:"settlementInfo.vue",sourcesContent:["\n.settlement-info {\n  width: 100%;\n  background-color: #efefef;\n  position: absolute;\n  top: 0px;\n  min-height: 100%;\n  height: auto;\n}\n.settlement-info .group0 .weui-cells {\n  margin-top: 0px !important;\n}\n.settlement-info .radio-container {\n  background-color: #fff;\n  padding-top: 10px;\n  padding-left: 10px;\n  font-size: 14px;\n  width: 100%;\n  box-sizing: border-box;\n}\n.settlement-info .radio-container .vertical-line {\n  display: inline-block;\n  width: 2px;\n  height: 0.8em;\n  background: #15499a;\n  margin-right: 4px;\n}\n.settlement-info .radio-container .radio-group {\n  padding: 5px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: start;\n  -webkit-justify-content: flex-start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  font-size: 15px;\n}\n@media screen and (max-width: 320px) {\n.settlement-info .radio-container .radio-group {\n    font-size: 12px;\n}\n}\n.settlement-info .radio-container .radio-group .van-radio {\n  margin-right: 10px;\n}\n.settlement-info .radio-container .radio-group .van-radio__label {\n  margin-left: 5px;\n}\n.settlement-info .radio-container .radio-group .checked .van-radio__label {\n  color: #15499a;\n}\n.settlement-info .radio-container .radio-group .iconwenhao {\n  color: #ffba00;\n}\n.settlement-info .img1 {\n  width: 8px;\n  height: 8px;\n}\n.settlement-info .img2 {\n  width: 15px;\n  height: 15px;\n}\n@media screen and (max-width: 320px) {\n.settlement-info .weui-cell {\n    font-size: 14px;\n}\n}\n.settlement-info .button {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 10;\n}\n.settlement-info .weui-btn_primary {\n  background-color: #15499a !important;\n  margin: 10px auto;\n  width: 90% !important;\n}\n.settlement-info #left {\n  border-left: 4px solid #15499a;\n  position: absolute;\n  left: 0;\n}\n.settlement-info .demo1-item {\n  border: 1px solid #ececec;\n  padding: 5px 5px;\n  border-radius: 19px;\n  text-align: center;\n  width: 25%;\n}\n.settlement-info .demo1-item-selected {\n  color: #fff;\n  background: #1581cf;\n}\n.settlement-info .selected {\n  color: #1581cf;\n}\n.settlement-info .weui-cell:before {\n  left: 0px;\n}\n.settlement-info .weui-cell:first-child:before {\n  display: inline;\n}\n.settlement-info .weui-cell_access .weui-cell__ft {\n  text-align: left;\n  width: 60%;\n  color: #202020;\n}\n.settlement-info .group1 .weui-cell_access .weui-cell__ft {\n  text-align: right;\n  width: 100%;\n  color: #757575;\n}\n"],sourceRoot:""}])},"39Vs":function(e,t){e.exports="data:image/png;base64,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"},ACfF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("woOf"),s=i.n(a),o=i("mvHQ"),r=i.n(o),n=i("//Fk"),l=i.n(n),c=i("Dd8w"),d=i.n(c),h=i("bOdI"),p=i.n(h),m=(i("le1z"),i("hZxG")),y=(i("HZGa"),i("pykS")),g=i("NYxO"),u=i("P9l9"),f=i("tMQd"),C=i("11Y/"),v=i("Hh+s"),b=i("/VK/"),w=(i("PEgo"),i("HNZ3")),B=(i("i0mo"),i("Hkar")),A=(i("MY4N"),i("0zAV")),x=i("RwS/"),S=(String,A.a,B.a,w.a,{name:"ReciveCom",props:{advancePayState:{type:String,default:"0"}},components:{vanField:A.a,vanCellGroup:B.a,vanActionSheet:w.a},data:function(){return{collectionFlagCfg:"",hybWalletCfg:"",zyCapitalCfg:"",reciveType:"",reciveTypeShow:!1,reciveTypeActionsShow:!1,reciveTypeActions:[{name:x.a},{name:x.c}],Data_HYB_RECIVE:x.a}},computed:{wbBusinessType:function(){return this.$store.state.deliveryGoods.deliveryGoodsWaybillInfo.wbBusinessType},weyBillSecond:function(){return this.$store.state.wayBill.weyBillSecond},hybWallet:function(){return this.$store.state.wayBill.weyBillSecond.hybWallet},driverName:function(){return this.$store.state.wayBill.weyBillSecond.driverName},SYSpass:function(){return this.$store.state.wayBill.weyBillSecond.alipayNo?"1":"0"},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMessageShow:function(){return"1"==this.advancePayState||(!!this.reciveType||"8"!==this.zyCapitalCfg&&"8"!==this.hybWalletCfg)},reciveMessage:function(){return"1"==this.advancePayState?this.reciveMessage_DFJ:this.reciveType==x.a?this.driverName:this.$store.state.wayBill.reciveMsgPay.recivePersonName},carTeamInfo:function(){return this.$store.state.carTeamMasterInfo.carTeamInfo},reciveMessage_DFJ:function(){return this.$store.state.carTeamMasterInfo.carTeamInfo.reciveMessage_DFJ},reciveTypeClickDisabled:function(){return"0"!==this.advancePayState&&"9"!==this.collectTwoCfg||"8"!==this.zyCapitalCfg||"1"!==this.SYSpass},reciveMessageClickDisabled:function(){return"1"===this.advancePayState&&"45"===this.collectionFlagCfg}},mounted:function(){var e=this;console.log("==========MixinsMounted============"),setTimeout(function(){e._getCompanyConfig().then(function(t){e.init()})},100)},methods:{_getCarMasterInfo:function(){var e=this;this.$store.commit("updateLoadingStatus",{isLoading:!0});var t={advancePayState:this.advancePayState,mobileNo:this.weyBillSecond.mobileNo,payeeName:this.weyBillSecond.driverName,driverName:this.weyBillSecond.driverName,cartBadgeNo:this.weyBillSecond.cartBadgeNo};Object(C.e)(t).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===t.data.reCode){var i=t.data.result.payeeList||[],a=i[i.length-1]||[];if(0===i.length)e.$store.commit("carTeamMasterInfo/RESET_CARTEAMINFO");else{var o=a.payeeName?a.payeeName+x.b:"";s()(a,{reciveMessage_DFJ:o}),e.$store.commit("carTeamMasterInfo/setCarTeamInfo",a)}}else e.$vux.toast.text(t.data.reInfo,"middle")}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1})})},init:function(){if(console.log("===init==="),"0"===this.advancePayState)"8"===this.zyCapitalCfg?"1"===this.SYSpass?this.reciveTypeShow=!0:(this.reciveType=x.c,this.reciveTypeShow=!0):"8"===this.hybWalletCfg&&(this.reciveType=x.c,this.reciveTypeShow=!0);else if("1"===this.advancePayState)if("45"===this.collectionFlagCfg){var e=this.driverName+x.b;this.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:e})}else"46"===this.collectionFlagCfg&&this._getCarMasterInfo()},changeReciver:function(){if(console.log("===changeReciver==="),"0"===this.advancePayState)"8"===this.zyCapitalCfg?"1"===this.SYSpass?(this.reciveType="",this.reciveTypeShow=!0,this.$store.commit("resetReciveMsgInfo")):(this.reciveType=x.c,this.reciveTypeShow=!0,this.$store.commit("resetReciveMsgInfo")):(""!==this.reciveMsgPay.acctType&&this.$store.commit("resetReciveMsgInfo"),"8"===this.hybWalletCfg&&(this.reciveType=x.c,this.reciveTypeShow=!0));else if("1"===this.advancePayState)if("45"===this.collectionFlagCfg){var e=this.driverName+x.b;this.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:e})}else"46"===this.collectionFlagCfg&&this._getCarMasterInfo()},reciveMessageClick:function(){try{MtaH5.clickStat("settlement_webrecivemsg")}catch(e){r()(e)}"0"===this.advancePayState?this.goReciveMessage():"1"===this.advancePayState&&"46"==this.collectionFlagCfg&&this.carMasterSelect()},goReciveMessage:function(){"8"===this.zyCapitalCfg&&this.reciveType===x.a?this.$router.push({path:"/webReciveMsg2",query:{driverName:this.weyBillSecond.driverName,idCard:this.weyBillSecond.idCard,mobileNo:this.weyBillSecond.mobileNo,alipayNo:this.weyBillSecond.alipayNo}}):this.$router.push({path:"/ReciveMessage",query:{driverName:this.weyBillSecond.driverName,idCard:this.weyBillSecond.idCard,mobileNo:this.weyBillSecond.mobileNo,alipayNo:this.weyBillSecond.alipayNo}})},carMasterSelect:function(){this.$router.push({path:"/carMasterReceiveMsg",query:{collectionFlagCfg:this.collectionFlagCfg,mobileNo:this.weyBillSecond.mobileNo,cartBadgeNo:this.weyBillSecond.cartBadgeNo,payeeName:this.weyBillSecond.driverName,driverName:this.weyBillSecond.driverName}})},_getCompanyConfig:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new l.a(function(t,i){Object(u.q)().then(function(a){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===a.data.reCode){var s=a.data.result;e.collectionFlagCfg=s.collectionFlagCfg,e.collectTwoCfg=s.collectTwoCfg,e.hybWalletCfg=s.hybWalletCfg,e.zyCapitalCfg=s.zyCapitalCfg,t()}else e.$vux.toast.text(a.data.reInfo,"middle"),i()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),i()})})},onSelectReciveActions:function(e){this.reciveTypeActionsShow=!1,this.reciveType=e.name},reciveTypeClick:function(){if(this.reciveTypeClickDisabled)return!1;this.reciveTypeActionsShow=!0},getReciveType:function(){return this.reciveType}}}),N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ReciveCom"},[i("van-cell-group",[i("van-field",{directives:[{name:"show",rawName:"v-show",value:e.reciveTypeShow,expression:"reciveTypeShow"}],attrs:{label:"收款方式：",placeholder:"请选择收款方式","right-icon":e.reciveTypeClickDisabled?"":"arrow",readonly:""},on:{click:e.reciveTypeClick},model:{value:e.reciveType,callback:function(t){e.reciveType=t},expression:"reciveType"}}),e._v(" "),i("div",{staticClass:"tips"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"0"===e.advancePayState&&e.reciveType===e.Data_HYB_RECIVE&&"8"===e.zyCapitalCfg,expression:"advancePayState==='0' && reciveType===Data_HYB_RECIVE && zyCapitalCfg === '8'"}]},[i("i",{staticClass:"iconfont icongantanhao"}),e._v("司机"+e._s(this.driverName)+"已开通好运宝收款，请提醒司机去收款")])]),e._v(" "),i("van-field",{directives:[{name:"show",rawName:"v-show",value:e.reciveMessageShow,expression:"reciveMessageShow"}],attrs:{label:"收款人信息：",placeholder:"请选择收款人信息","right-icon":e.reciveMessageClickDisabled?"":"arrow",readonly:""},on:{click:e.reciveMessageClick},model:{value:e.reciveMessage,callback:function(t){e.reciveMessage=t},expression:"reciveMessage"}}),e._v(" "),i("div",{staticClass:"tips"},["2"==e.wbBusinessType&&"45"===e.collectionFlagCfg?i("span",[i("i",{staticClass:"iconfont icongantanhao"}),e._v("路歌推荐运力仅支持司机本人好运宝钱包收款！")]):"1"===e.advancePayState&&"46"===e.collectionFlagCfg&&"6"===e.carTeamInfo.acctType?i("span",[i("i",{staticClass:"iconfont icongantanhao"}),e._v("提醒车队长去好运宝钱包提现运费！")]):"1"===e.advancePayState&&"45"===e.collectionFlagCfg&&"8"===e.hybWalletCfg&&"1"===e.hybWallet||"1"===e.advancePayState&&"46"===e.collectionFlagCfg&&"5"===e.carTeamInfo.acctType?i("span",[i("i",{staticClass:"iconfont icongantanhao"}),e._v("提醒司机去好运宝钱包提现运费！")]):"1"!==e.advancePayState||"46"!=e.collectionFlagCfg||e.carTeamInfo.payeeName?"1"===e.advancePayState&&"45"===e.collectionFlagCfg&&"1"!=e.hybWallet?i("span",[i("i",{staticClass:"iconfont icongantanhao"}),e._v("提醒司机开通好运宝钱包绑定银行卡去提现运费！")]):e._e():i("span",[i("i",{staticClass:"iconfont icongantanhao"}),e._v("提醒收款人开通钱包绑定银行卡提现运费！")])])],1),e._v(" "),i("van-action-sheet",{attrs:{round:!1,actions:e.reciveTypeActions},on:{select:e.onSelectReciveActions},model:{value:e.reciveTypeActionsShow,callback:function(t){e.reciveTypeActionsShow=t},expression:"reciveTypeActionsShow"}})],1)};N._withStripped=!0;var F={render:N,staticRenderFns:[]},T=F;var k=!1;var P=i("VU/8")(S,T,!1,function(e){k||i("n3ms")},"data-v-331ebf77",null);P.options.__file="src/components/wbs/components/ReciveCom.vue";var I,_=P.exports,E=i("xsTr"),O=i("f9dI");function $(e){O()&&window.require("electron").ipcRenderer.send("receivingOrder",{type:"newOrders",obj:e})}I={ReciveComponent:_},p()(I,y.a.name,y.a),p()(I,m.a.name,m.a),d()({chooseOilCardItem:function(){return this.$store.state.oilCard.chooseOilCardItem},weyBillFirst:function(){return this.$store.state.wayBill.weyBillFirst},weyBillSecond:function(){return this.$store.state.wayBill.weyBillSecond},weyBillThird:function(){return this.$store.state.wayBill.weyBillThird},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMsgPay1:function(){return this.$store.state.wayBill.reciveMsgPay1},deliveryGoodsWaybillInfo:function(){return this.$store.state.deliveryGoods.deliveryGoodsWaybillInfo}},Object(g.b)("carTeamMasterInfo/",{carTeamInfo:function(e){return e.carTeamInfo}}));var R,M={name:"settlementInfo",data:function(){return{firstLoad:!0,allFreight_2:"",prepayments_2:"",prepaymentsOilCard_2:"",oilCardNo_2:"",arrivePay_2:"0.00",backFee_2:"",modelRadio:"",allFreight:"",arrivePay:"0.00",backFee:"",prepayments:"",prepaymentsOilCard:"",oilCardNo:"",prepaymentsBuyOil:"",prepaymentsEtcCard:"0",prepaymentsBuyEtc:"",prepaymentsBuyGas:"",yetBuyEtcNotInvoice:"",yetBuyGasNotInvoice:"",yetBuyOilNotInvoice:"",yetPrepaymentsBuyEtc:"",yetPrepaymentsBuyGas:"",yetPrepaymentsBuyOil:"",loginState:"",value1:"",maxAllFreight:"",existsAvaibleOilStation:"",existsAvaibleEtcStation:"",existsAvaibleGasStation:"",freightIncr:"0",oilCardPayUpperCfg:"",oilCardPayLowerCfg:"",collectTwoDriServiceCfg:"",collectTwoDriAccPerCfg:"",oilCardCfg:"",etcCardCfg:"",goodsCost:"",src:i("39Vs"),src1:i("1Rs3"),src2:i("39Vs"),items1Value:"1",goodsInsuranceCfg:"",orgAttr:"",disabled1:!1,disabled2:!1,successFlag:1,taxWaybillId:this.$route.query.taxWaybillId,belongActSys:"",wbBusinessType:"",goodsId:"",insFee:"0.00",priceInsuranceCfg:"",priceInsuranceRate:"",show1:!1,menus1:{menu1:"好运宝收款",menu2:"银行卡收款"},value2:"请选择收款方式",zyCapitalCfg:"",hybWalletCfg:"",zblState:"",isEleOil:"",isSelfGathering:"",shoukuanType:!1,report003Cfg:"",deposit:"",promotionFee:"",receivablePayback:"",depositCfg:"",promotionFeeCfg:"",receivablePaybackCfg:"",driverFinanceCfg:"",driverFinanceProportionCfg:"",collectTwoCfg:"",waybillRangeCfg:"",supplyChainState:"",collectTwoPreCashCfg:"",collectTwoRecDepositCfg:"",isSfOrg:"0",collectTwoType:"",collectionFlagCfg:"",orgCfg718:"",carMasterName:"",isCarMaster:"",masterNull:1,mobileNo1:"",payeeName1:"",driverName1:"",cartBadgeNo1:"",orgCfg726:"",orgCfg710:""}},components:(R={ReciveComponent:_},p()(R,y.a.name,y.a),p()(R,m.a.name,m.a),R),beforeRouteLeave:function(e,t,i){var a={type:"weyBillThird",updatMsg:{allFreight:this.allFreight,backFee:this.backFee,prepayments:this.prepayments,prepaymentsOilCard:this.prepaymentsOilCard,prepaymentsBuyOil:this.prepaymentsBuyOil,prepaymentsBuyGas:this.prepaymentsBuyGas,prepaymentsBuyEtc:this.prepaymentsBuyEtc,goodsCost:this.goodsCost,items1Value:this.items1Value,zyCapitalCfg:this.zyCapitalCfg,hybWalletCfg:this.hybWalletCfg}};this.$store.commit("updateWayBillStatus",a),i()},beforeRouteEnter:function(e,t,i){i(function(e){if(e.items1Value=e.weyBillFirst.items1Value,"chooseOilCard"==t.name||"addOilCard"==t.name)null!=window.localStorage.getItem("oilCardNo")&&("2"===e.modelRadio&&(e.oilCardNo_2=window.localStorage.getItem("oilCardNo")),e.oilCardNo=window.localStorage.getItem("oilCardNo"),window.localStorage.removeItem("oilCardNo")),e.isEleOil="4"==e.chooseOilCardItem.oilBigType?"0":"1";else if("wbsCarTeam"==t.name){var i=localStorage.getItem("cartBadgeNoChange");1==i&&0!=e.isEleOil&&(e.oilCardNo=""),window.localStorage.removeItem("cartBadgeNoChange");var a=localStorage.getItem("mobileNoChange");1==a&&0==e.isEleOil&&(e.oilCardNo=""),window.localStorage.removeItem("mobileNoChange");var s=localStorage.getItem("driverNameNoChange");window.localStorage.removeItem("driverNameNoChange"),"2"===e.modelRadio&&e.modelRadioInit(),e.firstLoad||"1"!=i&&"1"!=a&&"1"!=s||e.$refs.reciver_0.changeReciver()}e.$store.commit("updateLoadingStatus",{isLoading:!1})})},watch:{modelRadio:function(e){"2"===e&&this.modelRadioInit()}},created:function(){var e=this;this.firstLoad=!1,this._getCompanyConfig().then(function(t){e._queryWaybill()}).catch(function(e){})},computed:d()({chooseOilCardItem:function(){return this.$store.state.oilCard.chooseOilCardItem},weyBillFirst:function(){return this.$store.state.wayBill.weyBillFirst},weyBillSecond:function(){return this.$store.state.wayBill.weyBillSecond},weyBillThird:function(){return this.$store.state.wayBill.weyBillThird},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMsgPay1:function(){return this.$store.state.wayBill.reciveMsgPay1},deliveryGoodsWaybillInfo:function(){return this.$store.state.deliveryGoods.deliveryGoodsWaybillInfo}},Object(g.b)("carTeamMasterInfo/",{carTeamInfo:function(e){return e.carTeamInfo}})),activated:function(){this.mobileNo1=this.weyBillSecond.mobileNo,this.payeeName1=this.weyBillSecond.driverName,this.driverName1=this.weyBillSecond.driverName,this.cartBadgeNo1=this.weyBillSecond.cartBadgeNo},methods:{seeSettlementActivity:function(){this.$router.push({path:"/settlementActivity",query:{collectTwoDriAccPerCfg:this.collectTwoDriAccPerCfg,collectTwoRecDepositCfg:this.collectTwoRecDepositCfg,orgCfg726:this.orgCfg726,orgCfg710:this.orgCfg710}})},modelRadioInit:function(){var e=this;this._getOilCardNo().then(function(t){e.$refs.reciver_1.init()}).catch(function(e){})},checkChooseModel:function(e){"8"===this.collectTwoCfg&&""===this.modelRadio&&39==this.waybillRangeCfg&&(this.$vux1.confirm.show({title:"提示",content:"请先选择运费付款方式",confirmText:"确认",showCancelButton:!1,onConfirm:function(){}}),e.stopPropagation())},_queryWaybill:function(){var e=this;Object(u.F)().then(function(t){if(0==t.data.reCode){var i=t.data.result;if(e.belongActSys=i.belongActSys,e.oilCardCfg=i.oilCardCfg,e.etcCardCfg=i.etcCardCfg,e.maxAllFreight=i.maxAllFreight,e.existsAvaibleOilStation=i.existsAvaibleOilStation,e.existsAvaibleEtcStation=i.existsAvaibleEtcStation,e.existsAvaibleGasStation=i.existsAvaibleGasStation,e.goodsInsuranceCfg=i.goodsInsuranceCfg,e.orgAttr=i.orgAttr,e.yetBuyEtcNotInvoice=i.yetBuyEtcNotInvoice,e.yetBuyGasNotInvoice=i.yetBuyGasNotInvoice,e.yetBuyOilNotInvoice=i.yetBuyOilNotInvoice,e.yetPrepaymentsBuyEtc=i.yetPrepaymentsBuyEtc,e.yetPrepaymentsBuyGas=i.yetPrepaymentsBuyGas,e.yetPrepaymentsBuyOil=i.yetPrepaymentsBuyOil,e.oilCardPayUpperCfg=i.oilCardPayUpperCfg,e.loginState=i.loginState,e.report003Cfg=i.report003Cfg,e.depositCfg=i.depositCfg,e.promotionFeeCfg=i.promotionFeeCfg,e.receivablePaybackCfg=i.receivablePaybackCfg,e.priceInsuranceCfg=i.priceInsuranceCfg,e.priceInsuranceRate=i.priceInsuranceRate,e.zyCapitalCfg=i.zyCapitalCfg,e.hybWalletCfg=i.hybWalletCfg,e.driverFinanceCfg=i.driverFinanceCfg,e.driverFinanceProportionCfg=i.driverFinanceProportionCfg,e.isSfOrg=i.isSfOrg,void 0!==e.taxWaybillId){var a={taxWaybillId:e.taxWaybillId};Object(u.c)(a).then(function(t){if("0"===t.data.reCode){var i=t.data.result;e.allFreight=i.userFreight,e.prepayments=i.prepayments,e.backFee=i.backFee}}).catch(function(t){e.$vux.toast.text(t.message,"middle"),e.$store.commit("updateLoadingStatus",{isLoading:!1})})}else{e.wbBusinessType=e.deliveryGoodsWaybillInfo.wbBusinessType,e.goodsId=e.deliveryGoodsWaybillInfo.goodsId,e.isSelfGathering=e.deliveryGoodsWaybillInfo.isSelfGathering;var s=e.deliveryGoodsWaybillInfo.expectFreight;2==e.wbBusinessType?1==e.isSelfGathering&&"42"!==e.collectTwoType?(e.modelRadio="2",e.disabled1=!0,e.allFreight_2=s):(e.modelRadio="1",e.disabled2=!0,e.allFreight=s):e.allFreight=e.weyBillThird.allFreight,e.prepayments=e.weyBillThird.prepayments,e.backFee=e.weyBillThird.backFee}}else e.$vux.toast.text(t.data.reInfo,"middle")}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")}),this.goodsCost=this.weyBillThird.goodsCost,this.prepaymentsBuyOil=this.weyBillThird.prepaymentsBuyOil,this.prepaymentsOilCard=this.weyBillThird.prepaymentsOilCard,this.prepaymentsBuyGas=this.weyBillThird.prepaymentsBuyGas,this.prepaymentsBuyEtc=this.weyBillThird.prepaymentsBuyEtc,this.changeType(this.items1Value)},_getOilCardNo:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new l.a(function(t,i){var a={driverMobileNo:e.weyBillSecond.mobileNo};Object(v.b)(a).then(function(a){e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===a.data.reCode?(e.oilCardNo_2=a.data.result.oilCardNo,t()):i()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),i()})})},_getCompanyConfig:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new l.a(function(t,i){Object(u.q)().then(function(a){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===a.data.reCode){var s=a.data.result;e.collectTwoCfg=s.collectTwoCfg,e.waybillRangeCfg=s.waybillRangeCfg,e.supplyChainState=s.supplyChainState,e.oilCardPayLowerCfg=s.oilCardPayLowerCfg,e.collectTwoDriServiceCfg=s.collectTwoDriServiceCfg,e.collectTwoDriAccPerCfg=s.collectTwoDriAccPerCfg,e.collectTwoType=s.collectTwoType,e.collectTwoPreCashCfg=s.collectTwoPreCashCfg,e.collectTwoRecDepositCfg=s.collectTwoRecDepositCfg,e.collectionFlagCfg=s.collectionFlagCfg,e.orgCfg718=s.orgCfg718,e.orgCfg726=s.orgCfg726,e.orgCfg710=s.orgCfg710,"42"===e.collectTwoType&&(e.modelRadio="1"),"42"!==e.collectTwoType&&("8"===e.collectTwoCfg&&39==e.waybillRangeCfg||2==e.wbBusinessType)&&(e.modelRadio="2"),t()}else e.$vux.toast.text(a.data.reInfo,"middle"),i()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),i()})})},checkPrepaymentsOilCard:function(){var e=this;if(this.isEmptyStr(this.prepaymentsOilCard_2)){if(Number(this.oilCardPayLowerCfg)>0)return this.$vux.alert.show({title:"提示",content:"预付油卡金额必填！"}),!1}else if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepaymentsOilCard_2))return this.$vux.alert.show({title:"提示",content:"无效的预付油卡金额！"}),!1;if(!this.validateBackFee_2())return!1;var t=(Number(this.allFreight_2)*Number(this.oilCardPayLowerCfg)).toFixed(2);return Number(this.prepaymentsOilCard_2)<Number(t)?(this.prepaymentsOilCard_2=0,this.arrivePay_2=(Number(this.allFreight_2)-Number(this.prepaymentsOilCard_2)-Number(this.prepayments_2)-Number(this.backFee_2)).toFixed(2),this.$vux1.confirm.show({title:"提示",content:"您输入的预付油卡金额不可小于"+Number(t)+"元",confirmText:"确认",showCancelButton:!1,onConfirm:function(){e.$refs.prepayOilcard.focus()},onCancel:function(){e.$refs.prepayOilcard.focus()},onClose:function(){e.$refs.prepayOilcard.focus()}}),!1):Number(this.prepaymentsOilCard_2)>Number(this.allFreight_2)?(this.prepaymentsOilCard_2=0,this.arrivePay_2=(Number(this.allFreight_2)-Number(this.prepaymentsOilCard_2)-Number(this.prepayments_2)-Number(this.backFee_2)).toFixed(2),this.$vux1.confirm.show({title:"提示",content:"您输入的预付油卡金额不可大于运费金额！",confirmText:"确认",showCancelButton:!1,onConfirm:function(){e.$refs.prepayOilcard.focus()},onCancel:function(){e.$refs.prepayOilcard.focus()},onClose:function(){e.$refs.prepayOilcard.focus()}}),!1):(this.arrivePay_2=(Number(this.allFreight_2)-Number(this.prepaymentsOilCard_2)-Number(this.prepayments_2)-Number(this.backFee_2)).toFixed(2),!0)},arriveBlur:function(e){if("2"===this.modelRadio)if(1===e){var t=Number(this.allFreight_2)*this.oilCardPayLowerCfg,i=Number(this.allFreight_2)*this.oilCardPayUpperCfg,a=Number(100*Math.ceil(t/100)).toFixed(2);Number(t)>100?Number(a)>i?this.prepaymentsOilCard_2=Number(i).toFixed(2):this.prepaymentsOilCard_2=Number(a).toFixed(2):this.prepaymentsOilCard_2=Number(t).toFixed(2),this.arrivePay_2=(Number(this.allFreight_2)-Number(this.prepaymentsOilCard_2)-Number(this.prepayments_2)-Number(this.backFee_2)).toFixed(2),this.validateBackFee_2()}else this.checkPrepaymentsOilCard();else this.arrivePay=(Number(this.allFreight)-Number(this.prepayments)-Number(this.prepaymentsOilCard)-Number(this.backFee)+Number(this.freightIncr)).toFixed(2);"NaN"==this.arrivePay&&(this.arrivePay="0.00")},validateBackFee_2:function(){var e=!0;if("8"==this.collectTwoCfg&&"8"==this.collectTwoRecDepositCfg&&"44"==this.orgCfg710&&""!==this.orgCfg726){var t=Number((100*Number(this.orgCfg726)*Number(this.allFreight_2)/100).toFixed(2));Number(this.backFee_2)>200&&Number(this.backFee_2)>t&&(this.$vux1.confirm.show({title:"提示",content:"回单押金不可超过运费金额的"+100*Number(this.orgCfg726)+"%",confirmText:"确认",showCancelButton:!1,onConfirm:function(){},onCancel:function(){},onClose:function(){}}),e=!1)}return e},gotoSelectOilCard:function(e){},inputBlur:function(){"8"==this.priceInsuranceCfg&&(/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost)?this.insFee=Number(this.goodsCost*this.priceInsuranceRate).toFixed(2):this.insFee="0.00"),""==this.goodsCost&&(this.insFee="0.00")},claimRules:function(){this.$router.push("/claimRules")},changeType:function(e){try{MtaH5.clickStat("settlement_goodsinsurance")}catch(e){r()(e)}0==e?(this.items1Value="0",this.src=this.src1):(this.items1Value="1",this.src=this.src2)},buildWaybill:function(){var e=this;try{MtaH5.clickStat("settlement_jiandan")}catch(e){r()(e)}if("8"!==this.collectTwoCfg||""!==this.modelRadio||39!=this.waybillRangeCfg)if("2"===this.modelRadio){if(!this.checkPrepaymentsOilCard())return!1;if(this.isEmptyStr(this.allFreight_2))return this.$vux.alert.show({title:"提示",content:"运费金额必填！"}),!1;if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.allFreight_2))return this.$vux.alert.show({title:"提示",content:"运费金额不合法！"}),!1;if(Number(this.allFreight_2)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"运费金额不能超过最大金额！"}),!1;if(!this.isEmptyStr(this.prepayments_2)){if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepayments_2))return this.$vux.alert.show({title:"提示",content:"无效的预付现金金额！"}),!1;if(!this.isEmptyStr(this.allFreight_2)&&Number(this.prepayments_2)>Number(this.allFreight_2))return this.$vux.alert.show({title:"提示",content:"预付现金不能大于运费金额！"}),!1;if(Number(this.prepayments_2)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"预付现金不能超过最大运费金额！"}),!1}if(this.isEmptyStr(this.oilCardNo_2)&&Number(this.oilCardPayLowerCfg)>0)return this.$vux.alert.show({title:"提示",content:"油卡卡号必填！"}),!1;if(this.isEmptyStr(this.prepaymentsOilCard_2)&&Number(this.oilCardPayLowerCfg)>0)return this.$vux.alert.show({title:"提示",content:"预付油卡必填！"}),!1;if(!this.isEmptyStr(this.backFee_2)){if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.backFee_2))return this.$vux.alert.show({title:"提示",content:"无效的回单押金金额！"}),!1;if(!this.isEmptyStr(this.allFreight_2)&&Number(this.backFee_2)>Number(this.allFreight_2))return this.$vux.alert.show({title:"提示",content:"回单押金不能大于运费金额！"}),!1;if(Number(this.backFee_2)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"回单押金不能超过最大运费金额！"}),!1}if(8==this.priceInsuranceCfg){if(this.goodsCost=this.trim(this.goodsCost),this.isEmptyStr(this.goodsCost))return this.$vux.alert.show({title:"提示",content:'企业已开通"保价运输"请输入此次运输货值！'}),!1;if(!/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost))return this.$vux.toast.text("货值输入不合法！","middle"),!1}if(8==this.goodsInsuranceCfg&&0==this.items1Value||2==this.orgAttr){if(this.goodsCost=this.trim(this.goodsCost),this.isEmptyStr(this.goodsCost))return this.$vux.toast.text("货值必填！","middle"),!1;if(!/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost))return this.$vux.toast.text("货值输入不合法！","middle"),!1}this.success()}else{if(this.isEmptyStr(this.allFreight))return this.$vux.alert.show({title:"提示",content:"运费金额必填！"}),!1;this.allFreight=this.trim(this.allFreight);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.allFreight))return this.$vux.alert.show({title:"提示",content:"运费金额不合法！"}),!1;if(Number(this.allFreight)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"运费金额不能超过最大金额！"}),!1;if(!this.isEmptyStr(this.prepayments)){this.prepayments=this.trim(this.prepayments);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepayments))return this.$vux.alert.show({title:"提示",content:"无效的预付现金！"}),!1;if(!this.isEmptyStr(this.allFreight)&&Number(this.prepayments)>Number(this.allFreight))return this.$vux.alert.show({title:"提示",content:"预付现金不能超过运费金额！"}),!1;if(Number(this.prepayments)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"预付现金不能超过最大金额！"}),!1}if(8==this.oilCardCfg&&!this.isEmptyStr(this.prepaymentsOilCard)){this.prepaymentsOilCard=this.trim(this.prepaymentsOilCard);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepaymentsOilCard))return this.$vux.alert.show({title:"提示",content:"无效的预付油卡金额！"}),!1;if(Number(this.prepaymentsOilCard)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"预付油卡金额不能超过最大金额！"}),!1;if(""==this.oilCardNo)return this.$vux1.confirm.show({title:"提示",content:"<p style='color:#454545;'>当前运单存在预付油卡</p><p style='color:#454545;'>请选择油卡!</p>",confirmText:"选择油卡",cancelText:"确认建单",onConfirm:function(){try{MtaH5.clickStat("settlement_alertchoosecard")}catch(e){r()(e)}e.$router.push({path:"/chooseOilCard",query:{belongActSys:e.belongActSys,prepaymentsOilCard:e.prepaymentsOilCard}})},onCancel:function(){try{MtaH5.clickStat("settlement_alertbuildensure")}catch(e){r()(e)}if(0==e.driverFinanceJudge())return!1;e.success()}}),!1}if(8==this.priceInsuranceCfg){if(this.goodsCost=this.trim(this.goodsCost),this.isEmptyStr(this.goodsCost))return this.$vux.alert.show({title:"提示",content:'企业已开通"保价运输"请输入此次运输货值！'}),!1;if(!/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost))return this.$vux.toast.text("货值输入不合法！","middle"),!1}if(1==this.existsAvaibleOilStation&&!this.isEmptyStr(this.prepaymentsBuyOil)){this.prepaymentsBuyOil=this.trim(this.prepaymentsBuyOil);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepaymentsBuyOil))return this.$vux.alert.show({title:"提示",content:"无效的线下油款金额！"}),!1;if(Number(this.prepaymentsBuyOil)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"线下油款不能超过最大金额！"}),!1}if(1==this.existsAvaibleEtcStation&&!this.isEmptyStr(this.prepaymentsBuyEtc)){if(this.prepaymentsBuyEtc=this.trim(this.prepaymentsBuyEtc),!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepaymentsBuyEtc))return this.$vux.alert.show({title:"提示",content:"无效的线下路桥费金额！"}),!1}if(1==this.existsAvaibleGasStation&&!this.isEmptyStr(this.prepaymentsBuyGas)){if(this.prepaymentsBuyGas=this.trim(this.prepaymentsBuyGas),!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.prepaymentsBuyGas))return this.$vux.alert.show({title:"提示",content:"无效的线下气款金额！"}),!1}if("8"==this.oilCardCfg){if(0==this.existsAvaibleOilStation&&Object(f.c)(this.prepaymentsOilCard,Object(f.b)(this.d(this.f(this.allFreight,0),this.freightIncr),this.oilCardPayUpperCfg))>0)return this.$vux.alert.show({title:"提示",content:"请确认，预付油卡金额不能大于设置的上限。"}),!1;if(Object(f.c)(Object(f.a)(this.prepaymentsOilCard,this.prepaymentsBuyOil),Object(f.b)(this.d(this.d(this.f(this.allFreight,0),this.freightIncr),this.prepaymentsBuyOil),this.oilCardPayUpperCfg))>0)return this.$vux.alert.show({title:"提示",content:"请确认，预付油卡金额加上线下油款金额不能大于设置的上限。"}),!1}if(Object(f.c)(Object(f.a)(this.prepaymentsBuyOil,this.yetPrepaymentsBuyOil),this.yetBuyOilNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下油款不能大于累计购油未开票余额。"}),!1;if(Object(f.c)(Object(f.a)(this.prepaymentsBuyEtc,this.yetPrepaymentsBuyEtc),this.yetBuyEtcNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下路桥费不能大于累计路桥费未开票余额。"}),!1;if(Object(f.c)(Object(f.a)(this.prepaymentsBuyGas,this.yetPrepaymentsBuyGas),this.yetBuyGasNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下气款不能大于累计气款未开票余额。"}),!1;if(!this.isEmptyStr(this.backFee)){this.backFee=this.trim(this.backFee),this.allFreight=this.trim(this.allFreight);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.backFee))return this.$vux.alert.show({title:"提示",content:"无效的回单押金金额！"}),!1;if(!this.isEmptyStr(this.allFreight)&&Number(this.backFee)>Number(this.allFreight))return this.$vux.alert.show({title:"提示",content:"回单押金不能大于运费金额！"}),!1;if(Number(this.backFee)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"回单押金不能超过最大运费金额！"}),!1}if(8==this.goodsInsuranceCfg&&0==this.items1Value||2==this.orgAttr){if(this.goodsCost=this.trim(this.goodsCost),this.isEmptyStr(this.goodsCost))return this.$vux.toast.text("货值必填！","middle"),!1;if(!/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost))return this.$vux.toast.text("货值输入不合法！","middle"),!1}if(this.d(this.prepaymentsEtcCard,this.d(this.prepaymentsOilCard,this.d(this.prepayments,this.backFee)))>this.d(this.f(this.allFreight,0),this.freightIncr))return"8"==this.oilCardCfg&&"8"==this.etcCardCfg?this.$vux.alert.show({title:"提示",content:"请确认，预付油卡加上预付现金加上回单押金必须要小于等于运费金额。"}):"8"==this.oilCardCfg&&"9"==this.etcCardCfg?this.$vux.alert.show({title:"提示",content:"请确认，预付油卡加上预付现金加上回单押金必须要小于等于运费金额。"}):("9"==this.oilCardCfg&&this.etcCardCfg,this.$vux.alert.show({title:"提示",content:"请确认，预付现金加上回单押金必须要小于等于运费金额。"})),!1;if(!this.isEmptyStr(this.backFee)){this.backFee=this.trim(this.backFee),this.allFreight=this.trim(this.allFreight);if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.backFee))return this.$vux.alert.show({title:"提示",content:"无效的回单押金金额！"}),!1;if(!this.isEmptyStr(this.allFreight)&&Number(this.backFee)>Number(this.allFreight))return this.$vux.alert.show({title:"提示",content:"回单押金不能大于运费金额！"}),!1;if(Number(this.backFee)>Number(this.maxAllFreight))return this.$vux.alert.show({title:"提示",content:"回单押金不能超过最大运费金额！"}),!1}if(!this.isEmptyStr(this.deposit)){if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.deposit))return this.$vux.alert.show({title:"提示",content:"无效的定金！"}),!1}if(!this.isEmptyStr(this.promotionFee)){if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.promotionFee))return this.$vux.alert.show({title:"提示",content:"无效的推广费！"}),!1}if(!this.isEmptyStr(this.receivablePayback)){if(!/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(this.receivablePayback))return this.$vux.alert.show({title:"提示",content:"无效的应收回款！"}),!1}if(0==this.driverFinanceJudge())return!1;if(!(this.isEmptyStr(this.weyBillFirst.startProvinceCode)||this.isEmptyStr(this.weyBillFirst.endProvinceCode)||this.isEmptyStr(this.weyBillFirst.startCityCode)||this.isEmptyStr(this.weyBillFirst.endCityCode)||this.isEmptyStr(this.allFreight))){if(!this.successFlag)return!1;this.success()}}else this.$vux1.confirm.show({title:"提示",content:"请先选择运费付款方式",confirmText:"确认",showCancelButton:!1,onConfirm:function(){}})},success:function(){var e=this,t=this;this.$store.commit("updateLoadingStatus",{isLoading:!0}),this.successFlag=0;var i={fromProvId:this.weyBillFirst.startProvinceCode,toProvId:this.weyBillFirst.endProvinceCode,fromCityId:this.weyBillFirst.startCityCode,toCityId:this.weyBillFirst.endCityCode,allFreight:this.allFreight};"2"===this.modelRadio&&(i.allFreight=this.allFreight_2),Object(u.e)(i).then(function(i){"0"==i.data.reCode?"2"===t.modelRadio?t.gotoBuild():"5"==e.reciveMsgPay.acctType||"6"==e.reciveMsgPay.acctType||""==e.reciveMsgPay.reciveBank?t.oilCardCheck():t.informationEntry():(e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.successFlag=1,"1"==i.data.reCode?e.$vux1.confirm.show({title:"提示",content:i.data.reInfo,confirmText:"确认",cancelText:"取消",onConfirm:function(){"2"===t.modelRadio?t.gotoBuild():"5"==e.reciveMsgPay.acctType||"6"==e.reciveMsgPay.acctType||""==e.reciveMsgPay.reciveBank?t.oilCardCheck():t.informationEntry()}}):e.$vux.toast.text("抱歉,您录入的数据不合法,请核实后重试！","middle"))}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1})})},informationEntry:function(){var e=this,t={mobileNo:this.weyBillSecond.mobileNo,payeeBankNo:this.reciveMsgPay.recivePersonBankNum,payeeName:this.reciveMsgPay.recivePersonName,payeeBankName:this.reciveMsgPay.reciveBank,payeeProvinceId:this.reciveMsgPay.provinceId,payeeCityId:this.reciveMsgPay.cityId,payeeIdCard:this.reciveMsgPay.recivePersonCardNum,payeeMobileNo:this.reciveMsgPay.recivePersonphoneNum,alipayNo:this.reciveMsgPay.alipayNo};""!=t.mobileNo&&""!=t.payeeBankNo&&""!=t.payeeName&&""!=t.payeeBankName&&""!=t.payeeProvinceId&&""!=t.payeeCityId&&""!=t.payeeIdCard&&""!=t.payeeMobileNo?(this.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(C.i)(t).then(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.oilCardCheck()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")})):this.oilCardCheck()},oilCardCheck:function(){var e=this;if("8"==this.oilCardCfg){var t=this,i={prepaymentsOilCard:this.prepaymentsOilCard,cartBadgeNo:this.weyBillSecond.cartBadgeNo,belongActSys:this.belongActSys,oilCardNo:this.oilCardNo};Object(v.d)(i).then(function(i){"0"==i.data.reCode?t.gotoBuild():(e.successFlag=1,e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.alert.show({title:"提示",buttonText:"知道了",content:i.data.reInfo}))}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1})})}else this.gotoBuild()},validation:function(){this.$store.commit("updateLoadingStatus",{isLoading:!1});return/^1\d{10}$/.test(this.weyBillSecond.mobileNo)?this.weyBillSecond.driverName?"0"==this.loginState&&"49"!==this.orgCfg718&&Array.isArray(this.weyBillFirst.drawee)?(this.$vux.toast.text("请重新选择受票方！","middle"),!1):!(this.isEmptyStr(this.weyBillFirst.startProvinceCode)||this.isEmptyStr(this.weyBillFirst.endProvinceCode)||this.isEmptyStr(this.weyBillFirst.startCityCode)||this.isEmptyStr(this.weyBillFirst.endCityCode))||(this.$vux.toast.text("城市数据不正确！请重新选择","middle"),!1):(this.$vux.toast.text("司机姓名不能为空！","middle"),!1):(this.$vux.toast.text("司机手机号码输入错误！","middle"),!1)},gotoBuild:function(){var e=this;if(this.validation()){this.$store.commit("updateLoadingStatus",{isLoading:!0});var t=void 0;t=8!=this.weyBillFirst.billCycleMode?"":this.weyBillFirst.transTrip,0==this.weyBillFirst.startTime.length?"":this.weyBillFirst.startTime.replace(/\//g,"-");var i={taxDraweePartyId:0!=this.loginState?"":this.weyBillFirst.taxDraweePartyId,note:this.weyBillSecond.note,taxWaybillNo:this.weyBillFirst.taxWaybillNo,cartLength:parseFloat(this.weyBillSecond.carLength)+"",goodsAmount:this.weyBillFirst.goodsAmount,prepaymentsOilCard:this.prepaymentsOilCard,cityId:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"":"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"701":this.reciveMsgPay.reciveBankAdress[1]:"",allFreight:this.allFreight,endProvinceId:this.weyBillFirst.endProvinceCode,backFee:this.backFee,payType:"",alipayNo:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"2"===window.sessionStorage.isChooseType?window.localStorage.getItem("alipayNo"):this.$route.query.alipayNo:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.alipayNo:"",payIdCard:"8"===this.zyCapitalCfg&&"好运宝收款"==o?this.weyBillSecond.idCard:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonCardNum:"",hkbPayeeType:"",isBuyInsurance:this.items1Value,prepaymentsBuyGas:this.prepaymentsBuyGas,cartType:this.weyBillSecond.carType,cartTonnage:parseFloat(this.weyBillSecond.carTonNumber)+"",startTime:this.weyBillFirst.startTime,transTrip:t,goodsCost:"8"==this.goodsInsuranceCfg&&0==this.items1Value||"2"==this.orgAttr?this.goodsCost:"8"==this.priceInsuranceCfg?this.goodsCost:"",payBankNo:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"2"===window.sessionStorage.isChooseType?window.localStorage.getItem("bankNum"):this.weyBillSecond.payBankNo:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonBankNum:"",cartBadgeNo:this.weyBillSecond.cartBadgeNo,goodsName:this.weyBillFirst.goodsName,payName:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"2"===window.sessionStorage.isChooseType?window.localStorage.getItem("driverName"):this.weyBillSecond.payName:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonName:"",startCountyId:this.weyBillFirst.startCountyCode,unitPrice:this.weyBillFirst.unitPrice,endCityId:this.weyBillFirst.endCityCode,prepaymentsBuyEtc:this.prepaymentsBuyEtc,prepaymentsBuyOil:this.prepaymentsBuyOil,wbItem:this.weyBillFirst.wbItem,startProvinceId:this.weyBillFirst.startProvinceCode,oilCardNo:this.oilCardNo,mobileNo:this.weyBillSecond.mobileNo,payBankName:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"2"===window.sessionStorage.isChooseType?window.localStorage.getItem("bankName"):this.weyBillSecond.payBankName:"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"浙江网商银行":this.reciveMsgPay.reciveBank:"",provinceId:"8"===this.zyCapitalCfg&&"好运宝收款"==o?"":"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"7":this.reciveMsgPay.reciveBankAdress[0]:"",goodsAmountType:this.weyBillFirst.goodsAmountType.key,endCountyId:this.weyBillFirst.endCountyCode,startCityId:this.weyBillFirst.startCityCode,payMobileNo:"8"===this.zyCapitalCfg&&"好运宝收款"==o?this.weyBillSecond.mobileNo:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonphoneNum:"",tranRequire:this.weyBillFirst.requirement,driverName:this.weyBillSecond.driverName,prepayments:this.prepayments,drawee:0!=this.loginState?"":this.weyBillFirst.drawee,carrierProject:"3"==this.report003Cfg?this.weyBillFirst.carrierProject[0]:"",deposit:"8"==this.depositCfg?this.deposit:"",promotionFee:"8"==this.promotionFeeCfg?this.promotionFee:"",receivablePayback:"8"==this.receivablePaybackCfg?this.receivablePayback:"",wbBusinessType:this.wbBusinessType||"",goodsId:this.goodsId,supplierOrgName:this.weyBillFirst.fahuoName,supplierOrgId:this.weyBillFirst.fahuoId,extassistType:"49"===this.orgCfg718?"2":"",wbMode:"49"===this.orgCfg718?"1":"",updwOrgid:this.weyBillFirst.fahuoId,updwFreight:"49"===this.orgCfg718?parseFloat(this.weyBillFirst.recvFreight).toFixed(2)||"1.00":"",relatedShipper:this.weyBillFirst.relatedShipper},a="2"===this.modelRadio?"1":"0",o=void 0;o="0"===a?this.$refs.reciver_0.getReciveType():this.$refs.reciver_1.getReciveType();var n={};"2"===this.modelRadio?(i.allFreight=this.allFreight_2,i.prepaymentsOilCard=this.prepaymentsOilCard_2,i.oilCardNo=this.oilCardNo_2,i.arrivePay=this.arrivePay_2,i.payType="1",i.payIdCard=this.carTeamInfo.payeeIdCard,i.payBankName=this.carTeamInfo.payeeBankName,i.payBankNo=this.carTeamInfo.payeeBankNo,i.payMobileNo=this.carTeamInfo.mobileNo,i.provinceId=this.carTeamInfo.payeeProvinceId,i.cityId=this.carTeamInfo.payeeCityId,i.payName=this.carTeamInfo.payeeName,i.alipayNo=this.carTeamInfo.alipayNo,i.prepayments=this.prepayments_2,i.backFee=this.backFee_2,i.deposit="",i.promotionFee="",i.receivablePayback=""):"8"===this.zyCapitalCfg&&"好运宝收款"==o?n={payName:this.weyBillSecond.payName,payIdCard:this.weyBillSecond.idCard,payBankName:this.weyBillSecond.payBankName,payBankNo:this.weyBillSecond.payBankNo,payMobileNo:this.weyBillSecond.mobileNo,provinceId:"",cityId:"",alipayNo:this.weyBillSecond.alipayNo}:(n={payName:this.reciveMsgPay.recivePersonName,payIdCard:this.reciveMsgPay.recivePersonCardNum,payBankName:this.reciveMsgPay.reciveBank,payBankNo:this.reciveMsgPay.recivePersonBankNum,payMobileNo:this.reciveMsgPay.recivePersonphoneNum,provinceId:this.reciveMsgPay.provinceId||"",cityId:this.reciveMsgPay.cityId||"",alipayNo:this.reciveMsgPay.alipayNo},this.reciveMsgPay.reciveBank instanceof Array&&(n.payBankName=""),this.reciveMsgPay.reciveBankAdress instanceof Array&&(n.reciveBankAdress=""),"好运宝钱包"==this.reciveMsgPay.reciveBank&&(n.payBankName="浙江网商银行",n.provinceId="7",n.cityId="701")),s()(i,n);var l={reciveType:o,recivePersonName:i.payName,driverName:i.driverName,advancePayState:a,zyCapitalCfg:this.zyCapitalCfg},c=Object(E.a)(l),d=c.payType,h=c.hkbPayeeType;i.payType=d,i.hkbPayeeType=h,i.advancePayState="2"===this.modelRadio?"1":"0",i.wbBusinessType=this.wbBusinessType||"",i.goodsId=this.goodsId,console.log(i),"49"===this.orgCfg718?Object(b.b)(i).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.successFlag=1,0==t.data.reCode){try{MtaH5.clickStat("xinjianyundanlo",{waybillstep3:"true"})}catch(e){r()(e)}window.localStorage.clear(),e.$router.push({path:"/wayBillSuccess",query:{taxWaybillId:t.data.result.taxWaybillId,mobileNo:e.weyBillSecond.mobileNo,driverName:e.weyBillSecond.driverName,cartBadgeNo:e.weyBillSecond.cartBadgeNo,wbBusinessType:e.wbBusinessType}})}else e.$vux.alert.show({title:"提示",buttonText:"知道了",content:t.data.reInfo})}).catch(function(t){e.successFlag=1,e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")}):Object(u.J)(i).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.successFlag=1,0==t.data.reCode){try{MtaH5.clickStat("xinjianyundanlo",{waybillstep3:"true"})}catch(e){r()(e)}window.localStorage.clear();var a={startPlace:"安徽省合肥市",endPlace:"湖北鄂州",taxWaybillId:t.data.result.taxWaybillId,createdTime:"2018-08-08 22:00",startTime:"2020-06-15 12:14",payTime:"2020-06-15 12:20",positionTime:"2020-08-29 09:12",currentPosition:"安徽省合肥市蜀山区创新大道2700号路歌大厦",klbState:"0",orgName:"合肥路歌物流运输有限公司",wayBillState:"1"},o=s()(i,a);e.$store.commit("demonstrate/setWaybillData",o),$(o),e.$router.push({path:"/wayBillSuccess",query:{taxWaybillId:t.data.result.taxWaybillId,mobileNo:e.weyBillSecond.mobileNo,driverName:e.weyBillSecond.driverName,cartBadgeNo:e.weyBillSecond.cartBadgeNo,wbBusinessType:e.wbBusinessType}})}else e.$vux.alert.show({title:"提示",buttonText:"知道了",content:t.data.reInfo})}).catch(function(t){e.successFlag=1,e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")})}},f:function(e,t){var i,a,s;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return s=Math.pow(10,Math.max(i,a)),parseFloat(((e*s-t*s)/s).toFixed(i>=a?i:a))},d:function(e,t){var i,a,s;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return s=Math.pow(10,Math.max(i,a)),parseFloat(((e*s+t*s)/s).toFixed(Math.max(i,a)))},trim:function(e){return e.toString().replace(/\s/g,"")},isEmptyStr:function(e){return!(void 0!=e&&""!=e&&null!=e&&!/^[\s]*$/.test(e))},driverFinanceJudge:function(){if("8"!=this.driverFinanceCfg)return!0;var e=parseFloat(this.driverFinanceProportionCfg*this.allFreight).toFixed(2),t=parseFloat(this.oilCardPayUpperCfg*this.allFreight).toFixed(2);return Number(this.prepaymentsOilCard)>t?(this.$vux.alert.show({title:"提示",content:"您输入的预付油卡金额超过运费的"+this.toPercent(this.oilCardPayUpperCfg)+"，请重新输入！"}),!1):1==Number(this.driverFinanceProportionCfg)||(this.isEmptyStr(this.backFee)||Number(this.backFee)<="0"?(this.$vux.alert.show({title:"提示",content:"请输入回单押金！"}),!1):Number(this.arrivePay)>e?(this.$vux.alert.show({title:"提示",content:"您输入的到付款&回单押金金额不合规，请重新输入！"}),!1):Number(this.arrivePay)<="0"?(this.$vux.alert.show({title:"提示",content:"到付金额必须大于0！"}),!1):void 0)},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%"}}},D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settlement-info"},[a("c-header",[a("x-header",{attrs:{"left-options":{backText:""}}},[e._v("填写结算信息")])],1),e._v(" "),"42"!==e.collectTwoType&&("8"===e.collectTwoCfg&&39==e.waybillRangeCfg||2==e.wbBusinessType)?a("div",{staticClass:"radio-container"},[e._m(0),e._v(" "),a("van-radio-group",{staticClass:"radio-group",model:{value:e.modelRadio,callback:function(t){e.modelRadio=t},expression:"modelRadio"}},[a("van-radio",{class:"1"===e.modelRadio?"checked":"",attrs:{name:"1","checked-color":"#15499A",disabled:e.disabled1}},[e._v("企业自付")]),e._v(" "),a("van-radio",{class:"2"===e.modelRadio?"checked":"",attrs:{name:"2","checked-color":"#15499A",disabled:e.disabled2}},[e._v("\n        供应链金融 (提前收款)\n        "),a("i",{staticClass:"iconfont iconwenhao",on:{click:e.seeSettlementActivity}})])],1)],1):e._e(),e._v(" "),"1"===e.modelRadio||""===e.modelRadio?a("div",{on:{"!click":function(t){return e.checkChooseModel(t)}}},[a("group",{staticClass:"group0",attrs:{"label-width":"6.8em","label-align":"right"}},[a("x-input",{attrs:{title:"运费金额：",type:"number",placeholder:"请填写运费金额",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.allFreight,callback:function(t){e.allFreight="string"==typeof t?t.trim():t},expression:"allFreight"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("运费金额：")])])]),e._v(" "),a("x-input",{attrs:{title:"预付现金：",placeholder:"请填写预付现金",type:"number",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.prepayments,callback:function(t){e.prepayments="string"==typeof t?t.trim():t},expression:"prepayments"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==e.oilCardCfg&&!("1"===e.isSfOrg&&"8"===e.collectTwoCfg&&39==e.waybillRangeCfg),expression:"oilCardCfg == '8'&&!(isSfOrg==='1'&&collectTwoCfg==='8'&& waybillRangeCfg == 39 )"}],ref:"oilcardVal",attrs:{title:"预付油卡：",placeholder:"请填写预付油卡",type:"number",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsOilCard,callback:function(t){e.prepaymentsOilCard="string"==typeof t?t.trim():t},expression:"prepaymentsOilCard"}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:"8"==e.oilCardCfg&&""!=e.prepaymentsOilCard&&0!=e.prepaymentsOilCard&&/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(e.prepaymentsOilCard)&&!("1"===e.isSfOrg&&"8"===e.collectTwoCfg&&39==e.waybillRangeCfg),expression:"(oilCardCfg == '8' && (prepaymentsOilCard != '' && prepaymentsOilCard != 0 && /^([1-9]\\d{0,6}|0)([\\.]\\d{0,2})?$/.test(prepaymentsOilCard)))&&!(isSfOrg==='1'&&collectTwoCfg==='8'&& waybillRangeCfg == 39)"}],attrs:{title:"油卡卡号：","is-link":""},nativeOn:{click:function(t){return e.gotoSelectOilCard(e.prepaymentsOilCard)}},model:{value:e.oilCardNo,callback:function(t){e.oilCardNo=t},expression:"oilCardNo"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""==e.oilCardNo,expression:"oilCardNo == ''"}],staticStyle:{color:"#757575","text-align":"left"},attrs:{slot:"value"},slot:"value"},[e._v("请选择卡号")])]),e._v(" "),"8"==e.priceInsuranceCfg?a("x-input",{attrs:{title:"货值：",type:"number",placeholder:"请填写实际货值","show-clear":!1,disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":function(t){return e.inputBlur()}},model:{value:e.goodsCost,callback:function(t){e.goodsCost=t},expression:"goodsCost"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货值：")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"49"!==e.orgCfg718,expression:"orgCfg718 !== '49'"}],staticStyle:{color:"#15499a"},attrs:{slot:"right"},on:{click:function(t){return e.claimRules()}},slot:"right"},[e._v("理赔规则》")])]):e._e(),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==e.priceInsuranceCfg,expression:"priceInsuranceCfg == '8'"}],attrs:{title:"保价费：",placeholder:"请填写保价费",type:"number",value:e.insFee,disabled:""}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"1"==e.existsAvaibleOilStation,expression:"existsAvaibleOilStation == '1'"}],attrs:{title:"线下油款：",type:"number",placeholder:"请填写线下油款",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyOil,callback:function(t){e.prepaymentsBuyOil="string"==typeof t?t.trim():t},expression:"prepaymentsBuyOil"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"1"==e.existsAvaibleGasStation,expression:"existsAvaibleGasStation == '1'"}],attrs:{title:"线下气款：",placeholder:"请填写线下气款",type:"number",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyGas,callback:function(t){e.prepaymentsBuyGas="string"==typeof t?t.trim():t},expression:"prepaymentsBuyGas"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"1"==e.existsAvaibleEtcStation,expression:"existsAvaibleEtcStation == '1'"}],attrs:{title:"线下路桥费：",placeholder:"请填写线下路桥费",type:"number",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyEtc,callback:function(t){e.prepaymentsBuyEtc="string"==typeof t?t.trim():t},expression:"prepaymentsBuyEtc"}}),e._v(" "),a("x-input",{attrs:{title:"到付金额：",type:"number",disabled:""},on:{"on-blur":e.arriveBlur},model:{value:e.arrivePay,callback:function(t){e.arrivePay="string"==typeof t?t.trim():t},expression:"arrivePay"}}),e._v(" "),a("x-input",{attrs:{title:"回单押金：",type:"number",placeholder:"请填写回单押金",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},on:{"on-blur":e.arriveBlur},model:{value:e.backFee,callback:function(t){e.backFee="string"==typeof t?t.trim():t},expression:"backFee"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"8"==e.goodsInsuranceCfg,expression:"goodsInsuranceCfg == '8'"}],staticClass:"weui-cell"},[a("checker",{attrs:{"selected-item-class":"selected"},on:{"on-change":e.changeType},model:{value:e.items1Value,callback:function(t){e.items1Value=t},expression:"items1Value"}},[a("checker-item",{staticStyle:{width:"6.8em","text-align":"right","margin-right":"1em"},attrs:{value:"1"}},[a("img",{staticClass:"img2",staticStyle:{"vertical-align":"middle"},attrs:{src:e.src,alt:"",width:"15",height:"15"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle","margin-left":"0.5em"}},[e._v("购买保险")])])],1)],1),e._v(" "),"8"==e.goodsInsuranceCfg&&0==e.items1Value||"2"==e.orgAttr?a("x-input",{attrs:{title:"货值：",type:"number",placeholder:"请输入实际货值",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},model:{value:e.goodsCost,callback:function(t){e.goodsCost="string"==typeof t?t.trim():t},expression:"goodsCost"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货 值：")])])]):e._e()],1),e._v(" "),a("div",{staticStyle:{height:"10px"}}),e._v(" "),a("ReciveComponent",{ref:"reciver_0",attrs:{advancePayState:"0"}}),e._v(" "),a("group",{staticClass:"group1",attrs:{"label-width":"6.8em","label-align":"right"}},[a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==this.depositCfg,expression:"this.depositCfg == '8'"}],attrs:{title:"定金：",type:"number",placeholder:"请填写定金",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},model:{value:e.deposit,callback:function(t){e.deposit="string"==typeof t?t.trim():t},expression:"deposit"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==this.promotionFeeCfg,expression:"this.promotionFeeCfg == '8'"}],attrs:{title:"推广费：",type:"number",placeholder:"请填写推广费",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},model:{value:e.promotionFee,callback:function(t){e.promotionFee="string"==typeof t?t.trim():t},expression:"promotionFee"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==this.receivablePaybackCfg,expression:"this.receivablePaybackCfg == '8'"}],attrs:{title:"应收回款：",type:"number",placeholder:"请填写应收回款",disabled:"8"===e.collectTwoCfg&&""===e.modelRadio&&39==e.waybillRangeCfg},model:{value:e.receivablePayback,callback:function(t){e.receivablePayback="string"==typeof t?t.trim():t},expression:"receivablePayback"}})],1)],1):e._e(),e._v(" "),"2"===e.modelRadio?a("div",[a("group",{staticClass:"group0",attrs:{"label-width":"6.8em","label-align":"right"}},[a("x-input",{attrs:{title:"运费金额：",type:"number",placeholder:"请填写运费金额"},on:{"on-blur":function(t){return e.arriveBlur(1)}},model:{value:e.allFreight_2,callback:function(t){e.allFreight_2="string"==typeof t?t.trim():t},expression:"allFreight_2"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("运费金额：")])])]),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:8==e.collectTwoCfg&&8==e.collectTwoPreCashCfg,expression:"collectTwoCfg == 8 && collectTwoPreCashCfg == 8"}],attrs:{title:"预付现金：",placeholder:"请填写预付现金",type:"number"},on:{"on-blur":e.arriveBlur},model:{value:e.prepayments_2,callback:function(t){e.prepayments_2="string"==typeof t?t.trim():t},expression:"prepayments_2"}}),e._v(" "),a("x-input",{ref:"prepayOilcard",attrs:{title:"预付油卡：",placeholder:"请填写预付油卡",type:"number"},on:{"on-blur":function(t){return e.arriveBlur(2)}},model:{value:e.prepaymentsOilCard_2,callback:function(t){e.prepaymentsOilCard_2="string"==typeof t?t.trim():t},expression:"prepaymentsOilCard_2"}},[Number(this.oilCardPayLowerCfg)>0?a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("预付油卡：")])]):e._e()]),e._v(" "),a("x-input",{attrs:{title:"油卡卡号：",placeholder:"请选择卡号",type:"text",readonly:!0},nativeOn:{click:function(t){return e.gotoSelectOilCard(e.prepaymentsOilCard_2)}},model:{value:e.oilCardNo_2,callback:function(t){e.oilCardNo_2=t},expression:"oilCardNo_2"}},[Number(this.oilCardPayLowerCfg)>0?a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("油卡卡号：")])]):e._e(),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("i",{staticClass:"iconfont iconarr-right"})])]),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:8==e.collectTwoCfg&&8==e.collectTwoRecDepositCfg,expression:"collectTwoCfg == 8 && collectTwoRecDepositCfg == 8"}],attrs:{title:"回单押金：",type:"number",placeholder:"请填写回单押金"},on:{"on-blur":e.arriveBlur},model:{value:e.backFee_2,callback:function(t){e.backFee_2="string"==typeof t?t.trim():t},expression:"backFee_2"}}),e._v(" "),a("x-input",{attrs:{title:"到付金额：",type:"number",disabled:""},on:{"on-blur":e.arriveBlur},model:{value:e.arrivePay_2,callback:function(t){e.arrivePay_2="string"==typeof t?t.trim():t},expression:"arrivePay_2"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("到付金额：")])])]),e._v(" "),"8"==e.priceInsuranceCfg?a("x-input",{attrs:{title:"货值：",type:"number",placeholder:"请填写实际货值","show-clear":!1},on:{"on-blur":function(t){return e.inputBlur()}},model:{value:e.goodsCost,callback:function(t){e.goodsCost=t},expression:"goodsCost"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货值：")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"49"!==e.orgCfg718,expression:"orgCfg718 !== '49'"}],staticStyle:{color:"#15499a"},attrs:{slot:"right"},on:{click:function(t){return e.claimRules()}},slot:"right"},[e._v("理赔规则》")])]):e._e(),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==e.priceInsuranceCfg,expression:"priceInsuranceCfg == '8'"}],attrs:{title:"保价费：",placeholder:"请填写保价费",type:"number",value:e.insFee,disabled:""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"8"==e.goodsInsuranceCfg,expression:"goodsInsuranceCfg == '8'"}],staticClass:"weui-cell"},[a("checker",{attrs:{"selected-item-class":"selected"},on:{"on-change":e.changeType},model:{value:e.items1Value,callback:function(t){e.items1Value=t},expression:"items1Value"}},[a("checker-item",{staticStyle:{width:"6.8em","text-align":"right","margin-right":"1em"},attrs:{value:"1"}},[a("img",{staticClass:"img2",staticStyle:{"vertical-align":"middle"},attrs:{src:e.src,alt:"",width:"15",height:"15"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle","margin-left":"0.5em"}},[e._v("购买保险")])])],1)],1),e._v(" "),"8"==e.goodsInsuranceCfg&&0==e.items1Value||"2"==e.orgAttr?a("x-input",{attrs:{title:"货值：",type:"number",placeholder:"请输入实际货值"},model:{value:e.goodsCost,callback:function(t){e.goodsCost="string"==typeof t?t.trim():t},expression:"goodsCost"}},[a("div",{staticStyle:{"text-align":"right",width:"6.8em"},attrs:{slot:"label"},slot:"label"},[a("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:i("jmUF"),alt:"",width:"8",height:"8"}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货 值：")])])]):e._e()],1),e._v(" "),a("div",{staticStyle:{height:"10px"}}),e._v(" "),a("ReciveComponent",{ref:"reciver_1",attrs:{advancePayState:"1"}})],1):e._e(),e._v(" "),a("div",{staticClass:"footer",staticStyle:{height:"80px"}}),e._v(" "),a("div",{staticClass:"button"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.buildWaybill(t)}}},[e._v("建单")])],1)],1)};D._withStripped=!0;var L={render:D,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",{staticClass:"vertical-line"}),this._v("请选择付款方式：\n    ")])}]},G=L;var W=!1;var j=i("VU/8")(M,G,!1,function(e){W||i("XNPC")},null,null);j.options.__file="src/components/wbs/settlementInfo.vue";t.default=j.exports},XNPC:function(e,t,i){var a=i("0BYG");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("d4472492",a,!1,{})},ZKWs:function(e,t,i){(e.exports=i("FZ+f")(!0)).push([e.i,"\n.ReciveCom[data-v-331ebf77] .van-field {\n  color: #000;\n  font-size: 16px;\n}\n.ReciveCom[data-v-331ebf77] .van-field .van-field__label {\n  width: 6.8em;\n  text-align: right;\n}\n.ReciveCom .tips[data-v-331ebf77] {\n  color: #D84B4C;\n  font-size: 14px;\n}\n.ReciveCom .tips span[data-v-331ebf77] {\n  display: inline-block;\n  padding: 5px 20px;\n}\n.ReciveCom .tips .icongantanhao[data-v-331ebf77] {\n  margin-right: 5px;\n}\n","",{version:3,sources:["D:/h5_gitlab/ngcbapp_h5/src/components/wbs/components/ReciveCom.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,gBAAgB;CACjB;AACD;EACE,sBAAsB;EACtB,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB",file:"ReciveCom.vue",sourcesContent:["\n.ReciveCom[data-v-331ebf77] .van-field {\n  color: #000;\n  font-size: 16px;\n}\n.ReciveCom[data-v-331ebf77] .van-field .van-field__label {\n  width: 6.8em;\n  text-align: right;\n}\n.ReciveCom .tips[data-v-331ebf77] {\n  color: #D84B4C;\n  font-size: 14px;\n}\n.ReciveCom .tips span[data-v-331ebf77] {\n  display: inline-block;\n  padding: 5px 20px;\n}\n.ReciveCom .tips .icongantanhao[data-v-331ebf77] {\n  margin-right: 5px;\n}\n"],sourceRoot:""}])},f9dI:function(e,t,i){(function(t){e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===t||"object"!=typeof t.versions||!t.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}}).call(t,i("W2nU"))},n3ms:function(e,t,i){var a=i("ZKWs");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("698c993f",a,!1,{})},xsTr:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("RwS/"),s=function(e){var t=e.reciveType,i=void 0===t?"":t,s=e.recivePersonName,o=void 0===s?"":s,r=e.driverName,n=void 0===r?"":r,l=e.advancePayState,c=void 0===l?"0":l,d=e.zyCapitalCfg,h="",p="";return"0"===c?"8"===(void 0===d?"9":d)?(h=o==n?"1":"0",i==a.a?(h="1",p="1"):""==i?(h="",p=""):p="0"):(h=o==n?"1":"0",p="0"):"1"===c&&(h=o==n?"1":"0",p="0"),{payType:h,hkbPayeeType:p}}}});