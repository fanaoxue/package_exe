webpackJsonp([16],{"7Adc":function(e,t,a){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new s(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("AYvJ"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,a("9AUj"))},AYvJ:function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var i,r,s,o,n,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){m(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){m(e.data)},i=function(e){s.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(m,0,e)}:(o="setImmediate$"+Math.random()+"$",n=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&m(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var r={callback:e,args:t};return c[l]=r,i(l),l++},u.clearImmediate=p}function p(e){delete c[e]}function m(e){if(d)setTimeout(m,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(a,i)}}(t)}finally{p(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,a("9AUj"),a("V0EG"))},M1aG:function(e,t){},TQL8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAGEUlEQVR4Xu2cW2xURRiAv7+UIhcFKiG+CJpwMYpBjRYlgKmyWzD6AIRqNMZL0BIvxCgPRgnRaIgPagKiYkwMxkRjFV8UYXe5RCBe0CikYBSIGh7UkFoolCot7ZiZPaW7ZXfP2duZWd15PWfm/+ebf27//DNCiEm1MoyxXAPMRJiOMA3FFOBihDEoLjTqCKdQdAF/IRxBcQjFz8B+OtknzfSFpbaUW5CKcSmwCOFWYB4wrkiZJ4BdKLYjfCxRfi+yvJzZywJI7eQCergT4UFgrrGJ8iRtSdtQvEcdm6SRf0otpqSKqwRjUawAHgMmllpZn/KOAesR1kmEzlLJLgkg1Uod43gceBYYXyrlCiynA1jDCV6TZnoKLONctqIBqa00UsNbwNRilSlx/sP00yIL2FlMuQUDUp8yijpeRlhexjGmmLrpvArFBnpYKXfQXUhhBQFS25hGP5uAGYUItZDnIDUslvkcyld23oBUnCjQCozNV5jl/08CSyVKPB898gKk4twLvAPU5iPEoX/PolgmTbwbVKfAgFSCh1BmMA6cJ6gSIf+nEFokwttB5AaqrIqzFPgAGBak0Ar4pw/hbomYoSJn8gWkYtyCsAWo8yuswr73oFgoTezIpXdOQN5stbcCB+SgbdVJDQ25ZresgMw6ZwTfhDKVj5oKU1+C+vnJinVsg8NPQ/fhoBUt5r8DnGFWtnVSdkAJXkfxSDGSA+UdPR0avobaIZv8sydg741wWns5ypyENyTCo5mkZASkEsxBsSuUGWvmJpi4ODOBY5/A/iVlpmOK1zPbPImwZ6iw8wCpndTSy/fA1WFoRmMn1F6UWVRfF+xI+tBCSG0M5zpp5GyqrPMBxXkSeCUEhZIiIiq3qITvRFtKVZ+SKK9mBeT5c34B6kspNWdZbgE6jnB5qj8prXlUjFUIL4QGxz0L0hqtluggg3OA1JeMpIujwIT/OaB2xjBJZvO35jAIKMZ9CBtDheOmBek57f6BDe0goIQ5KdAO9nCTW2PQQN33SDTJwgBSCSah+C2Udc9Q/G4C0uuiyyTC0SSgGCsQ1oZrOp40NwFp5Z6QKGuTgOLEwHgKw0/uAopLlCbxVs76HGlU+HScWyimIuimnnGittJAjdm120nuWhD0M0tUjIcR40q1k1wGpGjRgNYh5lTUTnIZEKwXFWczcJsdOk6PQRrJZg2oLRSvYbYWcNuC2nQX+wPhkqoFZSCg+FNb0ClgTBVQBgLCKQ3Ix2NVZnRudzE0oDNWz7wqAFC7CaK0ldwG1KUtSO/iJ9vi45hPOh2DN0jvM2G5tpLbFtRmf6HozrFPJhP53P5Ww42Dw2z9Z739zeroK6DhqyxHzzfB6Z9sdX7tm26x7+7Q1dfn81PWQH0kCaMjAUeeCedcPhd+4+74juF0oMP77TjM7NmHn+Skw0z/ZdXl6qemve9Jl6sBZNNpbw+An+QUp73NYx8/Ne18Tz/28brZbmCOHX2ck5p+cOh1MztHz86xMQo9INHkMbz94AWthd0YxaFNlDl4wetmq4HnQ21UF2IUUyssPCeRQQbp8UHJC3G/hnrny62tRu4AKs+Kwg3Bc2uzulKi6eGH1SDOwe4VLIjTWNFW5lLDF6GEw7jRxRT93CwL0EudtORAILkDu/l8A8mNFSWvInwLXFn2Wc3ubv5HznBD3lcRDKQtTGeYifyotNuFQdu0kz5myULzqkPG5BulXb0OFYC1StCM4v3/1IU6xT3SxId+1fe1oIECqlcy/VAmHWvVS71+nLxr4R8BWa7o+JVg7ftJhGaJmIDVwClwF0st0Zvd9MMCVwWWZPfHg/SxJNdsVfAsli1j9WmKgC3uLQM2OPm4iWK5361mv2oW1MWGFpryPM6qErww5aez33d9hPWiM8/jpI1NnzGeEazwLgOH/8CS4k16WSu3c9yPYtDvJbGg8yxKP9HVy13AMmB2Gb0CfSjzPtDGiniiK1OrqO1Mpp9F+pUD7z2zkUFbL8t/+qLbbvMahKK1Ih95yzrz6WPudq5FmJH2TKBiAmLWVQPH390o9LqlPe2ZQMUBJvCDXE9vkZADZ/8XSiIXrFOTLoMAAAAASUVORK5CYII="},eIgN:function(e,t){},moTJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("aA9S"),r=a.n(i),s=a("3cXf"),o=a.n(s),n=a("lC5x"),l=a.n(n),c=a("J0Oq"),d=a.n(c),h=a("ZLEe"),u=a.n(h),p=a("rVsN"),m=a.n(p),y=a("4YfN"),g=a.n(y),v=a("a3Yh"),f=a.n(v),C=(a("MC7C"),a("WUel")),b=(a("70Se"),a("dnso")),S=a("fUgm"),w=a("P9l9"),N=a("yFUi"),x=a("tMQd"),k=a("KS8L"),I=a("11Y/"),P=a("Hh+s"),F=a("7Adc"),T=(a("Jg3o"),a("ziXK")),B=(a("yg4I"),a("1Fu7")),M=(a("U/pO"),a("/pvS")),O=a("RwS/"),A=(M.a,B.a,T.a,String,String,String,String,String,String,Object,{name:"ModeifyReciveCom",components:{vanField:M.a,vanCellGroup:B.a,vanActionSheet:T.a},data:function(){return{collectionFlagCfg:"",hybWalletCfg:"",zyCapitalCfg:"",collectTwoCfg:"",reciveType:"",reciveTypeShow:!1,reciveTypeActionsShow:!1,reciveTypeActions:[{name:O.a},{name:O.c}],Data_HYB_RECIVE:O.a}},props:{advancePayState:{type:String,default:"0"},driverName:{type:String,default:""},payName:{type:String,default:""},mobileNo:{type:String,default:""},cartBadgeNo:{type:String,default:""},capWalletFalg:{type:String,default:"0"},SYSInfo:{type:Object,default:function(){return{name:"",idCard:"",phoneNumber:"",aliNum:""}}}},computed:{reciveMessage_DFJ:function(){return this.$store.state.carTeamMasterInfo.carTeamInfo.reciveMessage_DFJ},SYSpass:function(){return this.SYSInfo.aliNum?"1":"0"},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMessageShow:function(){return"1"==this.advancePayState&&"8"==this.collectTwoCfg||(!!this.reciveType||"8"!==this.zyCapitalCfg&&"8"!==this.hybWalletCfg)},reciveMessage:function(){return"1"==this.advancePayState&&"8"==this.collectTwoCfg?this.reciveMessage_DFJ:this.reciveType==O.a?this.driverName:this.$store.state.wayBill.reciveMsgPay.recivePersonName},reciveTypeClickDisabled:function(){return"0"!==this.advancePayState&&"9"!==this.collectTwoCfg||"8"!==this.zyCapitalCfg||"1"!==this.SYSpass},reciveMessageClickDisabled:function(){return"1"===this.advancePayState&&"45"===this.collectionFlagCfg}},mounted:function(){this._getCompanyConfig().then(function(e){})},methods:{init:function(){var e=this;this.$nextTick(function(){if("1"==e.advancePayState&&"8"==e.collectTwoCfg){var t=e.driverName;if("1"==e.capWalletFalg&&(t=e.payName),e.reciveMsgPay.reciveBank){var a=t+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:a,payeeName:t})}else if("46"==e.collectionFlagCfg)e._getCarMasterInfo();else{var i=t+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:i,payeeName:t})}}else if("8"===e.zyCapitalCfg)if("1"===e.SYSpass)if(e.reciveTypeShow=!0,"1"===e.reciveMsgPay.reciveType){e.reciveType=O.a;var r=e.payName+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:r})}else{var s=e.payName+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:s}),e.reciveType=O.c,e.reciveTypeShow=!0}else{var o=e.payName+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:o}),e.reciveTypeShow=!0,e.reciveType=O.c}else"8"===e.hybWalletCfg&&(e.reciveType=O.c,e.reciveTypeShow=!0)})},_getCarMasterInfo:function(){var e=this;this.$store.commit("updateLoadingStatus",{isLoading:!0});var t={mobileNo:this.mobileNo,driverName:this.driverName,payeeName:this.payName?this.payName:this.driverName,advancePayState:this.advancePayState,cartBadgeNo:this.cartBadgeNo};Object(I.e)(t).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===t.data.reCode){var a=t.data.result.payeeList||[],i=void 0;if(0===a.length)e.$store.commit("carTeamMasterInfo/RESET_CARTEAMINFO");else{var s=(i=a[a.length-1]).payeeName?i.payeeName+O.b:"";r()(i,{reciveMessage_DFJ:s}),e.$store.commit("carTeamMasterInfo/setCarTeamInfo",i)}}else e.$vux.toast.text(t.data.reInfo,"middle")}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1})})},reciveMessageClick:function(){try{MtaH5.clickStat("modifywaybill_webrecivemsg")}catch(e){o()(e)}"8"===this.collectTwoCfg&&"1"===this.advancePayState?"46"==this.collectionFlagCfg&&this.carMasterSelect():this.goReciveMessage()},goReciveMessage:function(){"8"===this.zyCapitalCfg&&this.reciveType==O.a?this.$router.push({path:"/webReciveMsg2",query:{driverName:this.SYSInfo.name,idCard:this.SYSInfo.idCard,mobileNo:this.SYSInfo.phoneNumber,alipayNo:this.SYSInfo.aliNum}}):this.$router.push({path:"/ReciveMessage",query:{driverName:this.SYSInfo.name,idCard:this.SYSInfo.idCard,mobileNo:this.SYSInfo.phoneNumber,alipayNo:this.SYSInfo.aliNum}})},carMasterSelect:function(){this.$router.push({path:"/carMasterReceiveMsg",query:{collectionFlagCfg:this.collectionFlagCfg,mobileNo:this.mobileNo,payeeName:this.payName?this.payName:this.driverName,driverName:this.driverName,cartBadgeNo:this.cartBadgeNo}})},_getCompanyConfig:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new m.a(function(t,a){Object(w.q)().then(function(i){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===i.data.reCode){var r=i.data.result;e.collectionFlagCfg=r.collectionFlagCfg,e.collectTwoCfg=r.collectTwoCfg,e.hybWalletCfg=r.hybWalletCfg,e.zyCapitalCfg=r.zyCapitalCfg,t()}else e.$vux.toast.text(i.data.reInfo,"middle"),a()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),a()})})},onSelectReciveActions:function(e){this.reciveTypeActionsShow=!1,this.reciveType=e.name},reciveTypeClick:function(){if(this.reciveTypeClickDisabled)return!1;this.reciveTypeActionsShow=!0},getReciveType:function(){return this.reciveType},changeReciver:function(){var e=this;this.$nextTick(function(){if("1"==e.advancePayState&&"8"==e.collectTwoCfg)if("46"==e.collectionFlagCfg)e._getCarMasterInfo();else{var t=e.driverName+O.b;e.$store.commit("carTeamMasterInfo/setCarTeamInfo",{reciveMessage_DFJ:t})}else"8"===e.zyCapitalCfg?"1"===e.SYSpass?(e.reciveType="",e.reciveTypeShow=!0,e.$store.commit("resetReciveMsgInfo")):(e.reciveType=O.c,e.reciveTypeShow=!0,e.$store.commit("resetReciveMsgInfo")):(""!==e.reciveMsgPay.acctType&&e.$store.commit("resetReciveMsgInfo"),"8"===e.hybWalletCfg&&(e.reciveType=O.c,e.reciveTypeShow=!0))})}}}),_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ModeifyReciveCom"},[a("van-cell-group",[a("van-field",{directives:[{name:"show",rawName:"v-show",value:e.reciveTypeShow,expression:"reciveTypeShow"}],attrs:{label:"收款方式：",placeholder:"请选择收款方式","right-icon":e.reciveTypeClickDisabled?"":"arrow",readonly:""},on:{click:e.reciveTypeClick},model:{value:e.reciveType,callback:function(t){e.reciveType=t},expression:"reciveType"}}),e._v(" "),a("div",{staticClass:"tips"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"0"===e.advancePayState&&e.reciveType===e.Data_HYB_RECIVE&&"8"===e.zyCapitalCfg,expression:"advancePayState==='0' && reciveType===Data_HYB_RECIVE && zyCapitalCfg === '8'"}]},[a("i",{staticClass:"iconfont icongantanhao"}),e._v("司机"+e._s(this.driverName)+"已开通好运宝收款，请提醒司机去收款")])]),e._v(" "),a("van-field",{directives:[{name:"show",rawName:"v-show",value:e.reciveMessageShow,expression:"reciveMessageShow"}],attrs:{label:"收款人信息：",placeholder:"未填写","right-icon":e.reciveMessageClickDisabled?"":"arrow",readonly:""},on:{click:e.reciveMessageClick},model:{value:e.reciveMessage,callback:function(t){e.reciveMessage=t},expression:"reciveMessage"}})],1),e._v(" "),a("van-action-sheet",{attrs:{round:!1,actions:e.reciveTypeActions},on:{select:e.onSelectReciveActions},model:{value:e.reciveTypeActionsShow,callback:function(t){e.reciveTypeActionsShow=t},expression:"reciveTypeActionsShow"}})],1)},staticRenderFns:[]};var $=a("C7Lr")(A,_,!1,function(e){a("M1aG")},"data-v-46eb6a63",null).exports,L=a("xsTr"),E=(b.a,C.a,g()({chooseOilCardItem:function(){return this.$store.state.oilCard.chooseOilCardItem},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMsgPay1:function(){return this.$store.state.wayBill.reciveMsgPay1}},Object(S.b)("carTeamMasterInfo/",{carTeamInfo:function(e){return e.carTeamInfo}}),{receivePersonState:function(){return"1"==this.advancePayState||("8"!=this.zyCapitalCfg&&"8"!=this.hybWalletCfg||("8"===this.zyCapitalCfg||"8"===this.hybWalletCfg||void 0))},receiveType:function(){return("8"!==this.collectTwoCfg||"1"!==this.advancePayState)&&("8"==this.zyCapitalCfg||"8"==this.hybWalletCfg||void 0)}}),{name:"modifyWaybill",components:{ReciveComponent:$,vanDatetimePicker:b.a,vanPopup:C.a},data:function(){var e;return e={buttonshow:!1,buttonFlag:!1,startPlaceModifyCfg:"4",endCfg:"4",payState:"",bitian:a("jmUF"),src1:a("1Rs3"),src2:a("899H"),src3:a("899H"),src4:a("1Rs3"),taxWaybillNo:"",taxWaybillId:this.$route.query.taxWaybillId,xid:"",cityList:[],value3:[],value4:[],startProvinceCode:"",startCityCode:"",startCountyCode:"",endProvinceCode:"",endCityCode:"",endCountyCode:"",klbState:"",stateCfg:"",goodsName:"",goodsAmount:"",state:"",items2:[{key:"0",value:"吨"},{key:"1",value:"方"},{key:"2",value:"件"},{key:"3",value:"车"}],goodsAmountType:{key:"0",value:"吨"},unitPrice:"",startTime:"",startDate:"",endDate:"",timeState:!0,items1Value:"1",transTrip:"",wbItem:"",list3:[],drawee:[],taxDraweePartyId:"",taxDraweePartyIdArr:[],loginState:"",requirement:"",show1:!1,show2:!1,show3:!1,show15:!1,activeFlag:-1,carLongList:[{cartAttr:"4.2"},{cartAttr:"6.8"},{cartAttr:"8.7"},{cartAttr:"9.6"},{cartAttr:"13"},{cartAttr:"17.5"}],carTonList:[{cartAttr:"8"},{cartAttr:"15"},{cartAttr:"20"},{cartAttr:"25"},{cartAttr:"30"},{cartAttr:"35"}],activeFlag1:-1,activeFlag3:-1,show13Waiting:0,show13Msg:"",show14Waiting:0,show14Msg:"",cartBadgeNo:"",driverName:"",mobileNo:"",mobileNoRawData:"",driverNameNoRawData:"",carType:"",carLength:"",carTonNumber:"",menus1:{menu1:"厢式",menu2:"半挂",menu3:"高低板",menu4:"更多>>"},carLen:"",carTon:"",cartType:[{type:"平板"},{type:"低栏"},{type:"中栏"},{type:"高栏"},{type:"集装箱"},{type:"自卸"},{type:"开顶厢"},{type:"冷藏车"},{type:"危险品"},{type:"其他"}],driverMsg:"0",allFreight:"",userFreight:"",prepayments:"",prepaymentsBuyOil:"",prepaymentsBuyGas:"",prepaymentsBuyEtc:"",backFee:"",freightIncr:"",lossFee:"",note:"",showControl:[0,0,1],lossInvoiceCfg:"",value1:"",payType:"",payName:"",payIdCard:"",payBankName:"",payBankNo:"",payMobileNo:"",provinceId:"",cityId:"",alipayNo:"",reciveMsgs:{reciveType:"",recivePersonName:"",recivePersonCardNum:"",reciveBank:"",recivePersonBankNum:"",recivePersonphoneNum:"",provinceId:"",cityId:"",reciveBankAdress:"",alipayNo:""},name:"",idCard:"",phoneNumber:"",aliNum:"",SYSInfo:{},invoiceState:"",confirmState:"",billCycleMode:"",businessItems:"",maxAllFreight:"",existsAvaibleGasStation:"",existsAvaibleEtcStation:"",existsAvaibleOilStation:"",yetBuyOilNotInvoice:"",yetBuyEtcNotInvoice:"",yetBuyGasNotInvoice:"",yetPrepaymentsBuyOil:"",yetPrepaymentsBuyEtc:"",yetPrepaymentsBuyGas:"",oilCardCfg:"",etcCardCfg:"",oilCardPayUpperCfg:"",paidAllFreight:"",arrivePay:"0.00",yetLossFee:"",prepaymentsEtcCard:"0.00",prepaymentsOilCard:"0.00",prepaymentsOilCarded:"0.00",prepaymentsEtcCarded:"0.00",insType:"",insState:"",freightChangeReasonCfg:"",msg:"",reg:/^([1-9]\d{0,6}|0)([\.]\d{0,4})?$/,Reg:/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/,cityIdArr:[],loadingFlag:!1},f()(e,"cityIdArr",[]),f()(e,"types",""),f()(e,"oilCardNo",""),f()(e,"belongActSys",""),f()(e,"goodsCostState",""),f()(e,"priceInsuranceCfg",""),f()(e,"goodsCost",""),f()(e,"insFee","0.00"),f()(e,"priceInsuranceRate",""),f()(e,"supplyChainState",""),f()(e,"show10",!1),f()(e,"menus2",{menu1:"好运宝收款",menu2:"银行卡收款"}),f()(e,"value2","请选择收款方式"),f()(e,"zyCapitalCfg",""),f()(e,"hybWalletCfg",""),f()(e,"driverFinanceCfg",""),f()(e,"driverFinanceProportionCfg",""),f()(e,"nameDisabled",!1),f()(e,"isModifyElements",""),f()(e,"isModifyName",""),f()(e,"isEleOil",""),f()(e,"carrierProjectState",!0),f()(e,"carrierProjectArr",[]),f()(e,"carrierProject",[]),f()(e,"carrierProjectShow",!0),f()(e,"deposit",""),f()(e,"promotionFee",""),f()(e,"receivablePayback",""),f()(e,"report003Cfg",""),f()(e,"depositCfg",""),f()(e,"promotionFeeCfg",""),f()(e,"receivablePaybackCfg",""),f()(e,"depositState",!0),f()(e,"promotionFeeState",!0),f()(e,"receivablePaybackState",!0),f()(e,"backFeeState",!0),f()(e,"prepaymentsState",!0),f()(e,"showPicker",!1),f()(e,"advancePayState",""),f()(e,"collectTwoCfg",""),f()(e,"collectTwoPreCashCfg",""),f()(e,"collectTwoRecDepositCfg",""),f()(e,"collectionFlagCfg",""),f()(e,"capWalletFalg",""),f()(e,"orgCfg726",""),f()(e,"orgCfg710",""),f()(e,"relatedShipper",""),f()(e,"relatedList",""),f()(e,"cargoOwnerArr",[]),f()(e,"cargoOwner",[]),f()(e,"prepaymentsOilCardShow",!1),f()(e,"prepaymentsBuyOilShow",!1),f()(e,"prepaymentsBuyGasShow",!1),e},beforeRouteEnter:function(e,t,a){"chooseOilCard"==t.name||"addOilCard"==t.name?a(function(e){e.$store.commit("updateLoadingStatus",{isLoading:!1}),null!=window.localStorage.getItem("oilCardNo")&&(e.oilCardNo=window.localStorage.getItem("oilCardNo"),window.localStorage.removeItem("oilCardNo")),e.mobileNoRawData=e.mobileNo,e.isEleOil="4"==e.chooseOilCardItem.oilBigType?"0":"1"}):"webReciveMsg2"===t.name?a(function(e){e.value1=e.name,e.$store.commit("updateLoadingStatus",{isLoading:!1})}):"chooseCity"===t.name?a(function(e){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.cityIdArr=JSON.parse(localStorage.getItem("cityIdArr"))}):"carMasterReceiveMsg"===t.name||"ReciveMessage"===t.name||"webReciveMsg"===t.name||"claimRules"===t.name?a(function(e){e.$store.commit("updateLoadingStatus",{isLoading:!1})}):a(function(e){e.value3=[],e.value4=[],e.carrierProject=[],e.list3=[],e.drawee=[],e.buttonFlag=!0,e.$nextTick(function(){e.$_getCompanyConfig().then(function(t){e.queryWaybillMethod().then(function(){e.getCarrierProjectMethod().then(function(){e.queryOilCardTypeMethod().then(function(){e.getSupplyChainState().then(function(){e.buttonshow=!0,e.loadingFlag=!0,e.arriveBlur()})})})})})})})},beforeRouteLeave:function(e,t,a){if("waybillDetail"==e.name&&window.localStorage.clear(),"webReciveMsg"===e.name||"ReciveMessage"===e.name){window.localStorage.setItem("zyCapitalCfg",this.zyCapitalCfg),window.localStorage.setItem("hybWalletCfg",this.hybWalletCfg);var i={type:"weyBillSecond",updatMsg:{cartBadgeNo:this.cartBadgeNo,driverName:this.driverName,mobileNo:this.mobileNo,carType:this.carType,carLength:this.carLength,carTonNumber:this.carTonNumber,note:this.note}};this.$store.commit("updateWayBillStatus",i)}a()},activated:function(){},mounted:function(){this.cityList=Object(N.a)(city.data),this.startDate=new Date},watch:{cityIdArr:function(){0!=this.cityIdArr.length&&(this.types=localStorage.getItem("types"),localStorage.removeItem("types"),0==this.types?(this.startProvinceCode=this.cityIdArr[0],this.startCityCode=this.cityIdArr[1],this.startCountyCode=this.cityIdArr[2],this.value3=[],this.value3=this.cityIdArr):(this.endProvinceCode=this.cityIdArr[0],this.endCityCode=this.cityIdArr[1],this.endCountyCode=this.cityIdArr[2],this.value4=[],this.value4=this.cityIdArr))},insFee:function(){"0"!=this.insFee&&""!=this.insFee||(this.insFee="0.00")}},computed:g()({chooseOilCardItem:function(){return this.$store.state.oilCard.chooseOilCardItem},reciveMsgPay:function(){return this.$store.state.wayBill.reciveMsgPay},reciveMsgPay1:function(){return this.$store.state.wayBill.reciveMsgPay1}},Object(S.b)("carTeamMasterInfo/",{carTeamInfo:function(e){return e.carTeamInfo}}),{receivePersonState:function(){return"1"==this.advancePayState||("8"!=this.zyCapitalCfg&&"8"!=this.hybWalletCfg||("8"===this.zyCapitalCfg||"8"===this.hybWalletCfg||void 0))},receiveType:function(){return("8"!==this.collectTwoCfg||"1"!==this.advancePayState)&&("8"==this.zyCapitalCfg||"8"==this.hybWalletCfg||void 0)}}),methods:{$_getCompanyConfig:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new m.a(function(t,a){Object(w.q)().then(function(i){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===i.data.reCode){var r=i.data.result;e.businessItems=r.businessItems,e.collectTwoCfg=r.collectTwoCfg,e.collectTwoPreCashCfg=r.collectTwoPreCashCfg,e.collectTwoRecDepositCfg=r.collectTwoRecDepositCfg,e.collectionFlagCfg=r.collectionFlagCfg,e.orgCfg726=r.orgCfg726,e.orgCfg710=r.orgCfg710,e.relatedList=r.relatedList,"9"===r.updateWaybillCfg?(e.$vux.confirm.show({title:"提示",confirmText:"确认",cancelText:"取消",content:"当前企业已关闭修改运单权限！",showCancelButton:!1,onConfirm:function(){Object(k.a)(-1)}}),a()):t()}else e.$vux.toast.text(i.data.reInfo,"middle"),a()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),a()})})},formatterDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),r=e.getHours(),s=e.getMinutes();return t<10&&(t="0"+t),a<10&&(a="0"+a),i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),t+"-"+a+"-"+i+" "+r+":"+s},confirmDate:function(e){this.startTime=this.formatterDate(e),this.showPicker=!1},formatter:function(e,t){return"year"===e?t+"年":"month"===e?t+"月":"day"===e?t+"日":"hour"===e?t+"时":"minute"===e?t+"分":t},chaxunhkb:function(){var e=this;return new m.a(function(t,a){if(11==e.mobileNo.length){var i={mobileNo:e.mobileNo};e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(w.D)(i).then(function(i){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"==i.data.reCode){if("0"!=u()(i.data.result).length){var r=i.data.result;e.nameDisabled=!1,e.isModifyName=0,e.isModifyElements=1,""!=r.driverName&&""!==r.alipayNo&&""!==r.mobileNo?(e.isModifyName=1,e.isModifyElements=0,e.nameDisabled=!0,e.driverName=r.driverName,e.name=r.driverName,e.idCard=r.idCard,e.phoneNumber=r.mobileNo,e.aliNum=r.alipayNo,e.payBankName=r.payBankName,e.payBankNo=r.payBankNo,e.SYSInfo={driverName:r.driverName,name:r.driverName,idCard:r.idCard,phoneNumber:r.mobileNo,aliNum:r.alipayNo,payBankName:r.payBankName,payBankNo:r.payBankNo}):(e.isModifyName=0,e.isModifyElements=1,e.nameDisabled=!1,e.SYSInfo={})}else e.nameDisabled=!1,e.isModifyName=0,e.isModifyElements=0,e.SYSInfo={};t()}a()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),a()})}})},_onblur:function(e){var t=this;console.log(this.mobileNoRawData,this.mobileNo,this.isEleOil),this.mobileNoRawData!==this.mobileNo&&"0"==this.isEleOil&&(this.oilCardNo=""),"8"==this.collectTwoCfg&&"1"==this.advancePayState||"8"!=this.zyCapitalCfg?this.mobileNo!=this.mobileNoRawData&&this.changeReciver():Object(F.setTimeout)(function(){t.onblurNext()},10)},onblurNext:function(){var e=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.chaxunhkb();case 3:e.mobileNo!=e.mobileNoRawData&&e.changeReciver(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,e,[[0,6]])}))()},receiveTypeClick:function(){"8"!=this.zyCapitalCfg||0==this.nameDisabled||"8"!=this.zyCapitalCfg&&"8"==this.hybWalletCfg||"1"==this.advancePayState&&"8"==this.collectTwoCfg||(this.show10=!0)},menuCheck:function(e,t){console.log(t),this.value2=t,"8"==this.zyCapitalCfg&&"好运宝收款"===this.value2&&""!==this.aliNum?this.value1=this.driverName:"8"==this.zyCapitalCfg&&"银行卡收款"===this.value2?this.value1=this.isEmptyStr(this.payName)||this.isEmptyStr(this.payIdCard)||this.isEmptyStr(this.payBankName)||this.isEmptyStr(this.payBankNo)||this.isEmptyStr(this.payMobileNo)?"未填写":this.payName:this.value1="未填写"},arriveBlur:function(){this.arrivePay=(Number(this.userFreight)-Number(this.prepayments)-Number(this.prepaymentsOilCard)-Number(this.backFee)-Number(this.lossFee)+Number(this.freightIncr)).toFixed(2),"NaN"==this.arrivePay&&(this.arrivePay="0.00"),"1"==this.advancePayState&&this.validateBackFee()},validateBackFee:function(){var e=!0;if("8"==this.collectTwoCfg&&"8"==this.collectTwoRecDepositCfg&&"44"==this.orgCfg710&&""!==this.orgCfg726){var t=Number((100*Number(this.orgCfg726)*Number(this.userFreight)/100).toFixed(2));Number(this.backFee)>200&&Number(this.backFee)>t&&(this.$vux1.confirm.show({title:"提示",content:"回单押金不可超过运费金额的"+100*Number(this.orgCfg726)+"%",confirmText:"确认",showCancelButton:!1,onConfirm:function(){},onCancel:function(){},onClose:function(){}}),e=!1)}return e},gotoSelectOilCard:function(e){try{MtaH5.clickStat("modwaybill_oilcard")}catch(e){o()(e)}"2"!==this.payState&&"3"!==this.payState&&"1"!==this.payState&&"6"!==this.payState&&"7"!==this.payState&&this.$router.push({path:"/chooseOilCard",query:{belongActSys:this.belongActSys,prepaymentsOilCard:e,cartBadgeNo:this.cartBadgeNo,driverName:this.driverName,mobileNo:this.mobileNo}})},changeTime:function(e){this.startTime=e},inputBlur:function(){"8"==this.priceInsuranceCfg&&(/^([1-9]\d{0,9})([\.]\d{0,2})?$/.test(this.goodsCost)?this.insFee=Number(this.goodsCost*this.priceInsuranceRate).toFixed(2):this.insFee="0.00"),""==this.goodsCost&&(this.insFee="0.00")},chooseStCity:function(e){return("0"!=e||"5"!==this.startPlaceModifyCfg)&&(("1"!=e||"5"!==this.endCfg)&&void this.$router.push({path:"/chooseCity",query:{type:e}}))},carNumIpt:function(){var e=this.cartBadgeNo;if("2"===this.payState)return!1;var t=this;this.$carIpt({dpCartNum:""!==this.cartBadgeNo&&"请输入车牌号码"!==this.cartBadgeNo?this.cartBadgeNo:"",fn:function(a){t.cartBadgeNo=""===a?"请输入车牌号码":a,console.log(e),console.log(a),e!=a&&0!=t.isEleOil&&(t.oilCardNo=""),e!=a&&t.changeReciver()}})},commonGetMaster:function(){this.$refs.reciver._getCarMasterInfo()},queryWaybillMethod:function(){var e=this;return this.$store.commit("updateLoadingStatus",{isLoading:!0}),new m.a(function(t,a){Object(w.G)(e.taxWaybillId).then(function(a){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),0==a.data.reCode){var i=a.data.result;e.xid=i.xid,e.belongActSys=i.belongActSys,e.startPlaceModifyCfg=i.startPlaceModifyCfg,e.lossInvoiceCfg=i.lossInvoiceCfg,e.endCfg=i.endCfg,e.payState=i.payState,e.taxWaybillNo=i.taxWaybillNo,e.startCityCode=i.startCityId,e.startProvinceCode=i.startProvinceId,e.startCountyCode=i.startCountyId,e.endCityCode=i.endCityId,e.endProvinceCode=i.endProvinceId,e.endCountyCode=i.endCountyId,e.priceInsuranceCfg=i.priceInsuranceCfg,e.goodsCostState=i.goodsCostState,e.insFee=i.insFee,e.priceInsuranceRate=i.priceInsuranceRate,e.goodsCost=i.goodsCost,e.prepaymentsOilCard=i.prepaymentsOilCard,e.oilCardNo=i.oilCardNo,e.zyCapitalCfg=i.zyCapitalCfg,e.hybWalletCfg=i.hybWalletCfg,e.driverFinanceCfg=i.driverFinanceCfg,e.driverFinanceProportionCfg=i.driverFinanceProportionCfg,e.isModifyElements=i.isModifyElements,e.isModifyName=i.isModifyName,e.value3.push(e.startProvinceCode,e.startCityCode,e.startCountyCode),e.value4.push(e.endProvinceCode,e.endCityCode,e.endCountyCode),e.klbState=i.klbState,e.state=i.state,e.stateCfg=i.stateCfg,e.goodsName=i.goodsName,e.goodsAmount=i.goodsAmount,e.goodsAmountType.key=i.goodsAmountType,"0"==i.goodsAmountType?e.goodsAmountType.value="吨":"1"==i.goodsAmountType?e.goodsAmountType.value="方":"2"==i.goodsAmountType?e.goodsAmountType.value="件":e.goodsAmountType.value="车",e.unitPrice=i.unitPrice,e.startTime=i.startTime,new Date(e.startTime.replace(/-/g,"/")).getTime()<(new Date).getTime()?e.timeState=!1:e.timeState=!0,e.transTrip=i.transTrip,1==e.transTrip?e.items1Value=1:e.items1Value=2,e.wbItem=i.wbItem,e.taxDraweePartyId=i.taxDraweePartyId,e.drawee.push(i.drawee),""!=i.carrierProject?(e.carrierProject.push(i.carrierProject),e.carrierProjectShow=!0):e.carrierProjectShow=!1,e.loginState=i.loginState,e.requirement=i.tranRequire,e.cartBadgeNo=i.cartBadgeNo,e.mobileNo=i.mobileNo,e.mobileNoRawData=i.mobileNo,e.driverName=i.driverName,e.driverNameNoRawData=i.driverName,e.carType=i.cartType,e.isEmptyStr(i.cartLength)||(e.carLength=i.cartLength+"米"),e.isEmptyStr(i.cartTonnage)||(e.carTonNumber=i.cartTonnage+"吨"),e.driverMsg=i.driverMsg,e.allFreight=i.allFreight,e.userFreight=i.userFreight,e.lossFee=i.lossFee,e.freightIncr=i.freightIncr,e.prepayments=i.prepayments,e.prepaymentsBuyOil=i.prepaymentsBuyOil,e.prepaymentsBuyGas=i.prepaymentsBuyGas,e.prepaymentsBuyEtc=i.prepaymentsBuyEtc,e.note=i.note,e.backFee=i.backFee,e.deposit=i.deposit,e.promotionFee=i.promotionFee,e.receivablePayback=i.receivablePayback,e.report003Cfg=i.report003Cfg,e.depositCfg=i.depositCfg,e.promotionFeeCfg=i.promotionFeeCfg,e.receivablePaybackCfg=i.receivablePaybackCfg,e.relatedShipper=i.relatedShipper,i.relatedShipper&&0===e.cargoOwner.length&&e.cargoOwner.push(i.relatedShipper),e.depositState=Boolean(!("9"==e.depositCfg&&(""==e.deposit||"0"==Number(e.deposit)))),e.promotionFeeState=Boolean(!("9"==e.promotionFeeCfg&&(""==e.promotionFee||"0"==Number(e.promotionFee)))),e.receivablePaybackState=Boolean(!("9"==e.receivablePaybackCfg&&(""==e.receivablePayback||"0"==Number(e.receivablePayback)))),e.advancePayState=i.advancePayState,e.backFeeState=Boolean(1==e.advancePayState&&8!=e.collectTwoRecDepositCfg&&(0==Number(e.backFee)||""==Number(e.backFee))),e.prepaymentsState=Boolean(1==e.advancePayState&&8!=e.collectTwoPreCashCfg&&(0==Number(e.prepayments)||""==Number(e.prepayments))),e.payName=i.payName,e.payIdCard=i.payIdCard,e.payBankName=i.payBankName,e.payBankNo=i.payBankNo,e.payMobileNo=i.payMobileNo,e.provinceId=i.provinceId,e.cityId=i.cityId,e.alipayNo=i.alipayNo,e.payType=i.payType,e.reciveMsgs={reciveType:i.payType,recivePersonName:i.payName,recivePersonCardNum:i.payIdCard,reciveBank:i.payBankName,recivePersonBankNum:i.payBankNo,recivePersonphoneNum:i.payMobileNo,provinceId:i.provinceId,cityId:i.cityId,reciveBankAdress:i.province?i.province+" "+i.cityName:"",alipayNo:i.alipayNo};var r={type:"reciveMsgPay",updatMsg:g()({},e.reciveMsgs)};e.$store.commit("updateWayBillStatus",r),e.capWalletFalg=i.capWalletFalg,"1"==e.advancePayState&&"8"==e.collectTwoCfg?e.$refs.reciver.init():"8"===e.zyCapitalCfg?e.firstGetFourEle():e.$refs.reciver.init(),e.invoiceState=i.invoiceState,e.confirmState=i.confirmState,e.billCycleMode=i.billCycleMode,e.maxAllFreight=i.maxAllFreight,e.existsAvaibleOilStation=i.existsAvaibleOilStation,e.existsAvaibleEtcStation=i.existsAvaibleEtcStation,e.existsAvaibleGasStation=i.existsAvaibleGasStation,e.oilCardCfg=i.oilCardCfg,e.etcCardCfg=i.etcCardCfg,e.oilCardPayUpperCfg=i.oilCardPayUpperCfg,e.yetBuyOilNotInvoice=i.yetBuyOilNotInvoice,e.yetBuyEtcNotInvoice=i.yetBuyEtcNotInvoice,e.yetBuyGasNotInvoice=i.yetBuyGasNotInvoice,e.yetPrepaymentsBuyOil=i.yetPrepaymentsBuyOil,e.yetPrepaymentsBuyEtc=i.yetPrepaymentsBuyEtc,e.yetPrepaymentsBuyGas=i.yetPrepaymentsBuyGas,e.paidAllFreight=i.paidAllFreight,e.yetLossFee=i.yetLossFee,e.insType=i.insType,e.insState=i.insState,e.freightChangeReasonCfg=i.freightChangeReasonCfg,e.prepaymentsOilCardShow=8==e.oilCardCfg||9==e.oilCardCfg&&0!=Number(e.prepaymentsOilCard),e.prepaymentsBuyOilShow="1"==e.existsAvaibleOilStation||Number(e.prepaymentsBuyOil)>0,e.prepaymentsBuyGasShow="1"==e.existsAvaibleGasStation||Number(e.prepaymentsBuyGas)>0,localStorage.setItem("oldTaxWaybillNo",i.taxWaybillNo),localStorage.setItem("prepaymentsBuyOiled",i.prepaymentsBuyOil),localStorage.setItem("prepaymentsBuyEtced",i.prepaymentsBuyEtc),localStorage.setItem("prepaymentsBuyGased",i.prepaymentsBuyGas),localStorage.setItem("oldStartProvinceCode",e.startProvinceCode),localStorage.setItem("oldStartCityCode",e.startCityCode),localStorage.setItem("oldEndProvinceCode",e.endProvinceCode),localStorage.setItem("oldEndCityCode",e.endCityCode),localStorage.setItem("oldAllFreight",e.userFreight)}else e.$vux.toast.text(a.data.reInfo,"middle");t()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),a()})})},getCarrierProjectMethod:function(){var e=this;return new m.a(function(t,a){e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(w.p)(e.taxDraweePartyId).then(function(a){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.carrierProjectArr=[];var i=a.data.result;if("0"===a.data.reCode)if(i.length>0){for(var r=[],s=0;s<i.length;s++)r.push(i[s].carrierProject);e.carrierProjectArr.push(r),e.carrierProjectState=!0}else e.carrierProjectArr=[],e.carrierProjectState=!1;else e.$vux.toast.text(a.data.reInfo,"middle");t()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),a()})})},queryOilCardTypeMethod:function(){var e=this;return new m.a(function(t,a){e.oilCardNo?(e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(P.g)(e.oilCardNo).then(function(i){e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===i.data.reCode?(e.isEleOil=i.data.result.isEleOil,t()):a()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),a()})):t()})},getSupplyChainState:function(){var e=this;return new m.a(function(t,a){e.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(w.K)().then(function(a){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.supplyChainState=a.data.result.supplyChainState,t()}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),a()})})},firstGetFourEle:function(){var e=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"8"!=e.zyCapitalCfg){t.next=5;break}return t.next=4,e.chaxunhkb();case 4:e.$refs.reciver.init();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$vux.toast.text(t.t0,"middle");case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},clickConfirm:function(){var e=this;return d()(l.a.mark(function t(){var a,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{MtaH5.clickStat("modwaybill_xiugai")}catch(e){o()(e)}if("1"!=e.advancePayState){t.next=4;break}if(e.validateBackFee()){t.next=4;break}return t.abrupt("return",!1);case 4:if(e.taxWaybillNo=e.trim(e.taxWaybillNo),!e.isEmptyStr(e.taxWaybillNo)){t.next=10;break}return e.$vux.toast.text("运单号不能为空！","middle"),t.abrupt("return",!1);case 10:if(/^[0-9a-zA-Z_-]+$/.test(e.taxWaybillNo)){t.next=14;break}return e.$vux.toast.text("运单号只接受数字,字母,_与 -,不接受特殊字符！","middle"),t.abrupt("return",!1);case 14:if(e.isEmptyStr(e.startProvinceCode)||e.isEmptyStr(e.endProvinceCode)){t.next=24;break}return t.next=17,e.checkCountry();case 17:if("1"!=(a=t.sent)){t.next=21;break}return e.$vux.toast.text("同城运输区县必填！","middle"),t.abrupt("return",!1);case 21:if("2"!=a){t.next=24;break}return e.$vux.toast.text("验证同城运输区县是否必填异常，请稍后重试！","middle"),t.abrupt("return",!1);case 24:if(!e.isEmptyStr(e.trim(e.goodsName))){t.next=27;break}return e.$vux.toast.text("货物名称不能为空！","middle"),t.abrupt("return",!1);case 27:if(!e.isEmptyStr(e.trim(e.goodsAmount))){t.next=32;break}return e.$vux.toast.text("货物数量不能为空！","middle"),t.abrupt("return",!1);case 32:if(void 0,("0"==e.goodsAmountType.key?/^([1-9]\d{0,6}|0)([\.]\d{0,4})?$/:/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/).test(e.goodsAmount)){t.next=37;break}return e.$vux.toast.text("无效的货物数量！","middle"),t.abrupt("return",!1);case 37:if(e.isEmptyStr(e.trim(e.unitPrice))){t.next=41;break}if(e.Reg.test(e.unitPrice)){t.next=41;break}return e.$vux.alert.show({title:"提示",content:"无效的运输金额！"}),t.abrupt("return",!1);case 41:if("8"!=e.billCycleMode||2!=e.items1Value){t.next=51;break}if(/^[1-9]\d{0,2}$/.test(e.transTrip)){t.next=48;break}return e.$vux.toast.text("无效的趟次！","middle"),t.abrupt("return",!1);case 48:if(!(e.transTrip<=1)){t.next=51;break}return e.$vux.toast.text("运输趟次为多趟时，趟次必须大于1！","middle"),t.abrupt("return",!1);case 51:if(3!=e.businessItems){t.next=56;break}if(e.wbItem=e.trim(e.wbItem),!e.isEmptyStr(e.wbItem)){t.next=56;break}return e.$vux.toast.text("业务项目不能为空！","middle"),t.abrupt("return",!1);case 56:if(0!=e.loginState||"0"!=e.drawee.length){t.next=59;break}return e.$vux.toast.text("受票方必填！","middle"),t.abrupt("return");case 59:if("2"==e.report003Cfg&&"0"==e.carrierProject.length&&0==e.carrierProjectShow||0!=e.carrierProject.length){t.next=62;break}return e.$vux.toast.text("承运项目必填！","middle"),t.abrupt("return");case 62:if(/^1\d{10}$/.test(e.mobileNo)){t.next=66;break}return e.$vux.toast.text("司机手机号码输入错误","middle"),t.abrupt("return",!1);case 66:if(e.isEmptyStr(e.driverName)||!(e.trim(e.driverName).length>=64)){t.next=69;break}return e.$vux.toast.text("司机姓名长度最大不可以超过64个字符！","middle"),t.abrupt("return");case 69:if(e.isEmptyStr(e.userFreight)){t.next=76;break}if(e.Reg.test(e.userFreight)){t.next=73;break}return e.$vux.alert.show({title:"提示",content:"运费金额不合法！"}),t.abrupt("return",!1);case 73:Number(e.userFreight)>Number(e.maxAllFreight)&&e.$vux.alert.show({title:"提示",content:"运费金额不能超过最大运费金额！"}),t.next=78;break;case 76:return e.$vux.alert.show({title:"提示",content:"运费金额不能为空！"}),t.abrupt("return",!1);case 78:if(e.isEmptyStr(e.prepaymentsOilCard)){t.next=92;break}if(e.prepaymentsOilCard=e.trim(e.prepaymentsOilCard),/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(e.prepaymentsOilCard)){t.next=86;break}return e.$vux.alert.show({title:"提示",content:"无效的预付油卡金额！"}),t.abrupt("return",!1);case 86:if(!(Number(e.prepaymentsOilCard)>Number(e.maxAllFreight))){t.next=89;break}return e.$vux.alert.show({title:"提示",content:"预付油卡金额不能超过最大金额！"}),t.abrupt("return",!1);case 89:if(!Number(e.prepaymentsOilCard)||""!=e.oilCardNo){t.next=92;break}return e.$vux1.confirm.show({title:"提示",content:"<p style='color:#454545;'>当前运单存在预付油卡</p><p style='color:#454545;'>请选择油卡!</p>",confirmText:"选择油卡",cancelText:"保存",onConfirm:function(){try{MtaH5.clickStat("modwaybill_alertchoosecard")}catch(e){o()(e)}e.$router.push({path:"/chooseOilCard",query:{belongActSys:e.belongActSys,prepaymentsOilCard:e.prepaymentsOilCard,cartBadgeNo:e.cartBadgeNo,driverName:e.driverName,mobileNo:e.mobileNo}})},onCancel:function(){try{MtaH5.clickStat("modwaybill_alertbuildensure")}catch(e){o()(e)}return 0!=e.driverFinanceJudge()&&(e.taxWaybillNo!=localStorage.getItem("oldTaxWaybillNo")?e.waybillRepeatCheck(e.taxWaybillNo):e.checkFee(),!1)}}),t.abrupt("return",!1);case 92:if(8!=e.priceInsuranceCfg||0!=e.goodsCostState){t.next=103;break}if(i=/^([1-9]\d{0,9})([\.]\d{0,2})?$/,e.goodsCost=e.trim(e.goodsCost),e.isEmptyStr(e.goodsCost)){t.next=101;break}if(i.test(e.goodsCost)){t.next=99;break}return e.$vux.toast.text("货值输入不合法！","middle"),t.abrupt("return",!1);case 99:t.next=103;break;case 101:return e.$vux.alert.show({title:"提示",content:'企业已开通"保价运输"请输入此次运输货值！'}),t.abrupt("return",!1);case 103:if(e.isEmptyStr(e.lossFee)){t.next=107;break}if(e.Reg.test(e.lossFee)){t.next=107;break}return e.$vux.alert.show({title:"提示",content:"无效的运费扣减金额！"}),t.abrupt("return",!1);case 107:if(e.isEmptyStr(e.freightIncr)){t.next=111;break}if(e.Reg.test(e.freightIncr)){t.next=111;break}return e.$vux.alert.show({title:"提示",content:"无效的运费增补金额！"}),t.abrupt("return",!1);case 111:if(e.isEmptyStr(e.prepayments)){t.next=121;break}if(e.Reg.test(e.prepayments)){t.next=115;break}return e.$vux.alert.show({title:"提示",content:"无效的预付现金！"}),t.abrupt("return",!1);case 115:if(!(Number(e.prepayments)>Number(e.userFreight))){t.next=118;break}return e.$vux.alert.show({title:"提示",content:"预付现金不能大于运费金额！"}),t.abrupt("return",!1);case 118:if(!(Number(e.prepayments)>Number(e.maxAllFreight))){t.next=121;break}return e.$vux.alert.show({title:"提示",content:"预付现金不能超过最大金额！"}),t.abrupt("return",!1);case 121:if(!("1"==e.existsAvaibleOilStation||e.prepaymentsBuyOil>"0")){t.next=126;break}if(e.isEmptyStr(e.prepaymentsBuyOil)){t.next=126;break}if(e.Reg.test(e.prepaymentsBuyOil)){t.next=126;break}return e.$vux.alert.show({title:"提示",content:"无效的线下油款金额！"}),t.abrupt("return",!1);case 126:if(!("1"==e.existsAvaibleGasStation||e.prepaymentsBuyGas>"0")){t.next=131;break}if(e.isEmptyStr(e.prepaymentsBuyGas)){t.next=131;break}if(e.Reg.test(e.prepaymentsBuyGas)){t.next=131;break}return e.$vux.alert.show({title:"提示",content:"无效的线下气款金额！"}),t.abrupt("return",!1);case 131:if(!("1"==e.existsAvaibleEtcStation||e.prepaymentsBuyEtc>"0")){t.next=136;break}if(e.isEmptyStr(e.prepaymentsBuyEtc)){t.next=136;break}if(e.Reg.test(e.prepaymentsBuyEtc)){t.next=136;break}return e.$vux.alert.show({title:"提示",content:"无效的线下路桥费金额！"}),t.abrupt("return",!1);case 136:if(e.isEmptyStr(e.backFee)){t.next=146;break}if(e.Reg.test(e.backFee)){t.next=140;break}return e.$vux.alert.show({title:"提示",content:"无效的回单押金！"}),t.abrupt("return",!1);case 140:if(!(Number(e.backFee)>Number(e.userFreight))){t.next=143;break}return e.$vux.alert.show({title:"提示",content:"回单押金不能大于运费金额！"}),t.abrupt("return",!1);case 143:if(!(Number(e.backFee)>Number(e.maxAllFreight))){t.next=146;break}return e.$vux.alert.show({title:"提示",content:"回单押金不能超过最大金额！"}),t.abrupt("return",!1);case 146:if(e.isEmptyStr(e.deposit)){t.next=150;break}if(e.Reg.test(e.deposit)){t.next=150;break}return e.$vux.alert.show({title:"提示",content:"无效的定金！"}),t.abrupt("return",!1);case 150:if(e.isEmptyStr(e.promotionFee)){t.next=154;break}if(e.Reg.test(e.promotionFee)){t.next=154;break}return e.$vux.alert.show({title:"提示",content:"无效的推广费！"}),t.abrupt("return",!1);case 154:if(e.isEmptyStr(e.receivablePayback)){t.next=158;break}if(e.Reg.test(e.receivablePayback)){t.next=158;break}return e.$vux.alert.show({title:"提示",content:"无效的应收回款！"}),t.abrupt("return",!1);case 158:if(e.isEmptyStr(e.userFreight)){t.next=163;break}if(!(/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(e.userFreight)&&Number(e.userFreight)>Number(e.maxAllFreight))){t.next=163;break}return e.$vux.alert.show({title:"提示",content:"运费金额不能超过最大运费金额！"}),t.abrupt("return",!1);case 163:if(0!=e.driverFinanceJudge()){t.next=165;break}return t.abrupt("return",!1);case 165:e.taxWaybillNo!=localStorage.getItem("oldTaxWaybillNo")?(e.buttonFlag=!1,Object(F.setTimeout)(function(){e.waybillRepeatCheck(e.taxWaybillNo)},20)):e.checkFee();case 166:case"end":return t.stop()}},t,e)}))()},waybillRepeatCheck:function(e){var t=this;Object(w.Q)(e).then(function(e){1==e.data.reCode?t.$vux.toast.text(e.data.reInfo,"middle"):t.checkFee(),t.buttonFlag=!0}).catch(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.$vux.toast.text(e.message,"middle"),t.buttonFlag=!0})},checkFee:function(){var e,t=this,a=localStorage.getItem("prepaymentsBuyOiled"),i=localStorage.getItem("prepaymentsBuyEtced"),r=localStorage.getItem("prepaymentsBuyGased");if(this.isEmptyStr(this.userFreight)&&(this.userFreight=0),this.isEmptyStr(this.prepayments)&&(this.prepayments=0),this.isEmptyStr(this.prepaymentsBuyOil)&&(this.prepaymentsBuyOil=0),this.isEmptyStr(this.prepaymentsBuyGas)&&(this.prepaymentsBuyGas=0),this.isEmptyStr(this.prepaymentsBuyEtc)&&(this.prepaymentsBuyEtc=0),this.isEmptyStr(this.backFee)&&(this.backFee=0),this.isEmptyStr(this.freightIncr)&&(this.freightIncr=0),this.isEmptyStr(this.lossFee)&&(this.lossFee=0),this.isEmptyStr(this.yetBuyOilNotInvoice)&&(this.yetBuyOilNotInvoice=0),this.isEmptyStr(this.yetBuyEtcNotInvoice)&&(this.yetBuyEtcNotInvoice=0),this.isEmptyStr(this.yetBuyGasNotInvoice)&&(this.yetBuyGasNotInvoice=0),this.isEmptyStr(this.yetPrepaymentsBuyOil)&&(this.yetPrepaymentsBuyOil=0),this.isEmptyStr(this.yetPrepaymentsBuyEtc)&&(this.yetPrepaymentsBuyEtc=0),this.isEmptyStr(this.yetPrepaymentsBuyGas)&&(this.yetPrepaymentsBuyGas=0),this.d(this.f(this.userFreight,this.lossFee),this.freightIncr)<=0)return this.$vux.alert.show({title:"提示",content:"请确认，运费金额加运费增补减货损必须大于0。"}),!1;if(9==this.oilCardCfg&&Object(x.c)(this.prepaymentsBuyOil,Object(x.b)(this.d(this.d(this.f(this.userFreight,this.lossFee),this.freightIncr),this.prepaymentsBuyOil),this.oilCardPayUpperCfg))>0)return this.$vux.alert.show({title:"提示",content:"请确认，线下油款金额不能大于设置的上限！"}),!1;if(Object(x.c)(Object(x.a)(Object(x.c)(this.prepaymentsBuyOil,a),this.yetPrepaymentsBuyOil),this.yetBuyOilNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下油款不能大于累计购油未开票余额"}),!1;if(Object(x.c)(Object(x.a)(Object(x.c)(this.prepaymentsBuyEtc,i),this.yetPrepaymentsBuyEtc),this.yetBuyEtcNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下路桥费不能大于累计路桥费未开票余额"}),!1;if(Object(x.c)(Object(x.a)(Object(x.c)(this.prepaymentsBuyGas,r),this.yetPrepaymentsBuyGas),this.yetBuyGasNotInvoice)>0)return this.$vux.alert.show({title:"提示",content:"请确认，企业累计线下气款不能大于累计气款未开票余额"}),!1;if(this.d(this.f(this.userFreight,this.lossFee),this.freightIncr)<this.d(this.paidAllFreight,0))return this.$vux.alert.show({title:"提示",content:"请确认，运费金额加运费增补减货损必须大于等于已付运费。"}),!1;if(e="13"==this.lossInvoiceCfg?this.d(this.userFreight,this.freightIncr):this.d(this.f(this.userFreight,this.lossFee),this.freightIncr),this.lossFee=this.lossFee.toString(),Number(e)==Number(this.paidAllFreight)&&"13"==this.lossInvoiceCfg&&(""==this.yetLossFee&&this.lossFee>0||""!=this.yetLossFee&&this.f(this.yetLossFee,this.lossFee)<0))return this.$vux.alert.show({title:"提示",content:"预付货损未完成支付，不能修改运费金额等于已支付金额！"}),!1;if(this.d(this.prepaymentsEtcCard,this.d(this.prepaymentsOilCard,this.d(this.prepayments,this.backFee)))>this.d(this.f(this.userFreight,this.lossFee),this.freightIncr))return"8"!=this.oilCardCfg&&"0.00"==this.prepaymentsOilCarded||"8"!=this.etcCardCfg&&"0.00"==this.prepaymentsEtcCarded?"8"!=this.oilCardCfg&&"0.00"==this.prepaymentsOilCarded||"9"!=this.etcCardCfg||"0.00"!=this.prepaymentsEtcCarded?"9"!=this.oilCardCfg||"0.00"!=this.prepaymentsOilCarded||"8"!=this.etcCardCfg&&"0.00"==this.prepaymentsEtcCarded?this.$vux.alert.show({title:"提示",content:"请确认，预付现金加上回单押金必须要小于等于运费金额加上增补减去货损。"}):this.$vux.alert.show({title:"提示",content:"请确认，预付ETC加上预付现金加上回单押金必须要小于等于运费金额加上增补减去货损。"}):this.$vux.alert.show({title:"提示",content:"请确认，预付油卡加上预付现金加上回单押金必须要小于等于运费金额加上增补减去货损。"}):this.$vux.alert.show({title:"提示",content:"请确认，预付油卡加上预付ETC加上预付现金加上回单押金必须要小于等于运费金额加上增补减去货损。"}),!1;if(this.isEmptyStr(this.startProvinceCode)||this.isEmptyStr(this.endProvinceCode)||this.isEmptyStr(this.startCityCode)||this.isEmptyStr(this.endCityCode)||this.isEmptyStr(this.userFreight))this.$vux.toast.text("城市数据异常~","middle");else{var s={fromProvId:this.startProvinceCode,toProvId:this.endProvinceCode,fromCityId:this.startCityCode,toCityId:this.endCityCode,allFreight:this.userFreight};this.buttonFlag=!1,Object(w.e)(s).then(function(e){t.buttonFlag=!0,"0"==e.data.reCode?t.sub():"1"==e.data.reCode?t.$vux1.confirm.show({title:"提示",confirmText:"确认",cancelText:"取消",content:e.data.reInfo,onConfirm:function(){t.sub()}}):t.$vux.toast.text("抱歉,您录入的数据不合法,请核实后重试！","middle")}).catch(function(e){t.buttonFlag=!0,t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.$vux.toast.text(e.message,"middle")})}},sub:function(){var e=this,t=localStorage.getItem("oldStartProvinceCode"),a=localStorage.getItem("oldStartCityCode"),i=localStorage.getItem("oldEndProvinceCode"),r=localStorage.getItem("oldEndCityCode"),s=localStorage.getItem("oldAllFreight");localStorage.getItem("startValue"),localStorage.getItem("endValue");"12"!=this.insType||"0"==this.insState||t==this.startProvinceCode&&a==this.startCityCode&&i==this.endProvinceCode&&r==this.endCityCode&&parseFloat(s).toFixed(2)==parseFloat(this.userFreight).toFixed(2)?this.submit():this.$vux1.confirm.show({title:"提示",confirmText:"确认",cancelText:"取消",content:"修改起始地、目的地、运费会对已投保的保单保费产生变化，如您确定修改以上内容，后台将自动进行退保！",onConfirm:function(){e.submit()}})},submit:function(){var e="1"===window.sessionStorage.isChooseType?this.reciveMsgPay.reciveBank:this.payBankName,t=this,a=localStorage.getItem("oldAllFreight");1==this.freightChangeReasonCfg&&Number(this.userFreight)!==Number(a)?this.$vux.confirm.prompt("请输入修改原因",{title:"请输入修改原因",onConfirm:function(a){t.msg=a;var i=/^\s+$/g;if(""==a||i.test(a)||null==a)return t.$vux.toast.text("运费金额修改原因必填！","middle"),!1;if(""!=a&&!i.test(a)&&null!=a){if(a.length>=120)return t.$vux.toast.text("输入内容超过限制，请修改重试！","middle"),!1;"好运宝钱包"==e||"车队钱包"==e?t.oilCardCheck():t.informationEntry()}}}):"好运宝钱包"==e||"车队钱包"==e?this.oilCardCheck():this.informationEntry()},informationEntry:function(){var e=this,t={mobileNo:this.mobileNo,payeeBankNo:this.reciveMsgPay.recivePersonBankNum,payeeName:this.reciveMsgPay.recivePersonName,payeeBankName:this.reciveMsgPay.reciveBank,payeeProvinceId:this.reciveMsgPay.provinceId,payeeCityId:this.reciveMsgPay.cityId,payeeIdCard:this.reciveMsgPay.recivePersonCardNum,payeeMobileNo:this.reciveMsgPay.recivePersonphoneNum,alipayNo:this.reciveMsgPay.alipayNo};""!=t.mobileNo&&""!=t.payeeBankNo&&""!=t.payeeName&&""!=t.payeeBankName&&""!=t.payeeProvinceId&&""!=t.payeeCityId&&""!=t.payeeIdCard&&""!=t.payeeMobileNo?(this.$store.commit("updateLoadingStatus",{isLoading:!0}),this.buttonFlag=!1,Object(I.i)(t).then(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.oilCardCheck()}).catch(function(t){e.buttonFlag=!0,e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")})):this.oilCardCheck()},oilCardCheck:function(){var e=this;if(8==this.oilCardCfg||9==this.oilCardCfg&&"0"!=Number(this.prepaymentsOilCard)){var t={prepaymentsOilCard:""==this.prepaymentsOilCard?"0.00":this.prepaymentsOilCard,cartBadgeNo:this.cartBadgeNo,belongActSys:this.belongActSys,oilCardNo:""==this.prepaymentsOilCard||"0"==Number(this.prepaymentsOilCard)?"":this.oilCardNo};this.buttonFlag=!1,Object(P.d)(t).then(function(t){"0"==t.data.reCode?e.sendMessage():(e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.alert.show({title:"提示",buttonText:"知道了",content:t.data.reInfo}),e.buttonFlag=!0)}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle"),e.buttonFlag=!1})}else this.sendMessage()},sendMessage:function(){var e=this;this.$store.commit("updateLoadingStatus",{isLoading:!0});var t={xid:this.xid,taxWaybillId:this.taxWaybillId,taxWaybillNo:this.taxWaybillNo,startProvinceId:this.startProvinceCode,startCityId:this.startCityCode,startCountyId:this.startCountyCode,endProvinceId:this.endProvinceCode,endCityId:this.endCityCode,endCountyId:this.endCountyCode,driverName:this.driverName,cartBadgeNo:this.cartBadgeNo,transTrip:8==this.billCycleMode?this.transTrip:"",goodsName:this.goodsName,goodsAmount:this.goodsAmount,goodsAmountType:this.goodsAmountType.key,unitPrice:this.isEmptyStr(this.unitPrice)?"0.00":this.unitPrice,userFreight:this.userFreight,wbItem:this.wbItem,drawee:0==this.loginState?this.drawee[0]:"",prepayments:this.isEmptyStr(this.prepayments)?"0.00":this.prepayments,backFee:this.isEmptyStr(this.backFee)?"0.00":this.backFee,freightIncr:this.isEmptyStr(this.freightIncr)?"0.00":this.freightIncr,prepaymentsBuyOil:this.isEmptyStr(this.prepaymentsBuyOil)?"0.00":this.prepaymentsBuyOil,prepaymentsBuyEtc:this.isEmptyStr(this.prepaymentsBuyEtc)?"0.00":this.prepaymentsBuyEtc,prepaymentsBuyGas:this.isEmptyStr(this.prepaymentsBuyGas)?"0.00":this.prepaymentsBuyGas,lossFee:this.isEmptyStr(this.lossFee)?"0.00":this.lossFee,taxDraweePartyId:0==this.loginState?this.taxDraweePartyId:"",freightChangeReason:this.msg,note:this.note,tranRequire:this.requirement,klbState:this.klbState,mobileNo:this.mobileNo,cartType:this.carType,cartLength:parseFloat(this.carLength),cartTonnage:parseFloat(this.carTonNumber),stateCfg:this.stateCfg,payType:"",hkbPayeeType:"",payName:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"===this.zyCapitalCfg&&"好运宝收款"==i?this.name:"1"==window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonName:"未填写"==this.value1?"":this.payName,payIdCard:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?this.idCard:"1"==window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonCardNum:"未填写"==this.value1?"":this.payIdCard,payBankName:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?this.payBankName:"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"浙江网商银行":this.reciveMsgPay.reciveBank:"未填写"==this.value1?"":this.payBankName,payBankNo:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?this.payBankNo:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonBankNum:"未填写"==this.value1?"":this.payBankNo,payMobileNo:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?this.phoneNumber:"1"===window.sessionStorage.isChooseType?this.reciveMsgPay.recivePersonphoneNum:"未填写"==this.value1?"":this.payMobileNo,provinceId:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?"":"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"7":this.reciveMsgPay.provinceId:"未填写"==this.value1?"":this.provinceId,cityId:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?"":"1"===window.sessionStorage.isChooseType?"好运宝钱包"==this.reciveMsgPay.reciveBank?"701":this.reciveMsgPay.cityId:"未填写"==this.value1?"":this.cityId,oilCardNo:""==this.prepaymentsOilCard||"0"==Number(this.prepaymentsOilCard)?"":this.oilCardNo,prepaymentsOilCard:""==this.prepaymentsOilCard?"0.00":this.prepaymentsOilCard,goodsCost:this.goodsCost,alipayNo:"1"==this.advancePayState&&"8"==this.collectTwoCfg?"":"8"==this.zyCapitalCfg&&"好运宝收款"==i?this.aliNum:"1"==window.sessionStorage.isChooseType?this.reciveMsgPay.alipayNo:"未填写"==this.value1?"":this.alipayNo,startTime:this.startTime,carrierProject:this.carrierProject[0],deposit:9!=this.depositCfg||0!=Number(this.deposit)&&""!=this.deposit?"8"==this.depositCfg&&""==this.deposit?"0.00":this.deposit:"",promotionFee:"9"!=this.promotionFeeCfg||""!=this.promotionFee&&"0"!=Number(this.promotionFee)?"8"==this.promotionFeeCfg&&""==this.promotionFee?"0.00":this.promotionFee:"",receivablePayback:"9"!=this.receivablePaybackCfg||""!=this.receivablePayback&&"0"!=Number(this.receivablePayback)?"8"==this.receivablePaybackCfg&&""==this.receivablePayback?"0.00":this.receivablePayback:"",relatedShipper:this.cargoOwner.length>0?this.cargoOwner[0]:""},a="1"==this.advancePayState&&"8"==this.collectTwoCfg?"1":"0",i=this.$refs.reciver.getReciveType(),s={};this.carTeamInfo.payeeBankNo?s={payName:this.carTeamInfo.payeeName,payIdCard:this.carTeamInfo.payeeIdCard,payBankName:this.carTeamInfo.payeeBankName,payBankNo:this.carTeamInfo.payeeBankNo,payMobileNo:this.carTeamInfo.mobileNo,provinceId:this.carTeamInfo.payeeProvinceId,cityId:this.carTeamInfo.payeeCityId,alipayNo:this.carTeamInfo.alipayNo}:"1"==this.advancePayState&&"8"==this.collectTwoCfg?s={payName:"",payIdCard:"",payBankName:"",payBankNo:"",payMobileNo:"",provinceId:"",cityId:"",alipayNo:""}:"8"===this.zyCapitalCfg&&"好运宝收款"==i?s={payName:this.name,payIdCard:this.idCard,payBankName:this.payBankName,payBankNo:this.payBankNo,payMobileNo:this.phoneNumber,provinceId:"",cityId:"",alipayNo:this.aliNum}:(s={payName:this.reciveMsgPay.recivePersonName,payIdCard:this.reciveMsgPay.recivePersonCardNum,payBankName:this.reciveMsgPay.reciveBank,payBankNo:this.reciveMsgPay.recivePersonBankNum,payMobileNo:this.reciveMsgPay.recivePersonphoneNum,provinceId:this.reciveMsgPay.provinceId,cityId:this.reciveMsgPay.cityId,alipayNo:this.reciveMsgPay.alipayNo},this.reciveMsgPay.reciveBank instanceof Array&&(s.payBankName=""),this.reciveMsgPay.reciveBankAdress instanceof Array&&(s.reciveBankAdress=""),"好运宝钱包"==this.reciveMsgPay.reciveBank&&(s.payBankName="浙江网商银行",s.provinceId="7",s.cityId="701")),r()(t,s);var o={reciveType:i,recivePersonName:t.payName,driverName:t.driverName,advancePayState:a,zyCapitalCfg:this.zyCapitalCfg},n=Object(L.a)(o),l=n.payType,c=n.hkbPayeeType;t.payType=l,t.hkbPayeeType=c,this.buttonFlag=!1,Object(w.H)(t).then(function(t){if(e.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"==t.data.reCode){e.$vux.toast.text(t.data.reInfo,"middle");var a={taxWaybillId:e.taxWaybillId,type:"3",content:{taxWaybillNo:e.taxWaybillNo,userFreight:e.userFreight+"元",lossFee:e.lossFee,backFee:e.backFee,freightIncr:e.freightIncr,prepayments:e.prepayments,cartBadgeNo:e.cartBadgeNo,driverName:e.driverName,mobileNo:e.mobileNo,goodsName:e.goodsName,goodsAmount:e.goodsAmount+e.goodsAmountType.value,note:e.note,startPlace:t.data.result.startPlace,endPlace:t.data.result.endPlace,supplyChainLogo:"8"==e.supplyChainState&&Number(e.prepaymentsOilCard)>0?1:0}};console.log("====AppUpdateWaybillData========",a),Object(k.g)(a),Object(F.setTimeout)(function(){"1"===e.$route.query.type?e.$router.replace({path:"/waybillDetail",query:{taxWaybillId:e.taxWaybillId,xid:e.xid}}):e.$router.go(-1),e.buttonFlag=!0},1500)}else e.$vux.alert.show({title:"提示",buttonText:"知道了",content:t.data.reInfo}),e.buttonFlag=!0}).catch(function(t){e.buttonFlag=!0,e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")})},checkCountry:function(){var e=this;return new m.a(function(t,a){var i=e.startProvinceCode,r=e.startCityCode,s=e.endCityCode,o=e.startCountyCode,n=e.endCountyCode;e.$store.commit("updateLoadingStatus",{isLoading:!0});Object(w.d)(i,r,s,o,n).then(function(a){e.$store.commit("updateLoadingStatus",{isLoading:!1}),t(a.data.reCode)}).catch(function(a){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(a.message,"middle"),t("1")})})},startValue:function(){var e=this.value3;this.startProvinceCode=e[0],this.startCityCode=e[1],this.startCountyCode=e[2]},endValue:function(){var e=this.value4;this.endProvinceCode=e[0],this.endCityCode=e[1],this.endCountyCode=e[2]},changeType:function(e){this.items1Value=e,1==e||""==e?(this.src2=this.src3,this.src1=this.src4,this.transTrip=1):(this.src1=this.src3,this.src2=this.src4)},taxDraweeChange:function(e){if(this.drawee=[],this.drawee=e,void 0!=this.list3[0])for(var t=0;t<this.list3[0].length;t++)this.list3[0][t]==e[0]&&(this.taxDraweePartyId=this.taxDraweePartyIdArr[t])},hideDrawee:function(e){1==e&&this.getCarrierProject(this.taxDraweePartyId)},showDrawee:function(){var e=this;this.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(w.r)({}).then(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1});var a=t.data.result;if(a.length>0)if(0==t.data.reCode){e.list3=[];for(var i=[],r=0;r<a.length;r++)e.taxDraweePartyIdArr.push(a[r].taxDraweePartyId),i.push(a[r].drawee);e.list3.push(i)}else e.$vux.toast.text(t.data.reInfo,"middle")}).catch(function(t){e.$store.commit("updateLoadingStatus",{isLoading:!1}),e.$vux.toast.text(t.message,"middle")})},showCargoOwner:function(){this.relatedList&&this.relatedList.length>0&&this.cargoOwnerArr.push(this.relatedList),0===this.relatedList.length&&this.relatedShipper&&this.cargoOwnerArr.push([this.relatedShipper])},getCarrierProject:function(e){var t=this;"2"==this.report003Cfg&&"0"==this.carrierProject.length&&0==this.carrierProjectShow||Object(w.p)(e).then(function(e){if(t.carrierProjectArr=[],"0"===e.data.reCode){var a=e.data.result;if(a.length>0){for(var i=[],r=0;r<a.length;r++)i.push(a[r].carrierProject);t.carrierProjectArr.push(i),"2"==t.report003Cfg&&"0"==i.length?t.carrierProjectShow=!1:t.carrierProjectShow=!0,console.log(t.carrierProjectShow),t.carrierProject=[],t.carrierProjectState=!0}else t.carrierProjectArr=[],t.carrierProject=[],t.carrierProjectState=!1}else t.$vux.toast.text(e.data.reInfo,"middle")}).catch(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.$vux.toast.text(e.message,"middle")})},carTypeBtn:function(e,t){"menu4"!=e?this.carType=t:this.show15=!0},cartTypeBtn:function(){if(-1===this.activeFlag3)return this.$vux.toast.text("请选择车型~~~","middle"),!1;this.show15=!1,this.carType=this.cartType[this.activeFlag3].type},carLongBtn:function(){if(-1===this.activeFlag){if(""==this.carLen)return this.$vux.toast.text("请选择你需要的车长~~~","middle"),!1;this.show2=!1;return/^\d+(\.\d{1,2})?$/.test(this.carLen)?(this.carLength=this.carLen+"米",!1):(this.$vux.toast.text("输入的车长不符合规则~~~","middle"),!1)}this.show2=!1,this.carLength=this.carLongList[this.activeFlag].cartAttr+"米"},carTonBtn:function(){if(-1===this.activeFlag1){if(""==this.carTon)return this.$vux.toast.text("请选择你需要的车吨位~~~","middle"),!1;this.show3=!1;return/^\d+(\.\d{1,2})?$/.test(this.carTon)?(this.carTonNumber=this.carTon+"吨",!1):(this.$vux.toast.text("输入的吨位不符合规则~~~","middle"),!1)}this.show3=!1,this.carTonNumber=this.carTonList[this.activeFlag1].cartAttr+"吨"},receiveBill:function(){try{MtaH5.clickStat("modifywaybill_webrecivemsg")}catch(e){o()(e)}"8"!==this.collectTwoCfg||"1"!==this.advancePayState?"8"===this.zyCapitalCfg&&"好运宝收款"==this.value2?this.$router.push({path:"/webReciveMsg2",query:{driverName:this.name,idCard:this.idCard,mobileNo:this.phoneNumber,alipayNo:this.aliNum}}):this.$router.push("/webReciveMsg"):"46"==this.collectionFlagCfg&&this.$router.push({path:"/carMasterReceiveMsg",query:{collectionFlagCfg:this.collectionFlagCfg,mobileNo:this.mobileNo,payeeName:this.payName?this.payName:this.driverName,driverName:this.driverName,cartBadgeNo:this.cartBadgeNo}})},showOrHide:function(e){this.showControl[e]?this.$set(this.showControl,e,0):this.$set(this.showControl,e,1)},trim:function(e){return e.toString().replace(/\s/g,"")},isEmptyStr:function(e){return!(void 0!=e&&""!=e&&null!=e&&!/^[\s]*$/.test(e))},f:function(e,t){var a,i,r;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return r=Math.pow(10,Math.max(a,i)),parseFloat(((e*r-t*r)/r).toFixed(a>=i?a:i))},d:function(e,t){var a,i,r;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return r=Math.pow(10,Math.max(a,i)),parseFloat(((e*r+t*r)/r).toFixed(Math.max(a,i)))},driverFinanceJudge:function(){if("8"!=this.driverFinanceCfg)return!0;var e=parseFloat(this.oilCardPayUpperCfg*this.userFreight).toFixed(2),t=parseFloat(this.driverFinanceProportionCfg*this.userFreight).toFixed(2);return Number(this.prepaymentsOilCard)>e?(this.$vux.alert.show({title:"提示",content:"您输入的预付油卡金额超过运费的"+this.toPercent(this.oilCardPayUpperCfg)+"，请重新输入！"}),!1):Number(this.lossFee)>0||Number(this.freightIncr)>0||(1==Number(this.driverFinanceProportionCfg)||(this.isEmptyStr(this.backFee)||Number(this.backFee)<="0"?(this.$vux.alert.show({title:"提示",content:"请输入回单押金！"}),!1):Number(this.arrivePay)>t?(this.$vux.alert.show({title:"提示",content:"您输入的到付款&回单押金金额不合规，请重新输入！"}),!1):Number(this.arrivePay)<="0"?(this.$vux.alert.show({title:"提示",content:"到付金额必须大于0！"}),!1):void 0))},changeReciver:function(){this.$refs.reciver.changeReciver()},driverNameChange:function(e){console.log(e,this.driverNameNoRawData),e!=this.driverNameNoRawData&&this.changeReciver()},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%"}}}),R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modify-waybill"},[i("c-header",[i("x-header",{attrs:{"left-options":{backText:""}}},[e._v("修改运单")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.loadingFlag,expression:"loadingFlag === true"}]},[i("group",{staticClass:"group1",attrs:{"label-width":"6.5em","label-align":"right"}},[i("cell",{attrs:{title:"运单信息"},nativeOn:{click:function(t){return e.showOrHide(0)}}},[i("span",{staticClass:"show-or-hide"},[i("img",{staticClass:"img-icon img2",class:{shouQi:0===e.showControl[0],zhanKai:1===e.showControl[0]},attrs:{src:a("tYQO"),alt:"",width:"15",height:"15"}})]),e._v(" "),i("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[i("span",{staticStyle:{"vertical-align":"middle",color:"#121212"}},[e._v("运单信息")])])]),e._v(" "),i("transition",{attrs:{name:"mybox"}},[i("div",{staticClass:"slide",class:{animate:1===e.showControl[0]}},[i("x-input",{attrs:{title:"运 单 号：",max:128},model:{value:e.taxWaybillNo,callback:function(t){e.taxWaybillNo=t},expression:"taxWaybillNo"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("运 单 号：")])])]),e._v(" "),i("popup-picker",{attrs:{title:"始发城市：",data:e.cityList,columns:3,"show-name":"",disabled:""},on:{"on-hide":e.startValue},nativeOn:{click:function(t){return e.chooseStCity(0)}},scopedSlots:e._u([{key:"title",fn:function(t){return[i("span",{class:t.labelClass,staticStyle:{height:"24px"},style:t.labelStyle},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("始发城市：")])])]}}]),model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}}),e._v(" "),i("popup-picker",{attrs:{title:"目的城市：",data:e.cityList,columns:3,"show-name":"",disabled:""},on:{"on-hide":e.endValue},nativeOn:{click:function(t){return e.chooseStCity(1)}},scopedSlots:e._u([{key:"title",fn:function(t){return[i("span",{class:t.labelClass,staticStyle:{height:"24px"},style:t.labelStyle},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("目的城市：")])])]}}]),model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}}),e._v(" "),i("x-input",{attrs:{title:"货物名称：",type:"text"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货物名称：")])])]),e._v(" "),i("x-input",{attrs:{title:"货物数量：","show-clear":!1,type:"number"},model:{value:e.goodsAmount,callback:function(t){e.goodsAmount=t},expression:"goodsAmount"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货物数量：")])]),e._v(" "),i("div",{attrs:{slot:"right"},slot:"right"},[i("checker",{attrs:{"default-item-class":"demo2-item","selected-item-class":"demo2-item-selected","radio-required":""},model:{value:e.goodsAmountType,callback:function(t){e.goodsAmountType=t},expression:"goodsAmountType"}},e._l(e.items2,function(t,a){return i("checker-item",{key:a,attrs:{value:t}},[e._v(e._s(t.value))])}),1)],1)]),e._v(" "),i("x-input",{attrs:{title:"运输单价：",type:"number"},model:{value:e.unitPrice,callback:function(t){e.unitPrice=t},expression:"unitPrice"}}),e._v(" "),i("x-input",{attrs:{title:"起运时间：",placeholder:"请填写预计发车时间",type:"text",readonly:!0},nativeOn:{click:function(t){e.timeState&&"1"!=e.state&&"2"!=e.state&&"1"!=e.klbState&&(e.showPicker=!0)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[e.timeState&&"1"!=e.state&&"2"!=e.state&&"1"!=e.klbState?i("div",{attrs:{slot:"right"},slot:"right"},[i("i",{staticClass:"iconfont iconarr-right"})]):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"8"==this.billCycleMode,expression:"this.billCycleMode == '8'"}],staticClass:"weui-cell"},[i("checker",{attrs:{"default-item-class":"demo1-item","selected-item-class":"demo1-item-selected","radio-required":""},on:{"on-change":e.changeType},model:{value:e.items1Value,callback:function(t){e.items1Value=t},expression:"items1Value"}},[i("checker-item",{staticStyle:{"margin-left":"1em"},attrs:{value:"1"}},[i("img",{staticClass:"img2",staticStyle:{"vertical-align":"middle"},attrs:{src:e.src1,alt:"",width:"15",height:"15"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle","margin-left":"0.5em"}},[e._v("单趟")])]),e._v(" "),i("checker-item",{staticStyle:{"margin-left":"1em"},attrs:{value:"2"}},[i("img",{staticClass:"img2",staticStyle:{"vertical-align":"middle"},attrs:{src:e.src2,alt:"",width:"15",height:"15"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle","margin-left":"0.5em"}},[e._v("多趟")])])],1),e._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:2==e.items1Value,expression:"items1Value == 2"}],attrs:{for:""}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.transTrip,expression:"transTrip"}],staticClass:"input-sty",attrs:{pattern:"\\d*"},domProps:{value:e.transTrip},on:{input:function(t){t.target.composing||(e.transTrip=t.target.value)}}}),e._v("  \n              "),i("span",[e._v("趟")])])],1),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:"3"==e.businessItems||"38"==e.businessItems,expression:"businessItems == '3' || businessItems == '38'"}],attrs:{title:"业务项目："},model:{value:e.wbItem,callback:function(t){e.wbItem=t},expression:"wbItem"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"3"==e.businessItems,expression:"businessItems == '3'"}],staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("业务项目：")])])]),e._v(" "),i("popup-picker",{directives:[{name:"show",rawName:"v-show",value:"0"==e.loginState,expression:"loginState == '0'"}],attrs:{title:"受票方：",data:e.list3},on:{"on-change":e.taxDraweeChange,"on-hide":e.hideDrawee,"on-show":e.showDrawee},scopedSlots:e._u([{key:"title",fn:function(t){return[i("span",{class:t.labelClass,staticStyle:{height:"24px"},style:t.labelStyle},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("受票方：")])])]}}]),model:{value:e.drawee,callback:function(t){e.drawee=t},expression:"drawee"}}),e._v(" "),i("popup-picker",{directives:[{name:"show",rawName:"v-show",value:e.relatedShipper||e.relatedList&&e.relatedList.length>0,expression:"relatedShipper ||  relatedList && relatedList.length > 0"}],attrs:{title:"选择货主：",data:e.cargoOwnerArr,placeholder:"请选择货主"},on:{"~on-show":function(t){return e.showCargoOwner(t)}},model:{value:e.cargoOwner,callback:function(t){e.cargoOwner=t},expression:"cargoOwner"}}),e._v(" "),i("popup-picker",{directives:[{name:"show",rawName:"v-show",value:!("2"==this.report003Cfg&&"0"==this.carrierProject.length&&0==this.carrierProjectShow),expression:"!(this.report003Cfg == '2' && this.carrierProject.length == '0' && this.carrierProjectShow == false)"}],attrs:{title:"承运项目：",data:e.carrierProjectArr,placeholder:"请选择",disabled:!e.carrierProjectState},scopedSlots:e._u([{key:"title",fn:function(t){return[i("span",{class:t.labelClass,staticStyle:{height:"24px"},style:t.labelStyle},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("承运项目：")])])]}}]),model:{value:e.carrierProject,callback:function(t){e.carrierProject=t},expression:"carrierProject"}}),e._v(" "),i("x-textarea",{attrs:{title:"运输要求：",placeholder:"请输入您对本次运输的要求",max:64},model:{value:e.requirement,callback:function(t){e.requirement=t},expression:"requirement"}})],1)])],1),e._v(" "),i("group",{staticClass:"group2",attrs:{"label-width":"6.5em","label-align":"right"}},[i("cell",{attrs:{title:"承运信息"},nativeOn:{click:function(t){return e.showOrHide(1)}}},[i("span",{staticClass:"show-or-hide"},[i("img",{staticClass:"img-icon img2",class:{shouQi:0===e.showControl[1],zhanKai:1===e.showControl[1]},attrs:{src:a("tYQO"),alt:"",width:"15",height:"15"}})]),e._v(" "),i("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[i("span",{staticStyle:{"vertical-align":"middle",color:"#121212"}},[e._v("承运信息")])])]),e._v(" "),i("transition",{attrs:{name:"mybox"}},[i("div",{staticClass:"slide",class:{animate:1===e.showControl[1]}},[i("cell",[i("span",{attrs:{slot:"icon"},slot:"icon"},[i("img",{staticClass:"img3",staticStyle:{float:"left","margin-right":"8px"},attrs:{src:a("TQL8"),alt:"",width:"20",height:"20"}}),e._v(" "),i("p",{staticStyle:{"font-size":"14px",color:"#FFBA00"}},[e._v("为保证运输协议规范有效，请务必准确填写司机手机号和司机姓名。协议生成后不可修改！!")])])]),e._v(" "),i("x-input",{attrs:{title:"司机手机：",disabled:"1"===e.driverMsg,"is-type":"china-mobile",max:11,type:"tel"},on:{"on-blur":function(t){return e._onblur()}},model:{value:e.mobileNo,callback:function(t){e.mobileNo="string"==typeof t?t.trim():t},expression:"mobileNo"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("司机手机：")])])]),e._v(" "),i("x-input",{attrs:{title:"司机姓名：",disabled:"1"===e.driverMsg||Boolean(Number(this.isModifyName))||e.nameDisabled,type:"text",max:64},on:{"on-blur":e.driverNameChange},model:{value:e.driverName,callback:function(t){e.driverName="string"==typeof t?t.trim():t},expression:"driverName"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("司机姓名：")])])]),e._v(" "),i("cell",{attrs:{title:"车牌号码：","value-align":"left","is-link":"",type:"text"},nativeOn:{click:function(t){return e.carNumIpt(t)}}},[i("span",{class:{"not-active":"2"===e.payState}},[e._v(e._s(e.cartBadgeNo))]),e._v(" "),i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"title"},slot:"title"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("车牌号码：")])])]),e._v(" "),i("cell",{attrs:{"value-align":"left","is-link":""},nativeOn:{click:function(t){e.show1=!0}}},[i("span",[e._v(e._s(e.carType))]),e._v(" "),i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"title"},slot:"title"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("车      型：")])])]),e._v(" "),i("cell",{attrs:{"value-align":"left","is-link":""},nativeOn:{click:function(t){e.show2=!0}}},[i("span",[e._v(e._s(e.carLength))]),e._v(" "),i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"title"},slot:"title"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("车长(米)：")])])]),e._v(" "),i("cell",{attrs:{"value-align":"left","is-link":""},nativeOn:{click:function(t){e.show3=!0}}},[i("span",[e._v(e._s(e.carTonNumber))]),e._v(" "),i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"title"},slot:"title"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("吨位(吨)：")])])]),e._v(" "),i("x-textarea",{attrs:{title:"备注：",placeholder:"请填写备注信息",max:64},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.menus1},on:{"on-click-menu":e.carTypeBtn},model:{value:e.show1,callback:function(t){e.show1=t},expression:"show1"}}),e._v(" "),i("popup",{attrs:{position:"bottom"},model:{value:e.show15,callback:function(t){e.show15=t},expression:"show15"}},[i("popup-header",{attrs:{"left-text":"取消","right-text":"确定",title:"更多车型"},on:{"on-click-left":function(t){e.show15=!1},"on-click-right":function(t){return e.cartTypeBtn()}}}),e._v(" "),i("div",{staticClass:"car-msg-choose"},e._l(e.cartType,function(t,a,r){return i("div",{key:r,staticClass:"car-choose-btn",class:{"choose-btn-active":e.activeFlag3===a},on:{click:function(t){e.activeFlag3=a}}},[e._v(e._s(t.type))])}),0)],1),e._v(" "),i("popup",{attrs:{position:"bottom","max-height":"80%"},model:{value:e.show2,callback:function(t){e.show2=t},expression:"show2"}},[i("popup-header",{attrs:{"left-text":"取消","right-text":"确定",title:"请选择车长(米)"},on:{"on-click-left":function(t){e.show2=!1},"on-click-right":function(t){return e.carLongBtn()}}}),e._v(" "),i("div",{staticClass:"car-msg-choose"},e._l(e.carLongList,function(t,a,r){return i("div",{key:r,staticClass:"car-choose-btn",class:{"choose-btn-active":e.activeFlag===a},on:{click:function(t){e.activeFlag=a}}},[e._v(e._s(t.cartAttr)+"米")])}),0),e._v(" "),i("div",{staticClass:"self-ipt"},[i("span",[e._v("其他：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.carLen,expression:"carLen"}],attrs:{type:"number",placeholder:"请输入车长"},domProps:{value:e.carLen},on:{click:function(t){e.activeFlag=-1},input:function(t){t.target.composing||(e.carLen=t.target.value)}}}),e._v(" "),i("span",[e._v("米")])])],1),e._v(" "),i("popup",{attrs:{position:"bottom","max-height":"80%"},model:{value:e.show3,callback:function(t){e.show3=t},expression:"show3"}},[i("popup-header",{attrs:{"left-text":"取消","right-text":"确定",title:"请选择车吨位(吨)"},on:{"on-click-left":function(t){e.show3=!1},"on-click-right":function(t){return e.carTonBtn()}}}),e._v(" "),i("div",{staticClass:"car-msg-choose"},e._l(e.carTonList,function(t,a,r){return i("div",{key:r,staticClass:"car-choose-btn",class:{"choose-btn-active":e.activeFlag1===a},on:{click:function(t){e.activeFlag1=a}}},[e._v(e._s(t.cartAttr)+"吨")])}),0),e._v(" "),i("div",{staticClass:"self-ipt"},[i("span",[e._v("其他：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.carTon,expression:"carTon"}],attrs:{type:"number",placeholder:"请输入吨位"},domProps:{value:e.carTon},on:{click:function(t){e.activeFlag1=-1},input:function(t){t.target.composing||(e.carTon=t.target.value)}}}),e._v(" "),i("span",[e._v("吨")])])],1)],1)])],1),e._v(" "),i("group",{staticClass:"group3",attrs:{"label-width":"6.5em","label-align":"right"}},[i("cell",{attrs:{title:"结算信息"},nativeOn:{click:function(t){return e.showOrHide(2)}}},[i("span",{staticClass:"show-or-hide"},[i("img",{staticClass:"img-icon img2",class:{shouQi:0===e.showControl[2],zhanKai:1===e.showControl[2]},attrs:{src:a("tYQO"),alt:"",width:"15",height:"15"}})]),e._v(" "),i("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[i("span",{staticStyle:{"vertical-align":"middle",color:"#121212"}},[e._v("结算信息")])])]),e._v(" "),i("transition",{attrs:{name:"mybox"}},[i("div",{staticClass:"slide",class:{animate:1===e.showControl[2]}},[i("cell",{directives:[{name:"show",rawName:"v-show",value:e.advancePayState&&"8"==e.collectTwoCfg,expression:"advancePayState && collectTwoCfg == '8'"}],attrs:{title:"付款方式：","value-align":"left"}},["1"==e.advancePayState?i("span",{attrs:{slot:"value"},slot:"value"},[e._v("供应链金融 (结算保障)")]):i("span",{attrs:{slot:"value"},slot:"value"},[e._v("企业自付")])]),e._v(" "),i("x-input",{attrs:{title:"运费金额：",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState,type:"number"},on:{"on-blur":e.arriveBlur},model:{value:e.userFreight,callback:function(t){e.userFreight="string"==typeof t?t.trim():t},expression:"userFreight"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("运费金额：")])])]),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.prepaymentsOilCardShow,expression:"prepaymentsOilCardShow"}],ref:"oilcardVal",attrs:{title:"预付油卡：",placeholder:"请填写预付油卡",type:"number",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsOilCard,callback:function(t){e.prepaymentsOilCard="string"==typeof t?t.trim():t},expression:"prepaymentsOilCard"}}),e._v(" "),i("cell",{directives:[{name:"show",rawName:"v-show",value:""!=e.prepaymentsOilCard&&0!=e.prepaymentsOilCard&&/^([1-9]\d{0,6}|0)([\.]\d{0,2})?$/.test(e.prepaymentsOilCard),expression:"prepaymentsOilCard != '' && prepaymentsOilCard != 0 && /^([1-9]\\d{0,6}|0)([\\.]\\d{0,2})?$/.test(prepaymentsOilCard)"}],attrs:{title:"油卡卡号：","is-link":"",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState},nativeOn:{click:function(t){return e.gotoSelectOilCard(e.prepaymentsOilCard)}},model:{value:e.oilCardNo,callback:function(t){e.oilCardNo="string"==typeof t?t.trim():t},expression:"oilCardNo"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:""==e.oilCardNo,expression:"oilCardNo == ''"}],staticStyle:{color:"#757575","text-align":"left"},attrs:{slot:"value"},slot:"value"},[e._v("请选择卡号")])]),e._v(" "),"8"==e.priceInsuranceCfg?i("x-input",{attrs:{title:"货值：",type:"number",placeholder:"请填写实际货值","show-clear":!1,disabled:"1"==e.goodsCostState},on:{"on-blur":function(t){return e.inputBlur()}},model:{value:e.goodsCost,callback:function(t){e.goodsCost="string"==typeof t?t.trim():t},expression:"goodsCost"}},[i("div",{staticStyle:{"text-align":"right",width:"6.5em"},attrs:{slot:"label"},slot:"label"},[i("img",{staticClass:"img1",staticStyle:{"font-size":"20px","vertical-align":"middle"},attrs:{src:e.bitian,alt:"",width:"8",height:"8"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v("货值：")])])]):e._e(),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:"8"==e.priceInsuranceCfg,expression:"priceInsuranceCfg == '8'"}],attrs:{title:"保价费：",placeholder:"请填写保价费",type:"number",value:e.insFee,disabled:""}}),e._v(" "),i("x-input",{attrs:{title:"运费扣减：",type:"number",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState||"1"===e.confirmState},on:{"on-blur":e.arriveBlur},model:{value:e.lossFee,callback:function(t){e.lossFee="string"==typeof t?t.trim():t},expression:"lossFee"}}),e._v(" "),i("x-input",{attrs:{title:"运费增补：",type:"number",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState||"1"===e.confirmState},on:{"on-blur":e.arriveBlur},model:{value:e.freightIncr,callback:function(t){e.freightIncr="string"==typeof t?t.trim():t},expression:"freightIncr"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:!e.prepaymentsState,expression:"!prepaymentsState"}],attrs:{title:"预付现金：",type:"number",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState||"1"===e.confirmState},on:{"on-blur":e.arriveBlur},model:{value:e.prepayments,callback:function(t){e.prepayments="string"==typeof t?t.trim():t},expression:"prepayments"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.prepaymentsBuyOilShow,expression:"prepaymentsBuyOilShow"}],attrs:{title:"线下油款：",type:"number","show-clear":!1},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyOil,callback:function(t){e.prepaymentsBuyOil="string"==typeof t?t.trim():t},expression:"prepaymentsBuyOil"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.prepaymentsBuyGasShow,expression:"prepaymentsBuyGasShow"}],attrs:{title:"线下气款：",type:"number","show-clear":!1},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyGas,callback:function(t){e.prepaymentsBuyGas="string"==typeof t?t.trim():t},expression:"prepaymentsBuyGas"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:"1"==e.existsAvaibleOilStation||Number(e.prepaymentsBuyEtc)>0,expression:"existsAvaibleOilStation == '1' || Number(prepaymentsBuyEtc) > 0"}],attrs:{title:"线下路桥费：",type:"number","show-clear":!1},on:{"on-blur":e.arriveBlur},model:{value:e.prepaymentsBuyEtc,callback:function(t){e.prepaymentsBuyEtc="string"==typeof t?t.trim():t},expression:"prepaymentsBuyEtc"}}),e._v(" "),i("x-input",{attrs:{type:"number",title:"到付金额：",disabled:""},on:{"on-blur":e.arriveBlur},model:{value:e.arrivePay,callback:function(t){e.arrivePay="string"==typeof t?t.trim():t},expression:"arrivePay"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:!e.backFeeState,expression:"!backFeeState"}],attrs:{title:"回单押金：",disabled:"2"===e.payState||"3"===e.payState||"1"===e.payState||"6"===e.payState||"7"===e.payState||"1"===e.confirmState,type:"number"},on:{"on-blur":e.arriveBlur},model:{value:e.backFee,callback:function(t){e.backFee="string"==typeof t?t.trim():t},expression:"backFee"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.depositState,expression:"depositState"}],attrs:{title:"定金：",type:"number",placeholder:"请填写定金"},model:{value:e.deposit,callback:function(t){e.deposit="string"==typeof t?t.trim():t},expression:"deposit"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.promotionFeeState,expression:"promotionFeeState"}],attrs:{title:"推广费：",type:"number",placeholder:"请填写推广费"},model:{value:e.promotionFee,callback:function(t){e.promotionFee="string"==typeof t?t.trim():t},expression:"promotionFee"}}),e._v(" "),i("x-input",{directives:[{name:"show",rawName:"v-show",value:e.receivablePaybackState,expression:"receivablePaybackState"}],attrs:{title:"应收回款：",type:"number",placeholder:"请填写应收回款"},model:{value:e.receivablePayback,callback:function(t){e.receivablePayback="string"==typeof t?t.trim():t},expression:"receivablePayback"}})],1)])],1),e._v(" "),i("div",{staticClass:"footer",staticStyle:{height:"10px"}}),e._v(" "),i("ReciveComponent",{ref:"reciver",attrs:{advancePayState:e.advancePayState,SYSInfo:e.SYSInfo,cartBadgeNo:e.cartBadgeNo,driverName:e.driverName,mobileNo:e.mobileNo,payName:e.payName,capWalletFalg:e.capWalletFalg}}),e._v(" "),i("div",{staticClass:"footer",staticStyle:{height:"5rem"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.buttonshow,expression:"buttonshow"}],staticClass:"button"},[i("x-button",{attrs:{type:"primary",disabled:!e.buttonFlag},nativeOn:{click:function(t){return e.clickConfirm(t)}}},[e._v("保存")])],1)],1),e._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("van-datetime-picker",{attrs:{type:"datetime","min-date":e.startDate,formatter:e.formatter},on:{confirm:e.confirmDate,cancel:function(t){e.showPicker=!1}}})],1)],1)},staticRenderFns:[]};var j=a("C7Lr")(E,R,!1,function(e){a("eIgN")},null,null);t.default=j.exports},xsTr:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var i=a("RwS/"),r=function(e){var t=e.reciveType,a=void 0===t?"":t,r=e.recivePersonName,s=void 0===r?"":r,o=e.driverName,n=void 0===o?"":o,l=e.advancePayState,c=void 0===l?"0":l,d=e.zyCapitalCfg,h="",u="";return"0"===c?"8"===(void 0===d?"9":d)?(h=s==n?"1":"0",a==i.a?(h="1",u="1"):""==a?(h="",u=""):u="0"):(h=s==n?"1":"0",u="0"):"1"===c&&(h=s==n?"1":"0",u="0"),{payType:h,hkbPayeeType:u}}}});