webpackJsonp([29],{"+d0w":function(t,e){t.exports="data:image/png;base64,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"},"/eDh":function(t,e){},g65w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),o=a.n(i),r=a("Hh+s"),s={name:"chooseOilCard",data:function(){return{show:!1,belongActSys:this.$route.query.belongActSys,cartBadgeNo:"",driverName:"",mobileNo:"",prepaymentsOilCard:this.$route.query.prepaymentsOilCard,cardList:[],chooseOilCardItem:{},showyouka:!1}},beforeRouteEnter:function(t,e,a){"settlementInfo"==e.name?a(function(t){t.cartBadgeNo=t.weyBillSecond.cartBadgeNo,t.driverName=t.weyBillSecond.driverName,t.mobileNo=t.weyBillSecond.mobileNo}):"modifyWaybill"==e.name?a(function(t){t.cartBadgeNo=t.$route.query.cartBadgeNo,t.driverName=t.$route.query.driverName,t.mobileNo=t.$route.query.mobileNo}):"wbsApplyPay"==e.name?a(function(t){t.cartBadgeNo=t.$route.query.cartBadgeNo,t.driverName=t.$route.query.driverName,t.mobileNo=t.$route.query.mobileNo}):"addOilCard"==e.name?a(function(t){t.cartBadgeNo=window.localStorage.getItem("cartBadgeNo"),t.driverName=window.localStorage.getItem("driverName"),t.mobileNo=window.localStorage.getItem("mobileNo"),window.localStorage.removeItem("cartBadgeNo"),window.localStorage.removeItem("driverName"),window.localStorage.removeItem("mobileNo")}):a(function(t){t.cartBadgeNo=t.$route.query.cartBadgeNo,t.driverName=t.$route.query.driverName,t.mobileNo=t.$route.query.mobileNo})},beforeRouteLeave:function(t,e,a){if("modifyWaybill"==t.name||"settlementInfo"==t.name||"wbsApplyPay"==t.name||"bigCompareModifyWaybill"==t.name){var i={type:"chooseOilCardItem",updatMsg:this.chooseOilCardItem};this.$store.commit("updateOildCardStatus",i)}a()},computed:{weyBillSecond:function(){return this.$store.state.wayBill.weyBillSecond}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.dataInit()})},methods:{dataInit:function(){var t=this;Object(r.h)(this.belongActSys,this.cartBadgeNo,this.mobileNo).then(function(e){if(t.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"===e.data.reCode)if(t.cardList=e.data.result.list,"0"!=t.cardList.length){var a=[];t.cardList.forEach(function(t){a.push(t.oilBigType)}),a.indexOf("4")>-1?t.showyouka=!1:t.showyouka=!0}else t.showyouka=!0;else t.$vux.toast.text(e.data.reInfo,"middle");t.show=!0}).catch(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.show=!0,t.$vux.toast.text("网络异常，请稍后再试~~~","middle")})},newAddCard:function(){try{MtaH5.clickStat("chooseoilcard_bindcard")}catch(t){o()(t)}this.$router.push({path:"/addOilCard",query:{prepaymentsOilCard:this.prepaymentsOilCard,cartBadgeNo:this.cartBadgeNo,belongActSys:this.belongActSys,driverName:this.driverName,mobileNo:this.mobileNo}})},useCardConfirm:function(t){var e=this;"0"===t.isUseEleOil&&"4"===t.oilBigType?this.$vux1.confirm.show({title:"确认使用",content:"<p style='text-align:left;font-size:16px;font-family:PingFang-SC-Bold;font-weight:bold;color:rgba(69,69,69,1);'>路歌电子油卡</p><p style='text-align:left;font-size:16px;font-family:PingFang-SC-Medium;font-weight:500;color:rgba(255,186,0,1);'>请提醒司机去指定站点加油!</p>",confirmText:"确认",cancelText:"取消",onConfirm:function(){e.useCard(t)},onCancel:function(){}}):this.useCard(t)},useCardConfirm1:function(){var t=this;""!=this.driverName&&void 0!=this.driverName?(this.$store.commit("updateLoadingStatus",{isLoading:!0}),Object(r.f)(this.mobileNo,this.driverName).then(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),"0"==e.data.reCode?(window.localStorage.setItem("oilCardNo",e.data.result.oilCardNo),t.chooseOilCardItem={oilBigType:"4",oilCardNo:e.data.result.oilCardNo},t.$router.go(-1)):t.$vux1.confirm.show({title:"确认使用",content:e.data.reInfo,confirmText:"确认",cancelText:"取消",onConfirm:function(){},onCancel:function(){}})}).catch(function(e){t.$store.commit("updateLoadingStatus",{isLoading:!1}),t.$vux.toast.text("网络异常，请稍后再试~~~","middle")})):this.$vux.toast.text("司机姓名不能为空！","middle")},useCard:function(t){try{MtaH5.clickStat("chooseoilcard_usecard")}catch(t){o()(t)}window.localStorage.setItem("oilCardNo",t.oilCardNo),this.chooseOilCardItem=t,this.$router.go(-1)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"choose-oil-card"},[i("c-header",[i("x-header",{attrs:{"left-options":{backText:""}}},[t._v("选择油卡")])],1),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.show,expression:"show == true"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.cardList.length&&!this.showyouka,expression:"cardList.length == 0 && !this.showyouka"}],staticClass:"default"},[i("img",{attrs:{src:a("mrG+"),alt:"",width:"100"}}),t._v(" "),i("p",[t._v("该车辆当前无油卡支付记录！")]),t._v(" "),i("p",[t._v("请去新增油卡~~")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.cardList.length&&this.showyouka,expression:"cardList.length == 0 && this.showyouka"}]},[i("div",{staticClass:"title-warn"},[t._v("*提醒司机在“好运宝-个人中心-我的油卡”查看使用油卡")]),t._v(" "),i("div",{staticClass:"card-box"},[i("div",{staticClass:"card card3"},[t._m(0),t._v(" "),i("div",{staticClass:"right"},[i("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.useCardConfirm1()}}},[t._v("使用")])],1)])])]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.cardList.length,expression:"cardList.length != 0"}]},[i("div",{staticClass:"title-warn"},[t._v("*提醒司机在“好运宝-个人中心-我的油卡”查看使用油卡")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showyouka,expression:"showyouka"}],staticClass:"card-box"},[i("div",{staticClass:"card card3"},[t._m(1),t._v(" "),i("div",{staticClass:"right"},[i("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.useCardConfirm1()}}},[t._v("使用")])],1)])]),t._v(" "),i("div",{staticClass:"card-box"},t._l(t.cardList,function(e,o){return i("div",{key:o,staticClass:"card",class:"4"==e.oilBigType?"card3":"2"==e.oilBgType?"card1":"card2"},[i("div",{staticClass:"left"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"0"==e.isSelfOrg,expression:"item.isSelfOrg == '0'"}]},[i("img",{staticStyle:{width:"50px",position:"absolute",left:"-10px",top:"-20px"},attrs:{src:a("+d0w"),alt:""}}),t._v(" "),i("p",{staticStyle:{position:"absolute",top:"-20px",left:"-7px","font-size":"12px","letter-spacing":"2px"}},[t._v("本企业")])]),t._v(" "),i("div",["4"==e.oilBigType?i("img",{staticClass:"luge-icon",attrs:{src:a("yaPp"),alt:""}}):t._e(),t._v("\n              "+t._s(e.oilTypeName)+"\n            ")]),t._v(" "),i("div",{staticClass:"cardNum"},[t._v(t._s(e.oilCardNo))])]),t._v(" "),i("div",{staticClass:"right"},[i("x-button",{attrs:{type:"primary"},nativeOn:{click:function(a){return t.useCardConfirm(e)}}},[t._v("使用")])],1)])}),0)]),t._v(" "),i("div",{staticClass:"footer"}),t._v(" "),i("div",{staticClass:"button"},[i("x-button",{staticClass:"newAddCard",attrs:{type:"primary"},nativeOn:{click:function(e){return t.newAddCard()}}},[t._v("绑定油卡")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("div",[e("img",{staticClass:"luge-icon",attrs:{src:a("yaPp"),alt:""}}),this._v("电子油卡\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("div",[e("img",{staticClass:"luge-icon",attrs:{src:a("yaPp"),alt:""}}),this._v("电子油卡\n            ")])])}]};var c=a("C7Lr")(s,n,!1,function(t){a("/eDh")},null,null);e.default=c.exports},"mrG+":function(t,e,a){t.exports=a.p+"V3.29.1/img/wuyoukajilu_icon@2x.bede2b7.png"},yaPp:function(t,e,a){t.exports=a.p+"V3.29.1/img/lugelogo_img@2x.4fe1105.png"}});